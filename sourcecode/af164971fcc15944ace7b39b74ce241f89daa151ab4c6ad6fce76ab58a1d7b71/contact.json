{
  "address": "0xed04f07af76779372061ff2be3bbfb81a338fdce",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "ZeroCache",
  "compilerVersion": "v0.4.25+commit.59dbf8f1",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-04-19\n*/\n\npragma solidity ^0.4.25;\n\n/*******************************************************************************\n *\n * Copyright (c) 2019 Decentralization Authority MDAO.\n * Released under the MIT License.\n *\n * ZeroCache - AmTrust (First Edition)\n * \n *             -----------------------------------------------------------------\n * \n *             !!! WARNING WARNING WARNING !!!\n *             !!! THIS IS HIGHLY EXPERIMENTAL SOFTWARE !!!\n *             !!! USE AT YOUR OWN RISK !!!\n *             \n *             -----------------------------------------------------------------\n *             \n *             Our team at D14na has been hard at work over the Crypto Winter;\n *             and we are very proud to announce the premier release of a still\n *             experimental, but really fun and social new way to \"Do Crypto!\"\n * \n *             TL;DR\n *             -----\n * \n *             A meta-currency / smart wallet built for the purpose of promoting \n *             and supporting the core economic needs of the Zeronet community:\n *                 1. Electronic Commerce\n *                 2. Zite Monetization\n *                 3. Wealth Management\n * \n *             ALL transactions are guaranteed by Solidty contracts managed by a \n *             growing community of federated nodes.\n * \n *             For more information, please visit: \n *             https://zerocache.info\n *\n * Version 19.4.19\n *\n * https://d14na.org\n * [emailÂ protected]\n */\n\n\n/*******************************************************************************\n *\n * SafeMath\n */\nlibrary SafeMath {\n    function add(uint a, uint b) internal pure returns (uint c) {\n        c = a + b;\n        require(c >= a);\n    }\n    function sub(uint a, uint b) internal pure returns (uint c) {\n        require(b <= a);\n        c = a - b;\n    }\n    function mul(uint a, uint b) internal pure returns (uint c) {\n        c = a * b;\n        require(a == 0 || c / a == b);\n    }\n    function div(uint a, uint b) internal pure returns (uint c) {\n        require(b > 0);\n        c = a / b;\n    }\n}\n\n\n/*******************************************************************************\n *\n * ECRecovery\n *\n * Contract function to validate signature of pre-approved token transfers.\n * (borrowed from LavaWallet)\n */\ncontract ECRecovery {\n    function recover(bytes32 hash, bytes sig) public pure returns (address);\n}\n\n\n/*******************************************************************************\n *\n * ERC Token Standard #20 Interface\n * https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20-token-standard.md\n */\ncontract ERC20Interface {\n    function totalSupply() public constant returns (uint);\n    function balanceOf(address tokenOwner) public constant returns (uint balance);\n    function allowance(address tokenOwner, address spender) public constant returns (uint remaining);\n    function transfer(address to, uint tokens) public returns (bool success);\n    function approve(address spender, uint tokens) public returns (bool success);\n    function transferFrom(address from, address to, uint tokens) public returns (bool success);\n\n    event Transfer(address indexed from, address indexed to, uint tokens);\n    event Approval(address indexed tokenOwner, address indexed spender, uint tokens);\n}\n\n\n/*******************************************************************************\n *\n * ApproveAndCallFallBack\n *\n * Contract function to receive approval and execute function in one call\n * (borrowed from MiniMeToken)\n */\ncontract ApproveAndCallFallBack {\n    function approveAndCall(address spender, uint tokens, bytes data) public;\n    function receiveApproval(address from, uint256 tokens, address token, bytes data) public;\n}\n\n\n/*******************************************************************************\n *\n * Owned contract\n */\ncontract Owned {\n    address public owner;\n    address public newOwner;\n\n    event OwnershipTransferred(address indexed _from, address indexed _to);\n\n    constructor() public {\n        owner = msg.sender;\n    }\n\n    modifier onlyOwner {\n        require(msg.sender == owner);\n        _;\n    }\n\n    function transferOwnership(address _newOwner) public onlyOwner {\n        newOwner = _newOwner;\n    }\n\n    function acceptOwnership() public {\n        require(msg.sender == newOwner);\n\n        emit OwnershipTransferred(owner, newOwner);\n\n        owner = newOwner;\n\n        newOwner = address(0);\n    }\n}\n\n\n/*******************************************************************************\n * \n * Zer0netDb Interface\n */\ncontract Zer0netDbInterface {\n    /* Interface getters. */\n    function getAddress(bytes32 _key) external view returns (address);\n    function getBool(bytes32 _key)    external view returns (bool);\n    function getBytes(bytes32 _key)   external view returns (bytes);\n    function getInt(bytes32 _key)     external view returns (int);\n    function getString(bytes32 _key)  external view returns (string);\n    function getUint(bytes32 _key)    external view returns (uint);\n\n    /* Interface setters. */\n    function setAddress(bytes32 _key, address _value) external;\n    function setBool(bytes32 _key, bool _value) external;\n    function setBytes(bytes32 _key, bytes _value) external;\n    function setInt(bytes32 _key, int _value) external;\n    function setString(bytes32 _key, string _value) external;\n    function setUint(bytes32 _key, uint _value) external;\n\n    /* Interface deletes. */\n    function deleteAddress(bytes32 _key) external;\n    function deleteBool(bytes32 _key) external;\n    function deleteBytes(bytes32 _key) external;\n    function deleteInt(bytes32 _key) external;\n    function deleteString(bytes32 _key) external;\n    function deleteUint(bytes32 _key) external;\n}\n\n\n/*******************************************************************************\n *\n * Wrapped ETH (WETH) Interface\n */\ncontract WETHInterface {\n    function() public payable;\n    function deposit() public payable ;\n    function withdraw(uint wad) public;\n    function totalSupply() public view returns (uint);\n    function approve(address guy, uint wad) public returns (bool);\n    function transfer(address dst, uint wad) public returns (bool);\n    function transferFrom(address src, address dst, uint wad) public returns (bool);\n\n    event Approval(address indexed src, address indexed guy, uint wad);\n    event Transfer(address indexed src, address indexed dst, uint wad);\n    event Deposit(address indexed dst, uint wad);\n    event Withdrawal(address indexed src, uint wad);\n}\n\n\n/*******************************************************************************\n *\n * ERC-165 Interface\n */\ncontract ERC165 {\n    function supportsInterface(bytes4 interfaceID) external view returns (bool);\n}\n\n\n/*******************************************************************************\n *\n * ERC-1155 Interface\n */\n// TODO Add interface functions\n//      (see https://github.com/enjin/erc-1155/blob/master/contracts/IERC1155.sol)\n//      (and https://blog.enjincoin.io/erc-1155-the-crypto-item-standard-ac9cf1c5a226)\n\n\n/*******************************************************************************\n *\n * @notice ZeroCache DOES NOT HOLD ANY \"OFFICIAL\" AFFILIATION with ZeroNet Core,\n *         ZeroNet.io nor any of its brands and affiliates.\n *\n *         ZeroCache IS THE \"OFFICIAL\" META-CURRENCY OF THE GROWING COMMUNITY\n *         OF ZER0NET-SPONSORED PRODUCTS AND SERVICES.\n *\n * @dev In conjunction with the ZeroCache Daemon, this contract manages the\n *      ability to dynamically allocate the assets of a \"smart\" crypto wallet,\n *      in real-time, based on a user's pre-selected financial profile.\n *\n *      Initial support for the following cryptos:\n *          - Ethereum (WETH)   : HODL as a long-term growth investment.\n *          - MakerDAO (DAI)    : SPEDN on digital goods and services.\n *          - ZeroGold (0GOLD)  : STAEK to access premium features and services.\n */\ncontract ZeroCache is Owned {\n    using SafeMath for uint;\n\n    /* Initialize predecessor contract. */\n    address private _predecessor;\n\n    /* Initialize successor contract. */\n    address private _successor;\n    \n    /* Initialize revision number. */\n    uint private _revision;\n\n    /* Initialize Zer0net Db contract. */\n    Zer0netDbInterface private _zer0netDb;\n\n    /**\n     * Set Namespace\n     * \n     * Provides a \"unique\" name for generating \"unique\" data identifiers,\n     * most commonly used as database \"key-value\" keys.\n     * \n     * NOTE: Use of `namespace` is REQUIRED when generating ANY & ALL\n     *       Zer0netDb keys; in order to prevent ANY accidental or\n     *       malicious SQL-injection vulnerabilities / attacks.\n     */\n    string private _namespace = 'zerocache';\n\n    /* Initialize account balances. */\n    mapping(address => mapping (address => uint)) private _balances;\n\n    /* Initialize expired signature flags. */\n    mapping(bytes32 => bool) private _expiredSignatures;\n    \n    /* Initialize revision depth. */\n    // NOTE: Allows for balance and transaction aggregation\n    //       from legacy ZeroCache contract instance(s).\n    // FIXME Determine the MAXIMUM depth and set here.\n    //       Estimated to be between 100-200\n    uint private _MAX_REVISION_DEPTH = 0;\n    \n    event Deposit(\n        address indexed token, \n        address owner, \n        uint tokens,\n        bytes data\n    );\n\n    event Migrate(\n        address indexed token, \n        address owner, \n        uint tokens\n    );\n\n    event Skipped(\n        address token,\n        address sender, \n        address receiver, \n        uint tokens\n    );\n\n    event Staek(\n        address sender, \n        address staekholder, \n        uint tokens\n    );\n\n    event Transfer(\n        address indexed token, \n        address sender, \n        address receiver, \n        uint tokens\n    );\n\n    event Withdraw(\n        address indexed token, \n        address owner, \n        uint tokens\n    );\n    \n    /***************************************************************************\n     *\n     * Constructor\n     */\n    constructor() public {\n        /* Initialize Zer0netDb (eternal) storage database contract. */\n        // NOTE We hard-code the address here, since it should never change.\n        _zer0netDb = Zer0netDbInterface(0xE865Fe1A1A3b342bF0E2fcB11fF4E3BCe58263af);\n\n        /* Initialize (aname) hash. */\n        bytes32 hash = keccak256(abi.encodePacked('aname.', _namespace));\n\n        /* Set predecessor address. */\n        _predecessor = _zer0netDb.getAddress(hash);\n\n        /* Verify predecessor address. */\n        if (_predecessor != 0x0) {\n            /* Retrieve the last revision number (if available). */\n            uint lastRevision = ZeroCache(_predecessor).getRevision();\n            \n            /* Set (current) revision number. */\n            _revision = lastRevision + 1;\n        }\n    }\n\n    /**\n     * @dev Only allow access to an authorized Zer0net administrator.\n     */\n    modifier onlyAuthBy0Admin() {\n        /* Verify write access is only permitted to authorized accounts. */\n        require(_zer0netDb.getBool(keccak256(\n            abi.encodePacked(msg.sender, '.has.auth.for.', _namespace))) == true);\n\n        _;      // function code is inserted here\n    }\n\n    /**\n     * Fallback (default)\n     * \n     * Accepts direct ETH transfers to be wrapped for owner into one of the\n     * canonical Wrapped ETH (WETH) contracts:\n     *     - Mainnet : 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\n     *     - Ropsten : 0xc778417E063141139Fce010982780140Aa0cD5Ab\n     *     - Kovan   : 0xd0A1E359811322d97991E03f863a0C30C2cF029C\n     *     - Rinkeby : 0xc778417E063141139Fce010982780140Aa0cD5Ab\n     * (source https://blog.0xproject.com/canonical-weth-a9aa7d0279dd)\n     * \n     * NOTE: We are forced to hard-code all possible network contract\n     *       (addresses) into this fallback since the WETH contract \n     *       DOES NOT provide enough gas for us to lookup the \n     *       specific address for our network.\n     * \n     * NOTE: This contract requires ~50k gas to wrap ETH using the \n     *       fallback/wrap functions. However, it will require ~80k \n     *       to initialize on first-use.\n     */\n    function () public payable {\n        /* Initialize WETH contract flag. */\n        bool isWethContract = false;\n        \n        /* Initialize WETH contracts array. */\n        address[4] memory contracts;\n        \n        /* Set Mainnet. */\n        contracts[0] = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;\n\n        /* Set Ropsten. */\n        contracts[1] = 0xc778417E063141139Fce010982780140Aa0cD5Ab;\n\n        /* Set Kovan. */\n        contracts[2] = 0xd0A1E359811322d97991E03f863a0C30C2cF029C;\n\n        /* Set Rinkeby. */\n        contracts[3] = 0xc778417E063141139Fce010982780140Aa0cD5Ab;\n        \n        /* Loop through all network contracts. */\n        for (uint i = 0; i < contracts.length; i++) {\n            /* Validate sender. */\n            if (msg.sender == contracts[i]) {\n                /* Set flag. */\n                isWethContract = true;\n            }\n        }\n\n        /* DO NOT (re-)wrap incoming ETH from Wrapped ETH contract. */\n        if (!isWethContract) {\n            _wrap(msg.sender);\n        }\n    }\n\n\n    /***************************************************************************\n     * \n     * ACTIONS\n     * \n     */\n\n    /**\n     * Wrap\n     */\n    function wrap() external payable returns (bool success) {\n        /* Return wrap success. */\n        return _wrap(msg.sender);\n    }\n    \n    /**\n     * Wrap\n     * \n     * NOTE: This function is primarily used to support instance \n     *       migration(s) of WETH.\n     */\n    function wrap(\n        address _owner\n    ) external payable returns (bool success) {\n        return _wrap(_owner);\n    }\n\n    /**\n     * Wrap\n     * \n     * Send Ether into this method. It gets wrapped and then deposited \n     * in this contract as a token balance assigned to the sender.\n     */\n    function _wrap(\n        address _owner\n    ) private returns (bool success) {\n        /* Set WETH address. */\n        address wethAddress = _weth();\n\n        /* Forward this payable ether into the wrapping contract. */\n        // NOTE: Transfer ETH before balance credit to prevent re-entry attack.\n        success = wethAddress.call\n            .gas(200000)\n            .value(msg.value)\n            (abi.encodeWithSignature(\"deposit()\"));\n            \n        /* Validate transfer. */\n        if (success) {\n            /* Increase WETH balance by sent value. */\n            _balances[wethAddress][_owner] = \n                _balances[wethAddress][_owner].add(msg.value);\n            \n            /* Initialize empty data (for event log). */\n            bytes memory data;\n    \n            /* Broadcast event. */\n            emit Deposit(\n                wethAddress, \n                _owner, \n                msg.value, \n                data\n            );\n        } else {\n            /* Report error. */\n            revert('An error occurred while wrapping your ETH.');\n        }\n    }\n\n    /**\n     * Unwrap\n     */\n    function unwrap(\n        uint _tokens\n    ) public returns (bool success) {\n        return _unwrap(msg.sender, _tokens);\n    }\n\n    /**\n     * Unwrap\n     * \n     * We allow administrative unwrapping of WETH held\n     * in the ZeroCache, FOR COMPLIANCE PURPOSES ONLY.\n     * \n     * NOTE: This function is reserved for exclusive use by\n     *       Zer0net Administration ONLY.\n     * \n     *       Tokens unwrapped by an administrator can\n     *       ONLY be transferred to the ORIGINAL owner.\n     */\n    function unwrap(\n        address _owner, \n        uint _tokens\n    ) onlyAuthBy0Admin external returns (bool success) {\n        return _unwrap(_owner, _tokens);\n    }\n\n    /**\n     * Unwrap\n     * \n     * Allows an owner to unwrap their Ether from the \n     * canonical WETH contract.\n     */\n    function _unwrap(\n        address _owner, \n        uint _tokens\n    ) private returns (bool success) {\n        /* Set WETH address. */\n        address wethAddress = _weth();\n\n        /* Validate balance. */\n        if (_balances[wethAddress][_owner] < _tokens) {\n            revert('Oops! You DO NOT have enough WETH.');\n        }\n\n        /* Decrease WETH balance by sent value. */\n        // NOTE: Decrease balance before transfer to prevent re-entry attack.\n        _balances[wethAddress][_owner] = \n            _balances[wethAddress][_owner].sub(_tokens);\n\n        /* Withdraw ETH from Wrapper contract. */\n        success = wethAddress.call\n            .gas(200000)\n            (abi.encodeWithSignature(\"withdraw(uint256)\", _tokens));\n\n        /* Validate withdrawal. */\n        if (success) {\n            /* Transfer \"unwrapped\" Ether (ETH) back to owner. */\n            _owner.transfer(_tokens);\n    \n            /* Broadcast event. */\n            emit Withdraw(\n                wethAddress,\n                _owner,\n                _tokens\n            );\n        } else {\n            /* Report error. */\n            revert('An error occurred while unwrapping your ETH.');\n        }\n    }\n    \n    /**\n     * Deposit\n     * \n     * Provides support for \"pre-approved\" token deposits.\n     * \n     * NOTE: Required pre-allowance/approval is required in order\n     *       to successfully complete the transfer.\n     */\n    function deposit(\n        address _token, \n        address _from, \n        uint _tokens, \n        bytes _data\n    ) external returns (bool success) {\n        /* Make deposit. */\n        return _deposit(_token, _from, _tokens, _data);\n    }\n\n    /**\n     * Receive Approval\n     * \n     * Will typically be called from `approveAndCall`.\n     * \n     * NOTE: Owner can assign ANY address to receive the deposit \n     *       (including their own). By default, owner will be used.\n     */\n    function receiveApproval(\n        address _from, \n        uint _tokens, \n        address _token, \n        bytes _data\n    ) public returns (bool success) {\n        /* Make deposit. */\n        return _deposit(_token, _from, _tokens, _data);\n    }\n\n    /**\n     * Deposit\n     * \n     * Deposits ANY ERC20-compatible token into this contract;\n     * to be managed as ZeroCache. \n     * \n     * NOTE: Owners maintain 100% control* of their token(s) \n     *       at all times.\n     * \n     *       * Administrators have the ability to return tokens\n     *         back to their ORIGINAL owners AT ANY TIME.\n     *         FOR COMPLIANCE PURPOSES ONLY\n     */\n    function _deposit(\n        address _token,\n        address _from, \n        uint _tokens,\n        bytes _data\n    ) private returns (bool success) {\n        /* Transfer the ERC-20 tokens into Cache. */\n        // NOTE: Transfer tokens before credit to prevent re-entry attack.\n        ERC20Interface(_token).transferFrom(\n            _from, address(this), _tokens);\n        \n        /* Initialize receiver (address). */\n        address receiver = 0x0;\n        \n        /**\n         * If `_data` is an `address`, then set the value to `receiver`.\n         * e.g. when `approveAndCall` is made from a contract \n         * (representing the owner).\n         */\n        if (_data.length == 20) {\n            /* Retrieve the receiver's address from `data` payload. */\n            receiver = _bytesToAddress(_data);\n        } else {\n            /* Set receiver to `from` (also the token owner). */\n            receiver = _from;\n        }\n\n        /* Increase receiver balance. */\n        _balances[_token][receiver] = \n            _balances[_token][receiver].add(_tokens);\n\n        /* Broadcast event. */\n        emit Deposit(_token, receiver, _tokens, _data);\n\n        /* Return success. */\n        return true;\n    }\n\n    /**\n     * Withdraw\n     */\n    function withdraw(\n        address _token, \n        uint _tokens\n    ) public returns (bool success) {\n        return _withdraw(msg.sender, _token, _tokens);\n    }\n    \n    /**\n     * Withdraw\n     * \n     * We allow administrative withdrawls of tokens held\n     * in the ZeroCache, FOR COMPLIANCE PURPOSES ONLY.\n     * \n     * NOTE: This function is reserved for exclusive use by\n     *       Zer0net Administration ONLY.\n     * \n     *       Tokens withdrawn by an administrator can\n     *       ONLY be transferred to the ORIGINAL owner.\n     */\n    function withdraw(\n        address _owner, \n        address _token, \n        uint _tokens\n    ) onlyAuthBy0Admin external returns (bool success) {\n        return _withdraw(_owner, _token, _tokens);\n    }\n\n    /**\n     * Withdraw\n     * \n     * Allows the withdrawl of tokens held in the ZeroCache\n     * back to the ORIGINAL owner.\n     */\n    function _withdraw(\n        address _owner, \n        address _token, \n        uint _tokens\n    ) private returns (bool success) {\n        /* Validate balance. */\n        if (_balances[_token][_owner] < _tokens) {\n            revert('Oops! You DO NOT have enough tokens.');\n        }\n\n        /* Decrease owner balance by token amount. */\n        // NOTE: Decrease balance before transfer to prevent re-entry attack.\n        _balances[_token][_owner] = \n            _balances[_token][_owner].sub(_tokens);\n\n        /* Transfer requested tokens to owner. */\n        ERC20Interface(_token).transfer(_owner, _tokens);\n\n        /* Broadcast event. */\n        emit Withdraw(_token, _owner, _tokens);\n    \n        /* Return success. */\n        return true;\n    }\n\n    /**\n     * Transfer\n     *\n     * Transfers the \"specified\" ERC-20 tokens held by the sender\n     * to the receiver's account.\n     */\n    function transfer(\n        address _token,\n        address _to,\n        uint _tokens\n    ) external returns (bool success) {\n        return _transfer(\n            _token, msg.sender, _to, _tokens);\n    }\n\n    /**\n     * (Relayed) Transfer\n     * \n     * This transfer requires an off-chain (EC) signature, from the \n     * account holder, detailing the transaction.\n     * \n     * Staekholder\n     * -----------\n     * \n     * Users may choose to boost the speed of execution for their \n     * transfer request, decreasing the delivery time to near instant \n     * (highest priority for miners to process) confirmation. \n     * \n     * A staek of ZeroGold is required to be added to the request, \n     * in an amount specified by your preferred staekholder.\n     * \n     * This staek is 100% optional, as Standard Delivery will be \n     * FREE FOREVER!\n     * \n     * TODO: Let's implement GasToken to provide staekholders an opportunity\n     *       to hedge against the volatility of future gas prices.\n     *       (source: https://gastoken.io/)\n     */\n    function transfer(\n        address _token,       // contract address\n        address _from,        // sender's address\n        address _to,          // receiver's address\n        uint _tokens,         // quantity of tokens\n        address _staekholder, // staekholder\n        uint _staek,          // staek amount\n        uint _expires,        // expiration time\n        uint _nonce,          // unique integer\n        bytes _signature      // signed message\n    ) external returns (bool success) {\n        /* Calculate transfer hash. */\n        bytes32 transferHash = keccak256(abi.encodePacked(\n            address(this), \n            _token, \n            _from,\n            _to,\n            _tokens,\n            _staekholder,\n            _staek,\n            _expires,\n            _nonce\n        ));\n\n        /* Validate request has authorized signature. */\n        bool requestHasAuthSig = _requestHasAuthSig(\n            _from,\n            transferHash,\n            _expires,\n            _signature\n        );\n        \n        /* Validate authorization. */\n        if (!requestHasAuthSig) {\n            revert('Oops! This relay request is NOT valid.');\n        }\n        \n        /* Validate boost fee and pay (if necessary). */\n        if (_staekholder != 0x0 && _staek > 0) {\n            _addStaek(_from, _staekholder, _staek);\n        }\n\n        /* Request token transfer. */\n        return _transfer(\n            _token, _from, _to, _tokens);\n    }\n\n    /**\n     * Transfer\n     *\n     * Transfers the \"specified\" ERC-20 token(s) held by the sender\n     * to the receiver's account.\n     */\n    function _transfer(\n        address _token,\n        address _from,\n        address _to,\n        uint _tokens\n    ) private returns (bool success) {\n        /* Validate balance. */\n        if (_balances[_token][_from] < _tokens) {\n            revert('Oops! You DO NOT have enough tokens.');\n        }\n\n        /* Remove the transfer value from sender's balance. */\n        // NOTE: We decrease balance before adding to prevent re-entry attack.\n        _balances[_token][_from] = _balances[_token][_from].sub(_tokens);\n\n        /* Add the transfer value to the receiver's balance. */\n        _balances[_token][_to] = _balances[_token][_to].add(_tokens);\n\n        /* Broadcast event. */\n        emit Transfer(\n            _token, \n            _from, \n            _to, \n            _tokens\n        );\n\n        /* Return success. */\n        return true;\n    }\n    \n    /**\n     * Multi Transfer\n     *\n     * Transfers multiple ERC-20 tokens held by the sender\n     * to multiple receiver accounts.\n     */\n    function multiTransfer(\n        address[] _token,\n        address[] _to,\n        uint[] _tokens\n    ) external returns (bool success) {\n        return _multiTransfer(_token, msg.sender, _to, _tokens);\n    }\n    \n    //----------------------------------------------------------------\n    //----------------------------------------------------------------\n    // NOTE: We DO NOT yet offer support for RELAYED Multi Transfers.\n    //----------------------------------------------------------------\n    //----------------------------------------------------------------\n\n    /**\n     * Transfer Multiple Tokens (w/ Single Transaction)\n     * \n     * WARNING: Sending to multiple receipients is very risky,\n     *          as there is NO way to control the gas costs per\n     *          transaction (ie. contract addresses are limitless).\n     * \n     *          For this reason, we SKIP ALL transfers to contract\n     *          addresses. You can monitor the `Skipped` event.\n     */\n    function _multiTransfer(\n        address[] _token,\n        address _from,\n        address[] _to,\n        uint[] _tokens\n    ) private returns (bool success) {\n        /* Loop through all receivers. */\n        for (uint i = 0; i < _to.length; i++) {\n            /* Set token. */\n            address token = _token[i];\n           \n            /* Set receiver. */\n            address to = _to[i];\n            \n            /* Set token value. */\n            uint tokens = _tokens[i];\n           \n            /* Validate receiver address. */\n            if (_ownerIsContract(to)) {\n                /* Broadcast event. */\n                emit Skipped(token, _from, to, tokens);\n            } else {\n                /* Transfer tokens. */\n                _transfer(\n                    token, _from, to, tokens);\n            }\n        }\n        \n        /* Return success. */\n        return true;\n    }\n\n    /**\n     * Add Staek (to Relay Transfer)\n     *\n     * This is an (optional) staek provided by the sender, which \n     * transfers ZeroGold from the sender's account to the specified \n     * staekholder account.\n     * \n     * NOTE: Staek is only a temporary hold, until fees are collected\n     *       by the sender's preferred staekholder.\n     */\n    function _addStaek(\n        address _owner,\n        address _staekholder,\n        uint _tokens\n    ) private returns (bool success) {\n        /* Set ZeroGold address. */\n        address zgAddress = _zeroGold();\n\n        /* Validate available balance. */\n        if (_balances[zgAddress][_owner] < _tokens) {\n            revert('Oops! You DO NOT have enough ZeroGold to staek.');\n        }\n\n        /* Decrease owner balance by token amount. */\n        // NOTE: Decrease balance before transfer to prevent re-entry attack.\n        _balances[zgAddress][_owner] = \n            _balances[zgAddress][_owner].sub(_tokens);\n\n        /* Transfer specified tokens to staekholder account. */\n        _zeroGold().transfer(_staekholder, _tokens);\n\n        /* Broadcast event. */\n        emit Staek(\n            _owner, \n            _staekholder, \n            _tokens\n        );\n\n        /* Return success. */\n        return true;\n    }\n\n    /**\n     * Cancel\n     *\n     * Cancels a previously authorized/signed transfer request, \n     * by invalidating the signature on-chain.\n     */\n    function cancel(\n        address _token,       // contract address\n        address _from,        // sender's address\n        address _to,          // receiver's address\n        uint _tokens,         // quantity of tokens\n        address _staekholder, // staekholder\n        uint _staek,          // staek amount\n        uint _expires,        // expiration time\n        uint _nonce,          // unique integer\n        bytes _signature      // signed message\n    ) external returns (bool success) {\n        /* Calculate cancel hash. */\n        bytes32 cancelHash = keccak256(abi.encodePacked(\n            address(this), \n            _token, \n            _from,\n            _to,\n            _tokens,\n            _staekholder,\n            _staek,\n            _expires,\n            _nonce\n        ));\n\n        /* Validate request has authorized signature. */\n        bool requestHasAuthSig = _requestHasAuthSig(\n            _from,\n            cancelHash,\n            _expires,\n            _signature\n        );\n        \n        /* Validate authorization. */\n        if (!requestHasAuthSig) {\n            revert('Oops! This cancel request is NOT valid.');\n        }\n        \n        /* Return success. */\n        return true;\n    }\n\n    /**\n     * Migrate\n     */\n    function migrate(\n        address[] _tokens\n    ) external returns (bool success) {\n        return _migrate(msg.sender, _tokens);\n    }\n    \n    /**\n     * Migrate\n     * \n     * THIS FUNCTION IS UN-IMPLMENTED\n     * \n     * NOTE: There is no ADMIN migration function available\n     *       as a protection against UNAUTHORIZED transfer(s) to \n     *       possible rogue instance(s) of ZeroCache.\n     */\n\n    /**\n     * Migrate\n     * \n     * Allows for the full balance transfer of a multiple token(s)\n     * from legacy instance(s) to the LATEST instance of ZeroCache.\n     */\n    function _migrate(\n        address _owner, \n        address[] _tokens\n    ) private returns (bool success) {\n        /* Set hash. */\n        bytes32 hash = keccak256('aname.zerocache');\n\n        /* Retrieve value from Zer0net Db. */\n        address latestCache = _zer0netDb.getAddress(hash);\n\n        /* Loop through all tokens. */\n        for (uint i = 0; i < _tokens.length; i++) {\n            /* Set token. */\n            address token = _tokens[i];\n            \n            /* Retrieve balance. */\n            // NOTE: Explicitly set depth to `0`, to retrieve the\n            //       balance for ONLY this instance.\n            uint balance = balanceOf(token, _owner, 0);\n            \n            /* Decrease owner balance to ZERO. */\n            // NOTE: Balance is ZEROED here to prevent re-entry attack.\n            _balances[token][_owner] = 0;\n\n            /* Validate WETH contract (requires `unwrap`). */\n            if (token == address(_weth())) {\n                /* Set WETH address. */\n                address wethAddress = _weth();\n        \n                /* Withdraw ETH from Wrapper contract. */\n                success = wethAddress.call\n                    .gas(100000)\n                    (abi.encodeWithSignature(\"withdraw(uint256)\", balance));\n        \n                /* (Re-)Wrap ETH into LATEST instance. */\n                // NOTE: ETH will be wrapped on `_owner` behalf.\n                success = latestCache.call\n                    .gas(100000)\n                    .value(balance)\n                    (abi.encodeWithSignature(\"wrap(address)\", _owner));\n            } else {\n                /* Set data to owner (address). */\n                // NOTE: Required to assign tokens after being received\n                //       by the new contract instance.\n                bytes memory data = abi.encodePacked(_owner);\n\n                /* (Re-)Deposit tokens into LATEST instance. */\n                // NOTE: Tokens will be credited to `_owner` (aka `data`).\n                ApproveAndCallFallBack(token)\n                    .approveAndCall(latestCache, balance, data);\n\n                /* Set success. */\n                success = true;\n            }\n\n            /* Broadcast event. */\n            emit Migrate(token, _owner, balance);\n        }\n    }\n    \n\n    /***************************************************************************\n     * \n     * GETTERS\n     * \n     */\n\n    /**\n     * Get the token balance for account `tokenOwner`\n     */\n    function balanceOf(\n        address _token,\n        address _owner\n    ) external constant returns (uint balance) {\n        /* Return balance. */\n        return balanceOf(\n            _token, _owner, _MAX_REVISION_DEPTH);\n    }\n\n    /**\n     * Get the token balance for account `tokenOwner`\n     * \n     * NOTE: Supports a virtually unlimited depth, \n     *       limited ONLY by the supplied gas amount.\n     */\n    function balanceOf(\n        address _token,\n        address _owner,\n        uint _depth\n    ) public constant returns (uint balance) {\n        /* Retrieve (current) balance. */\n        balance = _balances[_token][_owner];\n        \n        /* Initialize legacy instance (to current predecessor). */\n        address legacyInstance = getPredecessor();\n        \n        /* Validate legacy instance. */\n        if (legacyInstance != 0x0) {\n            /* Initialize total legacy balance. */\n            uint totalLegacyBalance = 0;\n            \n            /* Loop through legacy instances for balance. */\n            for (uint i = 0; i < _depth; i++) {\n                /* Retrieve balance. */\n                uint legacyBalance = ZeroCache(legacyInstance)\n                    .balanceOf(_token, _owner);\n                    \n                /* Add to legacy balance total. */\n                totalLegacyBalance = totalLegacyBalance.add(legacyBalance);\n    \n                /* Set the next legacy instance / predecessor (if available). */\n                legacyInstance = ZeroCache(legacyInstance).getPredecessor();\n                \n                /* Validate legacy instance. */\n                if (legacyInstance == 0x0) {\n                    /* Break the loop. */\n                    break;\n                }\n            }\n            \n            /* Add total legacy balance. */\n            balance = balance.add(totalLegacyBalance);\n        }\n    }\n\n    /**\n     * Get Revision (Number)\n     */\n    function getRevision() public view returns (uint) {\n        return _revision;\n    }\n    \n    /**\n     * Get Predecessor (Address)\n     */\n    function getPredecessor() public view returns (address) {\n        return _predecessor;\n    }\n    \n    /**\n     * Get Successor (Address)\n     */\n    function getSuccessor() public view returns (address) {\n        return _successor;\n    }\n    \n    \n    /***************************************************************************\n     * \n     * SETTERS\n     * \n     */\n\n    /**\n     * Set Successor\n     * \n     * This is the contract address that replaced this current instnace.\n     */\n    function setSuccessor(\n        address _newSuccessor\n    ) onlyAuthBy0Admin external returns (bool success) {\n        /* Set successor contract. */\n        _successor = _newSuccessor;\n        \n        /* Return success. */\n        return true;\n    }\n\n\n    /***************************************************************************\n     * \n     * INTERFACES\n     * \n     */\n\n    /**\n     * Supports Interface (EIP-165)\n     * \n     * (see: https://github.com/ethereum/EIPs/blob/master/EIPS/eip-165.md)\n     * \n     * NOTE: Must support the following conditions:\n     *       1. (true) when interfaceID is 0x01ffc9a7 (EIP165 interface)\n     *       2. (false) when interfaceID is 0xffffffff\n     *       3. (true) for any other interfaceID this contract implements\n     *       4. (false) for any other interfaceID\n     */\n    function supportsInterface(\n        bytes4 _interfaceID\n    ) external pure returns (bool) {\n        /* Initialize constants. */\n        bytes4 InvalidId = 0xffffffff;\n        bytes4 ERC165Id = 0x01ffc9a7;\n\n        /* Validate condition #2. */\n        if (_interfaceID == InvalidId) {\n            return false;\n        }\n\n        /* Validate condition #1. */\n        if (_interfaceID == ERC165Id) {\n            return true;\n        }\n        \n        // TODO Add additional interfaces here.\n        \n        /* Return false (for condition #4). */\n        return false;\n    }\n\n    /**\n     * ECRecovery Interface\n     */\n    function _ecRecovery() private view returns (\n        ECRecovery ecrecovery\n    ) {\n        /* Initailze hash. */\n        bytes32 hash = keccak256('aname.ecrecovery');\n        \n        /* Retrieve value from Zer0net Db. */\n        address aname = _zer0netDb.getAddress(hash);\n        \n        /* Initialize interface. */\n        ecrecovery = ECRecovery(aname);\n    }\n\n    /**\n     * Wrapped Ether (WETH) Interface\n     * \n     * Retrieves the current WETH interface,\n     * using the aname record from Zer0netDb.\n     */\n    function _weth() private view returns (\n        WETHInterface weth\n    ) {\n        /* Initailze hash. */\n        // NOTE: ERC tokens are case-sensitive.\n        bytes32 hash = keccak256('aname.WETH');\n        \n        /* Retrieve value from Zer0net Db. */\n        address aname = _zer0netDb.getAddress(hash);\n        \n        /* Initialize interface. */\n        weth = WETHInterface(aname);\n    }\n\n    /**\n     * MakerDAO DAI Interface\n     * \n     * Retrieves the current DAI interface,\n     * using the aname record from Zer0netDb.\n     */\n    function _dai() private view returns (\n        ERC20Interface dai\n    ) {\n        /* Initailze hash. */\n        // NOTE: ERC tokens are case-sensitive.\n        bytes32 hash = keccak256('aname.DAI');\n        \n        /* Retrieve value from Zer0net Db. */\n        address aname = _zer0netDb.getAddress(hash);\n        \n        /* Initialize interface. */\n        dai = ERC20Interface(aname);\n    }\n\n    /**\n     * ZeroGold Interface\n     * \n     * Retrieves the current ZeroGold interface,\n     * using the aname record from Zer0netDb.\n     */\n    function _zeroGold() private view returns (\n        ERC20Interface zeroGold\n    ) {\n        /* Initailze hash. */\n        // NOTE: ERC tokens are case-sensitive.\n        bytes32 hash = keccak256('aname.0GOLD');\n        \n        /* Retrieve value from Zer0net Db. */\n        address aname = _zer0netDb.getAddress(hash);\n        \n        /* Initialize interface. */\n        zeroGold = ERC20Interface(aname);\n    }\n\n\n    /***************************************************************************\n     * \n     * UTILITIES\n     * \n     */\n\n    /**\n     * Request Hash Authorized Signature\n     * \n     * Validates ALL signature requests by:\n     *     1. Uses ECRecovery to validate the signature.\n     *     2. Verify expiration against the current block number.\n     *     3. Sets a flag to block re-use of signature.\n     */\n    function _requestHasAuthSig(\n        address _from,\n        bytes32 _authHash,\n        uint _expires,\n        bytes _signature\n    ) private returns (bool success) {\n        /* Calculate signature hash. */\n        bytes32 sigHash = keccak256(abi.encodePacked(\n            '\\x19Ethereum Signed Message:\\n32', _authHash));\n\n        /* Validate signature expiration. */\n        if (_expiredSignatures[sigHash]) {\n            return false;\n        }\n\n        /* Set expiration flag. */\n        // NOTE: Set a flag here to prevent double-spending.\n        _expiredSignatures[sigHash] = true;\n        \n        /* Validate the expiration time. */\n        if (block.number > _expires) {\n            return false;\n        }\n        \n        /* Retrieve the authorized account (address). */\n        address authorizedAccount = \n            _ecRecovery().recover(sigHash, _signature);\n\n        /* Validate the signer matches owner of the tokens. */\n        if (_from != authorizedAccount) {\n            return false;\n        }\n\n        /* Return success. */    \n        return true;\n    }\n\n    /**\n     * Is (Owner) Contract\n     * \n     * Tests if a specified account / address is a contract.\n     */\n    function _ownerIsContract(\n        address _owner\n    ) private view returns (bool isContract) {\n        /* Initialize code length. */\n        uint codeLength;\n\n        /* Run assembly. */\n        assembly {\n            /* Retrieve the size of the code on target address. */\n            codeLength := extcodesize(_owner)\n        }\n        \n        /* Set test result. */\n        isContract = (codeLength > 0);\n    }\n\n    /**\n     * Bytes-to-Address\n     * \n     * Converts bytes into type address.\n     */\n    function _bytesToAddress(\n        bytes _address\n    ) private pure returns (address) {\n        uint160 m = 0;\n        uint160 b = 0;\n\n        for (uint8 i = 0; i < 20; i++) {\n            m *= 256;\n            b = uint160(_address[i]);\n            m += (b);\n        }\n\n        return address(m);\n    }\n}",
  "bytecode": "60c0604052600960808190527f7a65726f6361636865000000000000000000000000000000000000000000000060a0908152620000409160069190620002ef565b5060006009553480156200005357600080fd5b5060008054600160a060020a0319908116331782556005805490911673e865fe1a1a3b342bf0e2fcb11ff4e3bce58263af1790556040517f616e616d652e0000000000000000000000000000000000000000000000000000602082019081526006805484939192916026019083906002600019600183161561010002019091160480156200011b5780601f10620000f85761010080835404028352918201916200011b565b820191906000526020600020905b81548152906001019060200180831162000106575b50509150506040516020818303038152906040526040518082805190602001908083835b60208310620001605780518252601f1990920191602091820191016200013f565b51815160209384036101000a6000190180199092169116179052604080519290940182900382206005547f21f8a721000000000000000000000000000000000000000000000000000000008452600484018290529451909850600160a060020a0390941695506321f8a721945060248083019491935090918290030181600087803b158015620001ef57600080fd5b505af115801562000204573d6000803e3d6000fd5b505050506040513d60208110156200021b57600080fd5b505160028054600160a060020a031916600160a060020a0392831617908190551615620002e757600260009054906101000a9004600160a060020a0316600160a060020a0316631316529d6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015620002af57600080fd5b505af1158015620002c4573d6000803e3d6000fd5b505050506040513d6020811015620002db57600080fd5b50516001810160045590505b505062000394565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200033257805160ff191683800117855562000362565b8280016001018555821562000362579182015b828111156200036257825182559160200191906001019062000345565b506200037092915062000374565b5090565b6200039191905b808211156200037057600081556001016200037b565b90565b612a3d80620003a46000396000f3006080604052600436106101245763ffffffff60e060020a60003504166301ffc9a781146101dd578063023276f01461022857806310e5bff81461023c5780631316529d1461025d5780632e558d6914610284578063348b1b98146102a457806339f47693146102f657806379ba50971461031a5780638da5cb5b146103315780638f4ffcb114610362578063beabacc8146103d2578063cd72250d146103fc578063d46eb11914610434578063d4ee1d901461043c578063d9bccbf714610451578063d9caed1214610466578063de0e9a3e14610490578063ded79eb8146104a8578063e083619a146104fa578063e93119d91461050f578063e9c670ad14610539578063f2fde38b14610572578063f3fef3a314610593578063f7888aec146105b7575b600061012e6129f2565b73c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2815273c778417e063141139fce010982780140aa0cd5ab6020820181905273d0a1e359811322d97991e03f863a0c30c2cf029c6040830152606082015260009150815b60048110156101c65781816004811061019b57fe5b6020020151600160a060020a031633600160a060020a031614156101be57600192505b600101610186565b8215156101d8576101d6336105de565b505b505050005b3480156101e957600080fd5b506102147bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1960043516610845565b604080519115158252519081900360200190f35b610214600160a060020a03600435166108d6565b34801561024857600080fd5b50610214600160a060020a03600435166108e7565b34801561026957600080fd5b50610272610ab3565b60408051918252519081900360200190f35b34801561029057600080fd5b506102146004803560248101910135610ab9565b3480156102b057600080fd5b50610214600160a060020a036004803582169160248035821692604435831692606435926084359091169160a4359160c4359160e4359161010435908101910135610af9565b34801561030257600080fd5b50610214600160a060020a0360043516602435610ca8565b34801561032657600080fd5b5061032f610e4c565b005b34801561033d57600080fd5b50610346610ed4565b60408051600160a060020a039092168252519081900360200190f35b34801561036e57600080fd5b50604080516020601f60643560048181013592830184900484028501840190955281845261021494600160a060020a03813581169560248035966044359093169536956084949201918190840183828082843750949750610ee39650505050505050565b3480156103de57600080fd5b50610214600160a060020a0360043581169060243516604435610efa565b34801561040857600080fd5b506102146024600480358281019290820135918135808301929082013591604435918201910135610f10565b610214610faf565b34801561044857600080fd5b50610346610fbf565b34801561045d57600080fd5b50610346610fce565b34801561047257600080fd5b50610214600160a060020a0360043581169060243516604435610fdd565b34801561049c57600080fd5b50610214600435611182565b3480156104b457600080fd5b50610214600160a060020a036004803582169160248035821692604435831692606435926084359091169160a4359160c4359160e435916101043590810191013561118e565b34801561050657600080fd5b50610346611371565b34801561051b57600080fd5b50610272600160a060020a0360043581169060243516604435611380565b34801561054557600080fd5b50610214600160a060020a036004803582169160248035909116916044359160643590810191013561152d565b34801561057e57600080fd5b5061032f600160a060020a0360043516611575565b34801561059f57600080fd5b50610214600160a060020a03600435166024356115bb565b3480156105c357600080fd5b50610272600160a060020a03600435811690602435166115c8565b60008060606105eb6115d7565b6040805160048152602481018252602081018051600160e060020a03167fd0e30db00000000000000000000000000000000000000000000000000000000017815291518151939550600160a060020a0386169362030d40933493929182919080838360005b83811015610668578181015183820152602001610650565b50505050905090810190601f1680156106955780820380516001836020036101000a031916815260200191505b50915050600060405180830381858888f19350505050925082156107c857600160a060020a038083166000908152600760209081526040808320938816835292905220546106e9903463ffffffff61168d16565b600160a060020a038084166000818152600760209081526040808320948a16808452948252808320959095558451938452348482018190526060958501868152875196860196909652865193957fd5d9ab68ad56311de2cda7e56730c5a58bcd4c9d071b9fe5f8efcdb1ccc9251d958b9592948994919360808501928601918190849084905b8381101561078757818101518382015260200161076f565b50505050905090810190601f1680156107b45780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a261083e565b6040805160e560020a62461bcd02815260206004820152602a60248201527f416e206572726f72206f63637572726564207768696c65207772617070696e6760448201527f20796f7572204554482e00000000000000000000000000000000000000000000606482015290519081900360840190fd5b5050919050565b60007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff197f01ffc9a700000000000000000000000000000000000000000000000000000000838216821415610899576000925061083e565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1984811690821614156108cc576001925061083e565b5060009392505050565b60006108e1826105de565b92915050565b600554604051336c010000000000000000000000008102602083019081527f2e6861732e617574682e666f722e000000000000000000000000000000000000603484015260068054600095600160a060020a031694637ae1cfca94939160429091019083906002610100600183161502600019019091160480156109a25780601f106109805761010080835404028352918201916109a2565b820191906000526020600020905b81548152906001019060200180831161098e575b5050925050506040516020818303038152906040526040518082805190602001908083835b602083106109e65780518252601f1990920191602091820191016109c7565b51815160209384036101000a60001901801990921691161790526040805192909401829003822063ffffffff881660e060020a0283526004830152925160248083019650939450929083900301905081600087803b158015610a4757600080fd5b505af1158015610a5b573d6000803e3d6000fd5b505050506040513d6020811015610a7157600080fd5b50511515600114610a8157600080fd5b5060038054600160a060020a03831673ffffffffffffffffffffffffffffffffffffffff199091161790556001919050565b60045490565b6000610af2338484808060200260200160405190810160405280939291908181526020018383602002808284375061169d945050505050565b9392505050565b604080516c01000000000000000000000000308102602080840191909152600160a060020a03808f1683026034850152808e1683026048850152808d168302605c850152607084018c90528a16909102609083015260a4820188905260c4820187905260e48083018790528351808403909101815261010490920192839052815160009384938493909282918401908083835b60208310610bab5780518252601f199092019160209182019101610b8c565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390209150610c168c838988888080601f01602080910402602001604051908101604052809392919081815260200183838082843750611b31945050505050565b9050801515610c95576040805160e560020a62461bcd02815260206004820152602760248201527f4f6f70732120546869732063616e63656c2072657175657374206973204e4f5460448201527f2076616c69642e00000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b5060019c9b505050505050505050505050565b600554604051336c010000000000000000000000008102602083019081527f2e6861732e617574682e666f722e000000000000000000000000000000000000603484015260068054600095600160a060020a031694637ae1cfca9493916042909101908390600261010060018316150260001901909116048015610d635780601f10610d41576101008083540402835291820191610d63565b820191906000526020600020905b815481529060010190602001808311610d4f575b5050925050506040516020818303038152906040526040518082805190602001908083835b60208310610da75780518252601f199092019160209182019101610d88565b51815160209384036101000a60001901801990921691161790526040805192909401829003822063ffffffff881660e060020a0283526004830152925160248083019650939450929083900301905081600087803b158015610e0857600080fd5b505af1158015610e1c573d6000803e3d6000fd5b505050506040513d6020811015610e3257600080fd5b50511515600114610e4257600080fd5b610af28383611d5b565b600154600160a060020a03163314610e6357600080fd5b60015460008054604051600160a060020a0393841693909116917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600180546000805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a03841617909155169055565b600054600160a060020a031681565b6000610ef183868685612035565b95945050505050565b6000610f0884338585612215565b949350505050565b6000610fa4878780806020026020016040519081016040528093929190818152602001838360200280828437820191505050505050338787808060200260200160405190810160405280939291908181526020018383602002808284375050604080516020808d0282810182019093528c82529095508c94508b93508392508501908490808284375061239f945050505050565b979650505050505050565b6000610fba336105de565b905090565b600154600160a060020a031681565b600354600160a060020a031690565b600554604051336c010000000000000000000000008102602083019081527f2e6861732e617574682e666f722e000000000000000000000000000000000000603484015260068054600095600160a060020a031694637ae1cfca94939160429091019083906002610100600183161502600019019091160480156110985780601f10611076576101008083540402835291820191611098565b820191906000526020600020905b815481529060010190602001808311611084575b5050925050506040516020818303038152906040526040518082805190602001908083835b602083106110dc5780518252601f1990920191602091820191016110bd565b51815160209384036101000a60001901801990921691161790526040805192909401829003822063ffffffff881660e060020a0283526004830152925160248083019650939450929083900301905081600087803b15801561113d57600080fd5b505af1158015611151573d6000803e3d6000fd5b505050506040513d602081101561116757600080fd5b5051151560011461117757600080fd5b610f0884848461248a565b60006108e13383611d5b565b604080516c01000000000000000000000000308102602080840191909152600160a060020a03808f1683026034850152808e1683026048850152808d168302605c850152607084018c90528a16909102609083015260a4820188905260c4820187905260e48083018790528351808403909101815261010490920192839052815160009384938493909282918401908083835b602083106112405780518252601f199092019160209182019101611221565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902091506112ab8c838988888080601f01602080910402602001604051908101604052809392919081815260200183838082843750611b31945050505050565b905080151561132a576040805160e560020a62461bcd02815260206004820152602660248201527f4f6f70732120546869732072656c61792072657175657374206973204e4f542060448201527f76616c69642e0000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a038916158015906113425750600088115b15611354576113528c8a8a612669565b505b6113608d8d8d8d612215565b9d9c50505050505050505050505050565b600254600160a060020a031690565b600160a060020a038084166000908152600760209081526040808320938616835292905290812054908080806113b4611371565b9350600160a060020a038416156115225760009250600091505b8582101561150f57604080517ff7888aec000000000000000000000000000000000000000000000000000000008152600160a060020a038a81166004830152898116602483015291519186169163f7888aec916044808201926020929091908290030181600087803b15801561144357600080fd5b505af1158015611457573d6000803e3d6000fd5b505050506040513d602081101561146d57600080fd5b50519050611481838263ffffffff61168d16565b925083600160a060020a031663e083619a6040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156114c157600080fd5b505af11580156114d5573d6000803e3d6000fd5b505050506040513d60208110156114eb57600080fd5b50519350600160a060020a03841615156115045761150f565b6001909101906113ce565b61151f858463ffffffff61168d16565b94505b505050509392505050565b600061156b86868686868080601f01602080910402602001604051908101604052809392919081815260200183838082843750612035945050505050565b9695505050505050565b600054600160a060020a0316331461158c57600080fd5b6001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6000610af233848461248a565b6000610af28383600954611380565b604080517f616e616d652e57455448000000000000000000000000000000000000000000008152815190819003600a01812060055460e060020a6321f8a72102835260048301829052925160009391928492600160a060020a0316916321f8a7219160248082019260209290919082900301818787803b15801561165a57600080fd5b505af115801561166e573d6000803e3d6000fd5b505050506040513d602081101561168457600080fd5b50519392505050565b818101828110156108e157600080fd5b604080517f616e616d652e7a65726f636163686500000000000000000000000000000000008152815190819003600f01812060055460e060020a6321f8a721028352600483018290529251600093919284928392839283928392606092600160a060020a03909216916321f8a72191602480830192602092919082900301818887803b15801561172c57600080fd5b505af1158015611740573d6000803e3d6000fd5b505050506040513d602081101561175657600080fd5b50519550600094505b8851851015611b2457888581518110151561177657fe5b90602001906020020151935061178e848b6000611380565b600160a060020a038086166000908152600760209081526040808320938f1683529290529081205592506117c06115d7565b600160a060020a031684600160a060020a031614156119a6576117e16115d7565b6040805160248082018790528251808303909101815260449091018252602081018051600160e060020a03167f2e1a7d4d0000000000000000000000000000000000000000000000000000000017815291518151939550600160a060020a03861693620186a093829180838360005b83811015611868578181015183820152602001611850565b50505050905090810190601f1680156118955780820380516001836020036101000a031916815260200191505b5091505060006040518083038160008787f192505050975085600160a060020a0316620186a0848c6040516024018082600160a060020a0316600160a060020a031681526020019150506040516020818303038152906040527f023276f000000000000000000000000000000000000000000000000000000000600160e060020a031916602082018051600160e060020a03838183161783525050505060405180828051906020019080838360005b8381101561195c578181015183820152602001611944565b50505050905090810190601f1680156119895780820380516001836020036101000a031916815260200191505b50915050600060405180830381858888f193505050509750611ad3565b896040516020018082600160a060020a0316600160a060020a03166c01000000000000000000000000028152601401915050604051602081830303815290604052905083600160a060020a031663cae9ca518785846040518463ffffffff1660e060020a0281526004018084600160a060020a0316600160a060020a0316815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015611a68578181015183820152602001611a50565b50505050905090810190601f168015611a955780820380516001836020036101000a031916815260200191505b50945050505050600060405180830381600087803b158015611ab657600080fd5b505af1158015611aca573d6000803e3d6000fd5b50505050600197505b60408051600160a060020a038c81168252602082018690528251908716927f18df02dcc52b9c494f391df09661519c0069bd8540141946280399408205ca1a928290030190a260019094019361175f565b5050505050505092915050565b60008060008560405160200180807f19457468657265756d205369676e6564204d6573736167653a0a333200000000815250601c0182600019166000191681526020019150506040516020818303038152906040526040518082805190602001908083835b60208310611bb55780518252601f199092019160209182019101611b96565b51815160209384036101000a6000190180199092169116179052604080519290940182900390912060008181526008909252929020549195505060ff16159150611c0490505760009250611d51565b6000828152600860205260409020805460ff1916600117905543851015611c2e5760009250611d51565b611c36612861565b604080517f19045a250000000000000000000000000000000000000000000000000000000081526004810185815260248201928352875160448301528751600160a060020a0394909416936319045a259387938a9392606490910190602085019080838360005b83811015611cb5578181015183820152602001611c9d565b50505050905090810190601f168015611ce25780820380516001836020036101000a031916815260200191505b509350505050602060405180830381600087803b158015611d0257600080fd5b505af1158015611d16573d6000803e3d6000fd5b505050506040513d6020811015611d2c57600080fd5b50519050600160a060020a0387811690821614611d4c5760009250611d51565b600192505b5050949350505050565b600080611d666115d7565b600160a060020a03808216600090815260076020908152604080832093891683529290522054909150831115611e0c576040805160e560020a62461bcd02815260206004820152602260248201527f4f6f70732120596f7520444f204e4f54206861766520656e6f7567682057455460448201527f482e000000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a03808216600090815260076020908152604080832093881683529290522054611e42908463ffffffff6128e416565b600160a060020a038083166000818152600760209081526040808320948a168352938152838220949094558251602480820189905284518083039091018152604490910184529384018051600160e060020a03167f2e1a7d4d0000000000000000000000000000000000000000000000000000000017815292518451929462030d4094909391928392908190849084905b83811015611eeb578181015183820152602001611ed3565b50505050905090810190601f168015611f185780820380516001836020036101000a031916815260200191505b5091505060006040518083038160008787f19250505091508115611fb857604051600160a060020a0385169084156108fc029085906000818181858888f19350505050158015611f6c573d6000803e3d6000fd5b5060408051600160a060020a038681168252602082018690528251908416927f9b1bfa7fa9ee420a16e124f794c35ac9f90472acc99140eb2f6447c714cad8eb928290030190a261202e565b6040805160e560020a62461bcd02815260206004820152602c60248201527f416e206572726f72206f63637572726564207768696c6520756e77726170706960448201527f6e6720796f7572204554482e0000000000000000000000000000000000000000606482015290519081900360840190fd5b5092915050565b604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a0385811660048301523060248301526044820185905291516000928392908816916323b872dd9160648082019260209290919082900301818787803b1580156120ab57600080fd5b505af11580156120bf573d6000803e3d6000fd5b505050506040513d60208110156120d557600080fd5b5050825160009150601414156120f5576120ee836128f9565b90506120f8565b50835b600160a060020a0380871660009081526007602090815260408083209385168352929052205461212e908563ffffffff61168d16565b600160a060020a0380881660008181526007602090815260408083209487168084529482528083209590955584519384528381018990526060948401858152885195850195909552875192947fd5d9ab68ad56311de2cda7e56730c5a58bcd4c9d071b9fe5f8efcdb1ccc9251d9487948b948b949293926080850192908601918190849084905b838110156121cd5781810151838201526020016121b5565b50505050905090810190601f1680156121fa5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a250600195945050505050565b600160a060020a0380851660009081526007602090815260408083209387168352929052908120548211156122b9576040805160e560020a62461bcd028152602060048201526024808201527f4f6f70732120596f7520444f204e4f54206861766520656e6f75676820746f6b60448201527f656e732e00000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a038086166000908152600760209081526040808320938816835292905220546122ef908363ffffffff6128e416565b600160a060020a0386811660009081526007602090815260408083208985168452909152808220939093559085168152205461232b908361168d565b600160a060020a03808716600081815260076020908152604080832089861680855290835292819020959095558451938916845283015281830185905291517fd1398bee19313d6bf672ccb116e51f4a1a947e91c757907f51fbb5b5e56c698f9181900360600190a2506001949350505050565b6000808080805b865184101561247b5788848151811015156123bd57fe5b90602001906020020151925086848151811015156123d757fe5b90602001906020020151915085848151811015156123f157fe5b90602001906020020151905061240682612967565b156124625760408051600160a060020a038086168252808b1660208301528416818301526060810183905290517fbe51a99ad9689d01ae77e077abad1ba9e35aad7331e90949918f6e364e1961889181900360800190a1612470565b61246e83898484612215565b505b6001909301926123a6565b50600198975050505050505050565b600160a060020a03808316600090815260076020908152604080832093871683529290529081205482111561252e576040805160e560020a62461bcd028152602060048201526024808201527f4f6f70732120596f7520444f204e4f54206861766520656e6f75676820746f6b60448201527f656e732e00000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a03808416600090815260076020908152604080832093881683529290522054612564908363ffffffff6128e416565b600160a060020a038085166000818152600760209081526040808320948a168084529482528083209590955584517fa9059cbb0000000000000000000000000000000000000000000000000000000081526004810194909452602484018790529351919363a9059cbb936044808201949293918390030190829087803b1580156125ed57600080fd5b505af1158015612601573d6000803e3d6000fd5b505050506040513d602081101561261757600080fd5b505060408051600160a060020a038681168252602082018590528251908616927f9b1bfa7fa9ee420a16e124f794c35ac9f90472acc99140eb2f6447c714cad8eb928290030190a25060019392505050565b60008061267461296f565b600160a060020a038082166000908152600760209081526040808320938a168352929052205490915083111561271a576040805160e560020a62461bcd02815260206004820152602f60248201527f4f6f70732120596f7520444f204e4f54206861766520656e6f756768205a657260448201527f6f476f6c6420746f20737461656b2e0000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a03808216600090815260076020908152604080832093891683529290522054612750908463ffffffff6128e416565b600160a060020a038083166000908152600760209081526040808320938a168352929052205561277e61296f565b600160a060020a031663a9059cbb85856040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b1580156127e057600080fd5b505af11580156127f4573d6000803e3d6000fd5b505050506040513d602081101561280a57600080fd5b505060408051600160a060020a0380881682528616602082015280820185905290517f5977734d55b6b9af2b83c139da152c01ae2499d50a757450ad97b72d945e63119181900360600190a1506001949350505050565b604080517f616e616d652e65637265636f76657279000000000000000000000000000000008152815190819003601001812060055460e060020a6321f8a72102835260048301829052925160009391928492600160a060020a0316916321f8a7219160248082019260209290919082900301818787803b15801561165a57600080fd5b6000828211156128f357600080fd5b50900390565b60008080805b60148160ff16101561295e5761010083029250848160ff1681518110151561292357fe5b01602001517f0100000000000000000000000000000000000000000000000000000000000000908190048102049283019291506001016128ff565b50909392505050565b6000903b1190565b604080517f616e616d652e30474f4c440000000000000000000000000000000000000000008152815190819003600b01812060055460e060020a6321f8a72102835260048301829052925160009391928492600160a060020a0316916321f8a7219160248082019260209290919082900301818787803b15801561165a57600080fd5b60806040519081016040528060049060208202803883395091929150505600a165627a7a723058201594d1f089bb8b5bb701335e7ae5ba27e8d9d4cd2247591d3b03d557a44ac0bc0029"
}