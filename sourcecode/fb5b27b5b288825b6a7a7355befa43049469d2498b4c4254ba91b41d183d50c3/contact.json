{
  "address": "0x7e0855e4d0c87542752d20d52d0096868d20d860",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "Luckyblock",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-01-03\n*/\n\npragma solidity ^0.4.24;\n\n\n/**\n * @title -\n * play a luckyblock : )\n * Contact us for further cooperation [email protected]\n *\n * ██╗      ██╗   ██╗  ██████╗ ██╗  ██╗ ██╗   ██╗ ██████╗  ██╗       ██████╗   ██████╗ ██╗  ██╗\n * ██║      ██║   ██║ ██╔════╝ ██║ ██╔╝ ╚██╗ ██╔╝ ██╔══██╗ ██║      ██╔═══██╗ ██╔════╝ ██║ ██╔╝\n * ██║      ██║   ██║ ██║      █████╔╝   ╚████╔╝  ██████╔╝ ██║      ██║   ██║ ██║      █████╔╝\n * ██║      ██║   ██║ ██║      ██╔═██╗    ╚██╔╝   ██╔══██╗ ██║      ██║   ██║ ██║      ██╔═██╗\n * ███████╗ ╚██████╔╝ ╚██████╗ ██║  ██╗    ██║    ██████╔╝ ███████╗ ╚██████╔╝ ╚██████╗ ██║  ██╗\n * ╚══════╝  ╚═════╝   ╚═════╝ ╚═╝  ╚═╝    ╚═╝    ╚═════╝  ╚══════╝  ╚═════╝   ╚═════╝ ╚═╝  ╚═╝\n *\n * ---\n * POWERED BY\n * ╦   ╔═╗ ╦═╗ ╔╦╗ ╦   ╔═╗ ╔═╗ ╔═╗      ╔╦╗ ╔═╗ ╔═╗ ╔╦╗\n * ║   ║ ║ ╠╦╝  ║║ ║   ║╣  ╚═╗ ╚═╗       ║  ║╣  ╠═╣ ║║║\n * ╩═╝ ╚═╝ ╩╚═ ═╩╝ ╩═╝ ╚═╝ ╚═╝ ╚═╝       ╩  ╚═╝ ╩ ╩ ╩ ╩\n * game at https://game.lordless.io\n * code at https://github.com/lordlessio\n */\n\n\n\n\n\n// File: node_modules/zeppelin-solidity/contracts/ownership/Ownable.sol\n\n/**\n * @title Ownable\n * @dev The Ownable contract has an owner address, and provides basic authorization control\n * functions, this simplifies the implementation of \"user permissions\".\n */\ncontract Ownable {\n  address public owner;\n\n\n  event OwnershipRenounced(address indexed previousOwner);\n  event OwnershipTransferred(\n    address indexed previousOwner,\n    address indexed newOwner\n  );\n\n\n  /**\n   * @dev The Ownable constructor sets the original `owner` of the contract to the sender\n   * account.\n   */\n  constructor() public {\n    owner = msg.sender;\n  }\n\n  /**\n   * @dev Throws if called by any account other than the owner.\n   */\n  modifier onlyOwner() {\n    require(msg.sender == owner);\n    _;\n  }\n\n  /**\n   * @dev Allows the current owner to relinquish control of the contract.\n   * @notice Renouncing to ownership will leave the contract without an owner.\n   * It will not be possible to call the functions with the `onlyOwner`\n   * modifier anymore.\n   */\n  function renounceOwnership() public onlyOwner {\n    emit OwnershipRenounced(owner);\n    owner = address(0);\n  }\n\n  /**\n   * @dev Allows the current owner to transfer control of the contract to a newOwner.\n   * @param _newOwner The address to transfer ownership to.\n   */\n  function transferOwnership(address _newOwner) public onlyOwner {\n    _transferOwnership(_newOwner);\n  }\n\n  /**\n   * @dev Transfers control of the contract to a newOwner.\n   * @param _newOwner The address to transfer ownership to.\n   */\n  function _transferOwnership(address _newOwner) internal {\n    require(_newOwner != address(0));\n    emit OwnershipTransferred(owner, _newOwner);\n    owner = _newOwner;\n  }\n}\n\n// File: node_modules/zeppelin-solidity/contracts/lifecycle/Pausable.sol\n\n/**\n * @title Pausable\n * @dev Base contract which allows children to implement an emergency stop mechanism.\n */\ncontract Pausable is Ownable {\n  event Pause();\n  event Unpause();\n\n  bool public paused = false;\n\n\n  /**\n   * @dev Modifier to make a function callable only when the contract is not paused.\n   */\n  modifier whenNotPaused() {\n    require(!paused);\n    _;\n  }\n\n  /**\n   * @dev Modifier to make a function callable only when the contract is paused.\n   */\n  modifier whenPaused() {\n    require(paused);\n    _;\n  }\n\n  /**\n   * @dev called by the owner to pause, triggers stopped state\n   */\n  function pause() public onlyOwner whenNotPaused {\n    paused = true;\n    emit Pause();\n  }\n\n  /**\n   * @dev called by the owner to unpause, returns to normal state\n   */\n  function unpause() public onlyOwner whenPaused {\n    paused = false;\n    emit Unpause();\n  }\n}\n\n// File: node_modules/zeppelin-solidity/contracts/access/rbac/Roles.sol\n\n/**\n * @title Roles\n * @author Francisco Giordano (@frangio)\n * @dev Library for managing addresses assigned to a Role.\n * See RBAC.sol for example usage.\n */\nlibrary Roles {\n  struct Role {\n    mapping (address => bool) bearer;\n  }\n\n  /**\n   * @dev give an address access to this role\n   */\n  function add(Role storage _role, address _addr)\n    internal\n  {\n    _role.bearer[_addr] = true;\n  }\n\n  /**\n   * @dev remove an address' access to this role\n   */\n  function remove(Role storage _role, address _addr)\n    internal\n  {\n    _role.bearer[_addr] = false;\n  }\n\n  /**\n   * @dev check if an address has this role\n   * // reverts\n   */\n  function check(Role storage _role, address _addr)\n    internal\n    view\n  {\n    require(has(_role, _addr));\n  }\n\n  /**\n   * @dev check if an address has this role\n   * @return bool\n   */\n  function has(Role storage _role, address _addr)\n    internal\n    view\n    returns (bool)\n  {\n    return _role.bearer[_addr];\n  }\n}\n\n// File: node_modules/zeppelin-solidity/contracts/access/rbac/RBAC.sol\n\n/**\n * @title RBAC (Role-Based Access Control)\n * @author Matt Condon (@Shrugs)\n * @dev Stores and provides setters and getters for roles and addresses.\n * Supports unlimited numbers of roles and addresses.\n * See //contracts/mocks/RBACMock.sol for an example of usage.\n * This RBAC method uses strings to key roles. It may be beneficial\n * for you to write your own implementation of this interface using Enums or similar.\n */\ncontract RBAC {\n  using Roles for Roles.Role;\n\n  mapping (string => Roles.Role) private roles;\n\n  event RoleAdded(address indexed operator, string role);\n  event RoleRemoved(address indexed operator, string role);\n\n  /**\n   * @dev reverts if addr does not have role\n   * @param _operator address\n   * @param _role the name of the role\n   * // reverts\n   */\n  function checkRole(address _operator, string _role)\n    public\n    view\n  {\n    roles[_role].check(_operator);\n  }\n\n  /**\n   * @dev determine if addr has role\n   * @param _operator address\n   * @param _role the name of the role\n   * @return bool\n   */\n  function hasRole(address _operator, string _role)\n    public\n    view\n    returns (bool)\n  {\n    return roles[_role].has(_operator);\n  }\n\n  /**\n   * @dev add a role to an address\n   * @param _operator address\n   * @param _role the name of the role\n   */\n  function addRole(address _operator, string _role)\n    internal\n  {\n    roles[_role].add(_operator);\n    emit RoleAdded(_operator, _role);\n  }\n\n  /**\n   * @dev remove a role from an address\n   * @param _operator address\n   * @param _role the name of the role\n   */\n  function removeRole(address _operator, string _role)\n    internal\n  {\n    roles[_role].remove(_operator);\n    emit RoleRemoved(_operator, _role);\n  }\n\n  /**\n   * @dev modifier to scope access to a single role (uses msg.sender as addr)\n   * @param _role the name of the role\n   * // reverts\n   */\n  modifier onlyRole(string _role)\n  {\n    checkRole(msg.sender, _role);\n    _;\n  }\n\n  /**\n   * @dev modifier to scope access to a set of roles (uses msg.sender as addr)\n   * @param _roles the names of the roles to scope access to\n   * // reverts\n   *\n   * @TODO - when solidity supports dynamic arrays as arguments to modifiers, provide this\n   *  see: https://github.com/ethereum/solidity/issues/2467\n   */\n  // modifier onlyRoles(string[] _roles) {\n  //     bool hasAnyRole = false;\n  //     for (uint8 i = 0; i < _roles.length; i++) {\n  //         if (hasRole(msg.sender, _roles[i])) {\n  //             hasAnyRole = true;\n  //             break;\n  //         }\n  //     }\n\n  //     require(hasAnyRole);\n\n  //     _;\n  // }\n}\n\n// File: node_modules/zeppelin-solidity/contracts/ownership/Superuser.sol\n\n/**\n * @title Superuser\n * @dev The Superuser contract defines a single superuser who can transfer the ownership\n * of a contract to a new address, even if he is not the owner.\n * A superuser can transfer his role to a new address.\n */\ncontract Superuser is Ownable, RBAC {\n  string public constant ROLE_SUPERUSER = \"superuser\";\n\n  constructor () public {\n    addRole(msg.sender, ROLE_SUPERUSER);\n  }\n\n  /**\n   * @dev Throws if called by any account that's not a superuser.\n   */\n  modifier onlySuperuser() {\n    checkRole(msg.sender, ROLE_SUPERUSER);\n    _;\n  }\n\n  modifier onlyOwnerOrSuperuser() {\n    require(msg.sender == owner || isSuperuser(msg.sender));\n    _;\n  }\n\n  /**\n   * @dev getter to determine if address has superuser role\n   */\n  function isSuperuser(address _addr)\n    public\n    view\n    returns (bool)\n  {\n    return hasRole(_addr, ROLE_SUPERUSER);\n  }\n\n  /**\n   * @dev Allows the current superuser to transfer his role to a newSuperuser.\n   * @param _newSuperuser The address to transfer ownership to.\n   */\n  function transferSuperuser(address _newSuperuser) public onlySuperuser {\n    require(_newSuperuser != address(0));\n    removeRole(msg.sender, ROLE_SUPERUSER);\n    addRole(_newSuperuser, ROLE_SUPERUSER);\n  }\n\n  /**\n   * @dev Allows the current superuser or owner to transfer control of the contract to a newOwner.\n   * @param _newOwner The address to transfer ownership to.\n   */\n  function transferOwnership(address _newOwner) public onlyOwnerOrSuperuser {\n    _transferOwnership(_newOwner);\n  }\n}\n\n// File: contracts/lib/SafeMath.sol\n\n/**\n * @title SafeMath\n */\nlibrary SafeMath {\n  /**\n  * @dev Integer division of two numbers, truncating the quotient.\n  */\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\n    // assert(b > 0); // Solidity automatically throws when dividing by 0\n    // uint256 c = a / b;\n    // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n    return a / b;\n  }\n\n  /**\n  * @dev Multiplies two numbers, throws on overflow.\n  */\n  function mul(uint256 a, uint256 b) \n      internal \n      pure \n      returns (uint256 c) \n  {\n    if (a == 0) {\n      return 0;\n    }\n    c = a * b;\n    require(c / a == b, \"SafeMath mul failed\");\n    return c;\n  }\n\n  /**\n  * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n  */\n  function sub(uint256 a, uint256 b)\n      internal\n      pure\n      returns (uint256) \n  {\n    require(b <= a, \"SafeMath sub failed\");\n    return a - b;\n  }\n\n  /**\n  * @dev Adds two numbers, throws on overflow.\n  */\n  function add(uint256 a, uint256 b)\n      internal\n      pure\n      returns (uint256 c) \n  {\n    c = a + b;\n    require(c >= a, \"SafeMath add failed\");\n    return c;\n  }\n  \n  /**\n    * @dev gives square root of given x.\n    */\n  function sqrt(uint256 x)\n      internal\n      pure\n      returns (uint256 y) \n  {\n    uint256 z = ((add(x,1)) / 2);\n    y = x;\n    while (z < y) \n    {\n      y = z;\n      z = ((add((x / z),z)) / 2);\n    }\n  }\n  \n  /**\n    * @dev gives square. batchplies x by x\n    */\n  function sq(uint256 x)\n      internal\n      pure\n      returns (uint256)\n  {\n    return (mul(x,x));\n  }\n  \n  /**\n    * @dev x to the power of y \n    */\n  function pwr(uint256 x, uint256 y)\n      internal \n      pure \n      returns (uint256)\n  {\n    if (x==0)\n        return (0);\n    else if (y==0)\n        return (1);\n    else \n    {\n      uint256 z = x;\n      for (uint256 i=1; i < y; i++)\n        z = mul(z,x);\n      return (z);\n    }\n  }\n}\n\n// File: contracts/luckyblock/ILuckyblock.sol\n\n/**\n * @title -luckyblock Interface\n */\n\ninterface ILuckyblock{\n\n  function getLuckyblockSpend(\n    bytes32 luckyblockId\n  ) external view returns (\n    address[],\n    uint256[],\n    uint256\n  ); \n\n  function getLuckyblockEarn(\n    bytes32 luckyblockId\n    ) external view returns (\n    address[],\n    uint256[],\n    int[],\n    uint256,\n    int\n  );\n\n  function getLuckyblockBase(\n    bytes32 luckyblockId\n    ) external view returns (\n      bool\n  );\n\n  function addLuckyblock(uint256 seed) external;\n\n  function start(\n    bytes32 luckyblockId\n  ) external;\n\n  function stop(\n    bytes32 luckyblockId\n  ) external;\n\n  function updateLuckyblockSpend(\n    bytes32 luckyblockId,\n    address[] spendTokenAddresses, \n    uint256[] spendTokenCount,\n    uint256 spendEtherCount\n  ) external;\n\n  function updateLuckyblockEarn (\n    bytes32 luckyblockId,\n    address[] earnTokenAddresses,\n    uint256[] earnTokenCount,\n    int[] earnTokenProbability, // (0 - 100)\n    uint256 earnEtherCount,\n    int earnEtherProbability\n  ) external;\n  function setRandomContract(address _randomContract) external;\n  function getLuckyblockIds()external view returns(bytes32[]);\n  function play(bytes32 luckyblockId) public payable;\n  function withdrawToken(address contractAddress, address to, uint256 balance) external;\n  function withdrawEth(address to, uint256 balance) external;\n\n  \n  \n\n  /* Events */\n\n  event Play (\n    bytes32 indexed luckyblockId,\n    address user,\n    uint8 random\n  );\n\n  event WithdrawToken (\n    address indexed contractAddress,\n    address to,\n    uint256 count\n  );\n\n  event WithdrawEth (\n    address to,\n    uint256 count\n  );\n\n  event Pay (\n    address from,\n    uint256 value\n  );\n}\n\n\ncontract ERC20Interface {\n  function transfer(address to, uint tokens) public returns (bool);\n  function transferFrom(address from, address to, uint tokens) public returns (bool);\n  function balanceOf(address tokenOwner) public view returns (uint256);\n  function allowance(address tokenOwner, address spender) public view returns (uint);\n}\n\ncontract Random {\n  function getRandom() external view returns (uint8);\n}\n\ncontract Luckyblock is Superuser, Pausable, ILuckyblock {\n\n  using SafeMath for *;\n\n  address public randomContract;\n\n  struct User {\n    address user;\n    string name;\n    uint256 verifytime;\n    uint256 verifyFee;\n  }\n\n  struct LuckyblockBase {\n    bool ended;\n  }\n\n  struct LuckyblockSpend {\n    address[] spendTokenAddresses;\n    uint256[] spendTokenCount;\n    uint256 spendEtherCount;\n  }\n\n  struct LuckyblockEarn {\n    address[] earnTokenAddresses;\n    uint256[] earnTokenCount;\n    int[] earnTokenProbability; // (0 - 100)\n    uint256 earnEtherCount;\n    int earnEtherProbability;\n  }\n\n  bytes32[] public luckyblockIds; //\n\n  mapping (address => bytes32[]) contractAddressToLuckyblockId;\n\n  mapping (bytes32 => LuckyblockEarn) luckyblockIdToLuckyblockEarn;\n  mapping (bytes32 => LuckyblockSpend) luckyblockIdToLuckyblockSpend;\n  mapping (bytes32 => LuckyblockBase) luckyblockIdToLuckyblockBase;\n\n\n  mapping (bytes32 => mapping (address => bool)) luckyblockIdToUserAddress;\n  mapping (address => uint256) contractAddressToLuckyblockCount;\n\n  function () public payable {\n    emit Pay(msg.sender, msg.value);\n  }\n\n  function setRandomContract(address _randomContract) external onlyOwnerOrSuperuser {\n    randomContract = _randomContract;\n  }\n\n  function getLuckyblockIds()external view returns(bytes32[]){\n    return luckyblockIds;\n  }\n\n  function getLuckyblockSpend(\n    bytes32 luckyblockId\n    ) external view returns (\n      address[],\n      uint256[],\n      uint256\n    ) {\n    LuckyblockSpend storage _luckyblockSpend = luckyblockIdToLuckyblockSpend[luckyblockId];\n    return (\n      _luckyblockSpend.spendTokenAddresses,\n      _luckyblockSpend.spendTokenCount,\n      _luckyblockSpend.spendEtherCount\n      );\n  }\n\n  function getLuckyblockEarn(\n    bytes32 luckyblockId\n    ) external view returns (\n      address[],\n      uint256[],\n      int[],\n      uint256,\n      int\n    ) {\n    LuckyblockEarn storage _luckyblockEarn = luckyblockIdToLuckyblockEarn[luckyblockId];\n    return (\n      _luckyblockEarn.earnTokenAddresses,\n      _luckyblockEarn.earnTokenCount,\n      _luckyblockEarn.earnTokenProbability,\n      _luckyblockEarn.earnEtherCount,\n      _luckyblockEarn.earnEtherProbability\n      );\n  }\n\n  function getLuckyblockBase(\n    bytes32 luckyblockId\n    ) external view returns (\n      bool\n    ) {\n    LuckyblockBase storage _luckyblockBase = luckyblockIdToLuckyblockBase[luckyblockId];\n    return (\n      _luckyblockBase.ended\n      );\n  }\n  \n  function addLuckyblock(uint256 seed) external onlyOwnerOrSuperuser {\n    bytes32 luckyblockId = keccak256(\n      abi.encodePacked(block.timestamp, seed)\n    );\n    LuckyblockBase memory _luckyblockBase = LuckyblockBase(\n      false\n    );\n    luckyblockIds.push(luckyblockId);\n    luckyblockIdToLuckyblockBase[luckyblockId] = _luckyblockBase;\n  }\n\n  function start(bytes32 luckyblockId) external{\n    LuckyblockBase storage _luckyblockBase = luckyblockIdToLuckyblockBase[luckyblockId];\n    _luckyblockBase.ended = false;\n    luckyblockIdToLuckyblockBase[luckyblockId] = _luckyblockBase;\n  }\n\n  function stop(bytes32 luckyblockId) external{\n    LuckyblockBase storage _luckyblockBase = luckyblockIdToLuckyblockBase[luckyblockId];\n    _luckyblockBase.ended = true;\n    luckyblockIdToLuckyblockBase[luckyblockId] = _luckyblockBase;\n  }\n\n  function updateLuckyblockSpend (\n    bytes32 luckyblockId,\n    address[] spendTokenAddresses, \n    uint256[] spendTokenCount,\n    uint256 spendEtherCount\n    ) external onlyOwnerOrSuperuser {\n    LuckyblockSpend memory _luckyblockSpend = LuckyblockSpend(\n      spendTokenAddresses,\n      spendTokenCount,\n      spendEtherCount\n    );\n    luckyblockIdToLuckyblockSpend[luckyblockId] = _luckyblockSpend;\n  }\n\n  function updateLuckyblockEarn (\n    bytes32 luckyblockId,\n    address[] earnTokenAddresses,\n    uint256[] earnTokenCount,\n    int[] earnTokenProbability, // (0 - 100)\n    uint256 earnEtherCount,\n    int earnEtherProbability\n    ) external onlyOwnerOrSuperuser {\n    LuckyblockEarn memory _luckyblockEarn = LuckyblockEarn(\n      earnTokenAddresses,\n      earnTokenCount,\n      earnTokenProbability, // (0 - 100)\n      earnEtherCount,\n      earnEtherProbability\n    );\n    luckyblockIdToLuckyblockEarn[luckyblockId] = _luckyblockEarn;\n  }\n\n  // function isContract(address _address) private view returns (bool){\n  //   uint size;\n  //   assembly { size := extcodesize(addr) }\n  //   return size > 0;\n  // }\n\n  function isContract(address addr) private returns (bool) {\n    uint size;\n    assembly { size := extcodesize(addr) }\n    return size > 0;\n  }\n\n  function play(bytes32 luckyblockId) public payable whenNotPaused {\n    require(!isContract(msg.sender));\n    LuckyblockBase storage _luckyblockBase = luckyblockIdToLuckyblockBase[luckyblockId];\n    LuckyblockSpend storage _luckyblockSpend = luckyblockIdToLuckyblockSpend[luckyblockId];\n    LuckyblockEarn storage _luckyblockEarn = luckyblockIdToLuckyblockEarn[luckyblockId];\n    \n    require(!_luckyblockBase.ended, \"luckyblock is ended\");\n\n    // check sender's ether balance \n    require(msg.value >= _luckyblockSpend.spendEtherCount, \"sender value not enough\");\n\n    // check spend\n    if (_luckyblockSpend.spendTokenAddresses[0] != address(0x0)) {\n      for (uint8 i = 0; i < _luckyblockSpend.spendTokenAddresses.length; i++) {\n\n        // check sender's erc20 balance \n        require(\n          ERC20Interface(\n            _luckyblockSpend.spendTokenAddresses[i]\n          ).balanceOf(address(msg.sender)) >= _luckyblockSpend.spendTokenCount[i]\n        );\n\n        require(\n          ERC20Interface(\n            _luckyblockSpend.spendTokenAddresses[i]\n          ).allowance(address(msg.sender), address(this)) >= _luckyblockSpend.spendTokenCount[i]\n        );\n\n        // transfer erc20 token\n        ERC20Interface(_luckyblockSpend.spendTokenAddresses[i])\n          .transferFrom(msg.sender, address(this), _luckyblockSpend.spendTokenCount[i]);\n        }\n    }\n    \n    // check earn erc20\n    if (_luckyblockEarn.earnTokenAddresses[0] !=\n      address(0x0)) {\n      for (uint8 j= 0; j < _luckyblockEarn.earnTokenAddresses.length; j++) {\n        // check sender's erc20 balance \n        uint256 earnTokenCount = _luckyblockEarn.earnTokenCount[j];\n        require(\n          ERC20Interface(_luckyblockEarn.earnTokenAddresses[j])\n          .balanceOf(address(this)) >= earnTokenCount\n        );\n      }\n    }\n    \n    // check earn ether\n    require(address(this).balance >= _luckyblockEarn.earnEtherCount, \"contract value not enough\");\n\n    // do a random\n    uint8 _random = random();\n\n    // earn erc20\n    for (uint8 k = 0; k < _luckyblockEarn.earnTokenAddresses.length; k++){\n      // if win erc20\n      if (_luckyblockEarn.earnTokenAddresses[0]\n        != address(0x0)){\n        if (_random + _luckyblockEarn.earnTokenProbability[k] >= 100) {\n          ERC20Interface(_luckyblockEarn.earnTokenAddresses[k])\n            .transfer(msg.sender, _luckyblockEarn.earnTokenCount[k]);\n        }\n      }\n    }\n    uint256 value = msg.value;\n    uint256 payExcess = value.sub(_luckyblockSpend.spendEtherCount);\n    \n    // if win ether\n    if (_random + _luckyblockEarn.earnEtherProbability >= 100) {\n      uint256 balance = _luckyblockEarn.earnEtherCount.add(payExcess);\n      if (balance > 0){\n        msg.sender.transfer(balance);\n      }\n    } else if (payExcess > 0) {\n      msg.sender.transfer(payExcess);\n    }\n    \n    emit Play(luckyblockId, msg.sender, _random);\n  }\n\n  function withdrawToken(address contractAddress, address to, uint256 balance)\n    external onlyOwnerOrSuperuser {\n    ERC20Interface erc20 = ERC20Interface(contractAddress);\n    if (balance == uint256(0x0)){\n      erc20.transfer(to, erc20.balanceOf(address(this)));\n      emit WithdrawToken(contractAddress, to, erc20.balanceOf(address(this)));\n    } else {\n      erc20.transfer(to, balance);\n      emit WithdrawToken(contractAddress, to, balance);\n    }\n  }\n\n  function withdrawEth(address to, uint256 balance) external onlySuperuser {\n    if (balance == uint256(0x0)) {\n      to.transfer(address(this).balance);\n      emit WithdrawEth(to, address(this).balance);\n    } else {\n      to.transfer(balance);\n      emit WithdrawEth(to, balance);\n    }\n  }\n\n  function random() private view returns (uint8) {\n    return Random(randomContract).getRandom(); // random 0-99\n  }\n}",
  "bytecode": "6002805460ff1916905560008054600160a060020a0319163390811790915560c0604052600960809081527f737570657275736572000000000000000000000000000000000000000000000060a05262000063919064010000000062000069810204565b620001b4565b620000e5826001836040518082805190602001908083835b60208310620000a25780518252601f19909201916020918201910162000081565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220929150506401000000006200018f81026200213a1704565b81600160a060020a03167fbfec83d64eaa953f2708271a023ab9ee82057f8f3578d548c1a4ba0b5b700489826040518080602001828103825283818151815260200191508051906020019080838360005b838110156200015057818101518382015260200162000136565b50505050905090810190601f1680156200017e5780820380516001836020036101000a031916815260200191505b509250505060405180910390a25050565b600160a060020a0316600090815260209190915260409020805460ff19166001179055565b61231380620001c46000396000f30060806040526004361061013a5763ffffffff60e060020a600035041663015a18ed811461017657806301e336671461019057806306e232c4146101ba5780630933e3a71461021f5780630988ca8c146102405780630bbdb469146102a757806310c5a2471461035f5780631b9a91a414610389578063217fe6c6146103ad5780633ccd09af146104285780633f4ba83a1461046a57806357c393fa1461047f5780635b7dc56a146104a05780635c975abb146104d357806363c4f031146104e8578063715018a61461050057806371a4dc5e146105155780638456cb59146106195780638da5cb5b1461062e578063bceee05e1461065f578063bd7173dd14610680578063c7a1865b14610698578063ccf69e9b146106a3578063d0937598146106b8578063ebb4f484146106d0578063f2fde38b1461075a575b6040805133815234602082015281517f357b676c439b9e49b4410f8eb8680bee4223724802d8e3fd422e1756f87b475f929181900390910190a1005b34801561018257600080fd5b5061018e60043561077b565b005b34801561019c57600080fd5b5061018e600160a060020a0360043581169060243516604435610793565b3480156101c657600080fd5b506101cf610a62565b60408051602080825283518183015283519192839290830191858101910280838360005b8381101561020b5781810151838201526020016101f3565b505050509050019250505060405180910390f35b34801561022b57600080fd5b5061018e600160a060020a0360043516610abc565b34801561024c57600080fd5b5060408051602060046024803582810135601f810185900485028601850190965285855261018e958335600160a060020a0316953695604494919390910191908190840183828082843750949750610b199650505050505050565b3480156102b357600080fd5b506102bf600435610b87565b604051808060200180602001848152602001838103835286818151815260200191508051906020019060200280838360005b838110156103095781810151838201526020016102f1565b50505050905001838103825285818151815260200191508051906020019060200280838360005b83811015610348578181015183820152602001610330565b505050509050019550505050505060405180910390f35b34801561036b57600080fd5b50610377600435610c61565b60408051918252519081900360200190f35b34801561039557600080fd5b5061018e600160a060020a0360043516602435610c80565b3480156103b957600080fd5b5060408051602060046024803582810135601f8101859004850286018501909652858552610414958335600160a060020a0316953695604494919390910191908190840183828082843750949750610db39650505050505050565b604080519115158252519081900360200190f35b34801561043457600080fd5b5061018e60048035906024803580820192908101359160443580820192908101359160643590810191013560843560a435610e26565b34801561047657600080fd5b5061018e610f8b565b34801561048b57600080fd5b5061018e600160a060020a0360043516610fe8565b3480156104ac57600080fd5b5061018e600480359060248035808201929081013591604435908101910135606435611087565b3480156104df57600080fd5b50610414611187565b3480156104f457600080fd5b5061018e600435611190565b34801561050c57600080fd5b5061018e6111b6565b34801561052157600080fd5b5061052d600435611222565b60405180806020018060200180602001868152602001858152602001848103845289818151815260200191508051906020019060200280838360005b83811015610581578181015183820152602001610569565b50505050905001848103835288818151815260200191508051906020019060200280838360005b838110156105c05781810151838201526020016105a8565b50505050905001848103825287818151815260200191508051906020019060200280838360005b838110156105ff5781810151838201526020016105e7565b505050509050019850505050505050505060405180910390f35b34801561062557600080fd5b5061018e611363565b34801561063a57600080fd5b506106436113c2565b60408051600160a060020a039092168252519081900360200190f35b34801561066b57600080fd5b50610414600160a060020a03600435166113d1565b34801561068c57600080fd5b5061018e600435611406565b61018e600435611513565b3480156106af57600080fd5b50610643611cbc565b3480156106c457600080fd5b50610414600435611cd0565b3480156106dc57600080fd5b506106e5611ce5565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561071f578181015183820152602001610707565b50505050905090810190601f16801561074c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561076657600080fd5b5061018e600160a060020a0360043516611d0a565b6000908152600760205260409020805460ff19169055565b60008054600160a060020a03163314806107b157506107b1336113d1565b15156107bc57600080fd5b5082811515610986576040805160e060020a6370a082310281523060048201529051600160a060020a0383169163a9059cbb91869184916370a08231916024808201926020929091908290030181600087803b15801561081b57600080fd5b505af115801561082f573d6000803e3d6000fd5b505050506040513d602081101561084557600080fd5b50516040805160e060020a63ffffffff8616028152600160a060020a03909316600484015260248301919091525160448083019260209291908290030181600087803b15801561089457600080fd5b505af11580156108a8573d6000803e3d6000fd5b505050506040513d60208110156108be57600080fd5b50506040805160e060020a6370a082310281523060048201529051600160a060020a03808716927f037238854fe57fbf51f09946f854fc3916fe83938d6521f09bd05463839f13049287928616916370a082319160248083019260209291908290030181600087803b15801561093357600080fd5b505af1158015610947573d6000803e3d6000fd5b505050506040513d602081101561095d57600080fd5b505160408051600160a060020a03909316835260208301919091528051918290030190a2610a5c565b80600160a060020a031663a9059cbb84846040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b1580156109e957600080fd5b505af11580156109fd573d6000803e3d6000fd5b505050506040513d6020811015610a1357600080fd5b505060408051600160a060020a038581168252602082018590528251908716927f037238854fe57fbf51f09946f854fc3916fe83938d6521f09bd05463839f1304928290030190a25b50505050565b60606003805480602002602001604051908101604052809291908181526020018280548015610ab157602002820191906000526020600020905b81548152600190910190602001808311610a9c575b505050505090505b90565b600054600160a060020a0316331480610ad95750610ad9336113d1565b1515610ae457600080fd5b60028054600160a060020a039092166101000274ffffffffffffffffffffffffffffffffffffffff0019909216919091179055565b610b83826001836040518082805190602001908083835b60208310610b4f5780518252601f199092019160209182019101610b30565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092915050611d3b565b5050565b60008181526006602090815260408083206002810154815483518186028101860190945280845260609586959094849360018501939092859190830182828015610bfa57602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311610bdc575b5050505050925081805480602002602001604051908101604052809291908181526020018280548015610c4c57602002820191906000526020600020905b815481526020019060010190808311610c38575b50505050509150935093509350509193909250565b6003805482908110610c6f57fe5b600091825260209091200154905081565b610cad336040805190810160405280600981526020016000805160206122c8833981519152815250610b19565b801515610d3457604051600160a060020a03831690303180156108fc02916000818181858888f19350505050158015610cea573d6000803e3d6000fd5b5060408051600160a060020a03841681523031602082015281517fccbd99ba6da8f29b2a4f65e474e3c3973564d356c162c08d45f3dc7f0cb5b3aa929181900390910190a1610b83565b604051600160a060020a0383169082156108fc029083906000818181858888f19350505050158015610d6a573d6000803e3d6000fd5b5060408051600160a060020a03841681526020810183905281517fccbd99ba6da8f29b2a4f65e474e3c3973564d356c162c08d45f3dc7f0cb5b3aa929181900390910190a15050565b6000610e1f836001846040518082805190602001908083835b60208310610deb5780518252601f199092019160209182019101610dcc565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092915050611d50565b9392505050565b610e2e61215f565b600054600160a060020a0316331480610e4b5750610e4b336113d1565b1515610e5657600080fd5b60a0604051908101604052808a8a80806020026020016040519081016040528093929190818152602001838360200280828437820191505050505050815260200188888080602002602001604051908101604052809392919081815260200183836020028082843782019150505050505081526020018686808060200260200160405190810160405280939291908181526020018383602002808284375050509284525050506020808201869052604091820185905260008d815260058252919091208251805193945084939192610f339284929091019061218f565b506020828101518051610f4c9260018501920190612201565b5060408201518051610f68916002840191602090910190612201565b506060820151600382015560809091015160049091015550505050505050505050565b600054600160a060020a03163314610fa257600080fd5b60025460ff161515610fb357600080fd5b6002805460ff191690556040517f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b3390600090a1565b611015336040805190810160405280600981526020016000805160206122c8833981519152815250610b19565b600160a060020a038116151561102a57600080fd5b611057336040805190810160405280600981526020016000805160206122c8833981519152815250611d6f565b611084816040805190810160405280600981526020016000805160206122c8833981519152815250611e80565b50565b61108f612248565b600054600160a060020a03163314806110ac57506110ac336113d1565b15156110b757600080fd5b606060405190810160405280878780806020026020016040519081016040528093929190818152602001838360200280828437820191505050505050815260200185858080602002602001604051908101604052809392919081815260200183836020028082843750505092845250505060209081018490526000898152600682526040902082518051939450849391926111579284929091019061218f565b5060208281015180516111709260018501920190612201565b506040820151816002015590505050505050505050565b60025460ff1681565b6000908152600760205260409020805460ff1990811660011760ff811615159116179055565b600054600160a060020a031633146111cd57600080fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a26000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600081815260056020908152604080832060038101546004820154825484518187028101870190955280855260609687968796919586959094859460018601946002870194909187918301828280156112a457602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311611286575b50505050509450838054806020026020016040519081016040528092919081815260200182805480156112f657602002820191906000526020600020905b8154815260200190600101908083116112e2575b505050505093508280548060200260200160405190810160405280929190818152602001828054801561134857602002820191906000526020600020905b815481526020019060010190808311611334575b50505050509250955095509550955095505091939590929450565b600054600160a060020a0316331461137a57600080fd5b60025460ff161561138a57600080fd5b6002805460ff191660011790556040517f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff62590600090a1565b600054600160a060020a031681565b6000611400826040805190810160405280600981526020016000805160206122c8833981519152815250610db3565b92915050565b600061141061226a565b600054600160a060020a031633148061142d575061142d336113d1565b151561143857600080fd5b428360405160200180838152602001828152602001925050506040516020818303038152906040526040518082805190602001908083835b6020831061148f5780518252601f199092019160209182019101611470565b51815160209384036101000a6000190180199092169116179052604080519290940182900382208282018552600080845260038054600181019091557fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b018290559081526007909152929092209151825460ff191690151517909155505050505050565b6000806000806000806000806000806000600260009054906101000a900460ff1615151561154057600080fd5b61154933611f52565b1561155357600080fd5b60008c815260076020908152604080832060068352818420600590935292208254929d50909b50995060ff16156115d4576040805160e560020a62461bcd02815260206004820152601360248201527f6c75636b79626c6f636b20697320656e64656400000000000000000000000000604482015290519081900360640190fd5b60028a0154341015611630576040805160e560020a62461bcd02815260206004820152601760248201527f73656e6465722076616c7565206e6f7420656e6f756768000000000000000000604482015290519081900360640190fd5b89546000908b908290811061164157fe5b600091825260209091200154600160a060020a03161461190257600097505b895460ff891610156119025760018a01805460ff8a1690811061167f57fe5b90600052602060002001548a6000018960ff1681548110151561169e57fe5b60009182526020808320909101546040805160e060020a6370a082310281523360048201529051600160a060020a03909216936370a082319360248084019491939192918390030190829087803b1580156116f857600080fd5b505af115801561170c573d6000803e3d6000fd5b505050506040513d602081101561172257600080fd5b5051101561172f57600080fd5b60018a01805460ff8a1690811061174257fe5b90600052602060002001548a6000018960ff1681548110151561176157fe5b6000918252602080832090910154604080517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523360048201523060248201529051600160a060020a039092169363dd62ed3e9360448084019491939192918390030190829087803b1580156117d757600080fd5b505af11580156117eb573d6000803e3d6000fd5b505050506040513d602081101561180157600080fd5b5051101561180e57600080fd5b89548a9060ff8a1690811061181f57fe5b60009182526020909120015460018b018054600160a060020a03909216916323b872dd91339130919060ff8e1690811061185557fe5b90600052602060002001546040518463ffffffff1660e060020a0281526004018084600160a060020a0316600160a060020a0316815260200183600160a060020a0316600160a060020a031681526020018281526020019350505050602060405180830381600087803b1580156118cb57600080fd5b505af11580156118df573d6000803e3d6000fd5b505050506040513d60208110156118f557600080fd5b5050600190970196611660565b88546000908a908290811061191357fe5b600091825260209091200154600160a060020a031614611a0f57600096505b885460ff88161015611a0f5760018901805460ff891690811061195157fe5b9060005260206000200154955085896000018860ff1681548110151561197357fe5b60009182526020808320909101546040805160e060020a6370a082310281523060048201529051600160a060020a03909216936370a082319360248084019491939192918390030190829087803b1580156119cd57600080fd5b505af11580156119e1573d6000803e3d6000fd5b505050506040513d60208110156119f757600080fd5b50511015611a0457600080fd5b600190960195611932565b600389015430311015611a6c576040805160e560020a62461bcd02815260206004820152601960248201527f636f6e74726163742076616c7565206e6f7420656e6f75676800000000000000604482015290519081900360640190fd5b611a74611f5a565b9450600093505b885460ff85161015611bb85788546000908a9082908110611a9857fe5b600091825260209091200154600160a060020a031614611bad576064896002018560ff16815481101515611ac857fe5b90600052602060002001548660ff1601121515611bad578854899060ff8616908110611af057fe5b60009182526020909120015460018a018054600160a060020a039092169163a9059cbb91339160ff8916908110611b2357fe5b90600052602060002001546040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b158015611b8057600080fd5b505af1158015611b94573d6000803e3d6000fd5b505050506040513d6020811015611baa57600080fd5b50505b600190930192611a7b565b60028a0154349350611bd190849063ffffffff611fe016565b9150606489600401548660ff1601121515611c3a576003890154611bfb908363ffffffff61204016565b90506000811115611c3557604051339082156108fc029083906000818181858888f19350505050158015611c33573d6000803e3d6000fd5b505b611c72565b6000821115611c7257604051339083156108fc029084906000818181858888f19350505050158015611c70573d6000803e3d6000fd5b505b6040805133815260ff8716602082015281518e927f1009100be547b15253a834b07028268987e77a9111d95d8c973ffdc19a374604928290030190a2505050505050505050505050565b6002546101009004600160a060020a031681565b60009081526007602052604090205460ff1690565b60408051808201909152600981526000805160206122c8833981519152602082015281565b600054600160a060020a0316331480611d275750611d27336113d1565b1515611d3257600080fd5b6110848161209b565b611d458282611d50565b1515610b8357600080fd5b600160a060020a03166000908152602091909152604090205460ff1690565b611dd9826001836040518082805190602001908083835b60208310611da55780518252601f199092019160209182019101611d86565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092915050612118565b81600160a060020a03167fd211483f91fc6eff862467f8de606587a30c8fc9981056f051b897a418df803a826040518080602001828103825283818151815260200191508051906020019080838360005b83811015611e42578181015183820152602001611e2a565b50505050905090810190601f168015611e6f5780820380516001836020036101000a031916815260200191505b509250505060405180910390a25050565b611eea826001836040518082805190602001908083835b60208310611eb65780518252601f199092019160209182019101611e97565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092209291505061213a565b81600160a060020a03167fbfec83d64eaa953f2708271a023ab9ee82057f8f3578d548c1a4ba0b5b7004898260405180806020018281038252838181518152602001915080519060200190808383600083811015611e42578181015183820152602001611e2a565b6000903b1190565b6000600260019054906101000a9004600160a060020a0316600160a060020a031663aacc5a176040518163ffffffff1660e060020a028152600401602060405180830381600087803b158015611faf57600080fd5b505af1158015611fc3573d6000803e3d6000fd5b505050506040513d6020811015611fd957600080fd5b5051905090565b60008282111561203a576040805160e560020a62461bcd02815260206004820152601360248201527f536166654d61746820737562206661696c656400000000000000000000000000604482015290519081900360640190fd5b50900390565b81810182811015611400576040805160e560020a62461bcd02815260206004820152601360248201527f536166654d61746820616464206661696c656400000000000000000000000000604482015290519081900360640190fd5b600160a060020a03811615156120b057600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600160a060020a0316600090815260209190915260409020805460ff19169055565b600160a060020a0316600090815260209190915260409020805460ff19166001179055565b60a06040519081016040528060608152602001606081526020016060815260200160008152602001600081525090565b8280548282559060005260206000209081019282156121f1579160200282015b828111156121f1578251825473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039091161782556020909201916001909101906121af565b506121fd92915061227c565b5090565b82805482825590600052602060002090810192821561223c579160200282015b8281111561223c578251825591602001919060010190612221565b506121fd9291506122ad565b6060604051908101604052806060815260200160608152602001600081525090565b60408051602081019091526000815290565b610ab991905b808211156121fd57805473ffffffffffffffffffffffffffffffffffffffff19168155600101612282565b610ab991905b808211156121fd57600081556001016122b356007375706572757365720000000000000000000000000000000000000000000000a165627a7a72305820a56ab4d47b74499bf9994b387033609d9aa5133d95fa72e64e97745dd166ab9d0029"
}