{
  "address": "0xff77e51f2c6473f72392865e0a0000de19af774a",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "DisclosureManager",
  "compilerVersion": "v0.4.18+commit.9cf6e910",
  "optimization": false,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2017-11-21\n*/\n\npragma solidity 0.4.18;\n\n// This contract provides the functions necessary to record (\"push\") & retrieve\n// public funding data to the Ethereum blockchain for the National Research\n// Council of Canada\n\ncontract DisclosureManager {\n\n\taddress public owner;\n\n\tstruct Disclosure {\n\t\tbytes32 organization;\n\t\tbytes32 recipient;\n\t\tbytes32 location;\n\t\tbytes16 amount;\n\t\tbytes1 fundingType;\n\t\tbytes16 date;\n\t\tbytes32 purpose;\n\t\tbytes32 comment;\n\t\tuint amended;    // if zero not amended, otherwise points to the rowNumber of the new record\n\t}\n\n\tDisclosure[] public disclosureList;\n\n\tevent disclosureAdded(\n    uint rowNumber,\n    bytes32 organization,\n    bytes32 recipient,\n    bytes32 location,\n    bytes16 amount,\n    bytes1 fundingType,\n    bytes16 date,\n    bytes32 purpose,\n    bytes32 comment);\n\n\tfunction DisclosureManager() public {\n\t\towner = msg.sender;\n\t}\n\n\t// Make sure the caller of the contract is the owner\n\t// modifier isOwner() { if (msg.sender != owner) throw; _ ;}   // old way\n\tmodifier isOwner() { if (msg.sender != owner) revert(); _ ;}\n\n\t// getListCount() returns the number of records in disclosureList (not including the empty 0th record)\n\tfunction getListCount() public constant returns(uint listCount) {\n  \tif (disclosureList.length > 0) {\n\t\t\treturn disclosureList.length - 1;    // Returns the last rowNumber, reflecting number of records in list\n\t\t} else {\n\t\t\treturn 0;    // The case of an uninitialized list\n\t\t}\n\t}\n\t// Future idea: Another function to return total number of unamended Entries? (ie actual record count)\n\n\t// Create/push a new entry to our array, returns the new Entry's rowNumber\n\tfunction newEntry(bytes32 organization,\n\t\t\t\t\t  bytes32 recipient,\n\t\t\t\t\t  bytes32 location,\n\t\t\t\t\t  bytes16 amount,\n\t\t\t\t\t  bytes1 fundingType,\n\t\t\t\t\t  bytes16 date,\n\t\t\t\t\t  bytes32 purpose,\n\t\t\t\t\t  bytes32 comment) public isOwner() returns(uint rowNumber) {    // should this be public? yes, only needed isOwner()\n\n\t\t// Initialize disclosureList here as needed by putting an empty record at row 0\n\t\t// The first entry starts at 1 and getListCount will be in accordance with the record count\n\t\tif (disclosureList.length == 0) {\n\t\t\t// Push an empty Entry\n\t\t\tDisclosure memory nullEntry;\n\t\t\tdisclosureList.push(nullEntry);\n\t\t}\n\n\t\tDisclosure memory disclosure;\n\n\t\tdisclosure.organization = organization;\n\t\tdisclosure.recipient = recipient;\n\t\tdisclosure.location = location;\n\t\tdisclosure.amount = amount;\n\t\tdisclosure.fundingType = fundingType;\n\t\tdisclosure.date = date;\n\t\tdisclosure.purpose = purpose;\n\t\tdisclosure.comment = comment;\n\t\tdisclosure.amended = 0;\n\n\t\t// Push entry to the array\n\t\tuint index = disclosureList.push(disclosure);   // adds to end of array (of structs) and returns the new array length\n\t\tindex = index - 1;\n\n\t\t// Record the event\n\t\tdisclosureAdded(index, organization, recipient, location, amount, fundingType, date, purpose, comment);\n\n\t\treturn index;   // returning rowNumber of the record\n\t}\n\n\t// Amends/changes marks existing entry as amended and takes passed data to\n\t// create a new Entry to which the amended pointer (rowNumber) will point.\n\tfunction amendEntry(uint rowNumber,\n\t\t\t\t\t\tbytes32 organization,\n\t\t\t\t\t\tbytes32 recipient,\n\t\t\t\t\t\tbytes32 location,\n\t\t\t\t\t\tbytes16 amount,\n\t\t\t\t\t\tbytes1 fundingType,\n\t\t\t\t\t\tbytes16 date,\n\t\t\t\t\t\tbytes32 purpose,\n\t\t\t\t\t\tbytes32 comment) public isOwner() returns(uint newRowNumber) {    // returns the new rowNumber of amended record\n\n\t\t// Make sure passed rowNumber is in bounds\n\t\tif (rowNumber >= disclosureList.length) { revert(); }\n\t\tif (rowNumber < 1) { revert(); }\n\t\tif (disclosureList[rowNumber].amended > 0) { revert(); }    // This record is already amended\n\n\t\t// First create new entry\n\t\tDisclosure memory disclosure;\n\n\t\tdisclosure.organization = organization;\n\t\tdisclosure.recipient = recipient;\n\t\tdisclosure.location = location;\n\t\tdisclosure.amount = amount;\n\t\tdisclosure.fundingType = fundingType;\n\t\tdisclosure.date = date;\n\t\tdisclosure.purpose = purpose;\n\t\tdisclosure.comment = comment;\n\t\tdisclosure.amended = 0;\n\n\t\t// Push entry to the array\n\t\tuint index = disclosureList.push(disclosure);   // adds to end of array (of structs) and returns the new array length\n\t\tindex = index - 1;\n\n\t\t// Now that we have the newRowNumber (index), set the amended field on the old record\n\t\tdisclosureList[rowNumber].amended = index;\n\n\t\t// Record the event\n\t\tdisclosureAdded(index, organization, recipient, location, amount, fundingType, date, purpose, comment);   // a different event for amending?\n\n\t\treturn index;   // returning rowNumber of the new record\n\t}\n\n\t// Returns row regardless of whether or not it has been amended\n\tfunction pullRow(uint rowNumber) public constant returns(bytes32, bytes32, bytes32, bytes16, bytes1, bytes16, bytes32, bytes32, uint) {\n\t\t// First make sure rowNumber passed is within bounds\n\t\tif (rowNumber >= disclosureList.length) { revert(); }\n\t\tif (rowNumber < 1) { revert(); }\n\t\t// Should not use any gas:\n\t\tDisclosure memory entry = disclosureList[rowNumber];\n\t\treturn (entry.organization, entry.recipient, entry.location, entry.amount, entry.fundingType, entry.date, entry.purpose, entry.comment, entry.amended);\n\t}\n\n\t// Returns latest entry of record intended to pull\n\tfunction pullEntry(uint rowNumber) public constant returns(bytes32, bytes32, bytes32, bytes16, bytes1, bytes16, bytes32, bytes32) {\n\t\t// First make sure rowNumber passed is within bounds\n\t\tif (rowNumber >= disclosureList.length) { revert(); }\n\t\tif (rowNumber < 1) { revert(); }\n\t\t// If this entry has been amended, return amended entry instead (recursively)\n\t\t// just make sure there are never any cyclical lists (shouldn't be possible using these functions)\n\t\tif (disclosureList[rowNumber].amended > 0) return pullEntry(disclosureList[rowNumber].amended);\n\t\t// Should not require any gas to run:\n\t\tDisclosure memory entry = disclosureList[rowNumber];\n\t\treturn (entry.organization, entry.recipient, entry.location, entry.amount, entry.fundingType, entry.date, entry.purpose, entry.comment);\n\t\t// No event for pullEntry() since it shouldn't cost gas to call it\n\t}\n\n}",
  "bytecode": "6060604052341561000f57600080fd5b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061179a8061005e6000396000f300606060405260043610610083576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632ce37b10146100885780638da5cb5b146100b1578063909c36b51461010657806393bcabb7146101d8578063b98ef00d146102ff578063cd781bf314610426578063f7feeb3114610546575b600080fd5b341561009357600080fd5b61009b610621565b6040518082815260200191505060405180910390f35b34156100bc57600080fd5b6100c4610647565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561011157600080fd5b6101c260048080356000191690602001909190803560001916906020019091908035600019169060200190919080356fffffffffffffffffffffffffffffffff19169060200190919080357effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19169060200190919080356fffffffffffffffffffffffffffffffff1916906020019091908035600019169060200190919080356000191690602001909190505061066c565b6040518082815260200191505060405180910390f35b34156101e357600080fd5b6101f96004808035906020019091905050610bec565b604051808a6000191660001916815260200189600019166000191681526020018860001916600019168152602001876fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff19168152602001867effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168152602001856fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff1916815260200184600019166000191681526020018360001916600019168152602001828152602001995050505050505050505060405180910390f35b341561030a57600080fd5b6103206004808035906020019091905050610e15565b604051808a6000191660001916815260200189600019166000191681526020018860001916600019168152602001876fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff19168152602001867effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168152602001856fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff1916815260200184600019166000191681526020018360001916600019168152602001828152602001995050505050505050505060405180910390f35b341561043157600080fd5b6104476004808035906020019091905050610ed8565b60405180896000191660001916815260200188600019166000191681526020018760001916600019168152602001866fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff19168152602001857effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168152602001846fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff19168152602001836000191660001916815260200182600019166000191681526020019850505050505050505060405180910390f35b341561055157600080fd5b61060b60048080359060200190919080356000191690602001909190803560001916906020019091908035600019169060200190919080356fffffffffffffffffffffffffffffffff19169060200190919080357effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19169060200190919080356fffffffffffffffffffffffffffffffff1916906020019091908035600019169060200190919080356000191690602001909190505061115d565b6040518082815260200191505060405180910390f35b600080600180549050111561063f5760018080549050039050610644565b600090505b90565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60006106766115ef565b61067e6115ef565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156106db57600080fd5b6000600180549050141561083557600180548060010182816106fd9190611693565b9160005260206000209060080201600085909190915060008201518160000190600019169055602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a8154816fffffffffffffffffffffffffffffffff02191690837001000000000000000000000000000000009004021790555060808201518160030160106101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009004021790555060a08201518160040160006101000a8154816fffffffffffffffffffffffffffffffff02191690837001000000000000000000000000000000009004021790555060c0820151816005019060001916905560e0820151816006019060001916905561010082015181600701555050505b8b826000019060001916908160001916815250508a8260200190600019169081600019168152505089826040019060001916908160001916815250508882606001906fffffffffffffffffffffffffffffffff191690816fffffffffffffffffffffffffffffffff1916815250508782608001907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690817effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191681525050868260a001906fffffffffffffffffffffffffffffffff191690816fffffffffffffffffffffffffffffffff191681525050858260c001906000191690816000191681525050848260e0019060001916908160001916815250506000826101000181815250506001805480600101828161096d9190611693565b9160005260206000209060080201600084909190915060008201518160000190600019169055602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a8154816fffffffffffffffffffffffffffffffff02191690837001000000000000000000000000000000009004021790555060808201518160030160106101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009004021790555060a08201518160040160006101000a8154816fffffffffffffffffffffffffffffffff02191690837001000000000000000000000000000000009004021790555060c0820151816005019060001916905560e082015181600601906000191690556101008201518160070155505090506001810390507fc53dbf82405e2d0fe866f48d92057bf3aeb4b03a85bdb420c0e459b35166aaff818d8d8d8d8d8d8d8d604051808a8152602001896000191660001916815260200188600019166000191681526020018760001916600019168152602001866fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff19168152602001857effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168152602001846fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff1916815260200183600019166000191681526020018260001916600019168152602001995050505050505050505060405180910390a180935050505098975050505050505050565b6000806000806000806000806000610c026115ef565b6001805490508b101515610c1557600080fd5b60018b1015610c2357600080fd5b60018b815481101515610c3257fe5b906000526020600020906008020161012060405190810160405290816000820154600019166000191681526020016001820154600019166000191681526020016002820154600019166000191681526020016003820160009054906101000a9004700100000000000000000000000000000000026fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff191681526020016003820160109054906101000a90047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191681526020016004820160009054906101000a9004700100000000000000000000000000000000026fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff191681526020016005820154600019166000191681526020016006820154600019166000191681526020016007820154815250509050806000015181602001518260400151836060015184608001518560a001518660c001518760e00151886101000151995099509950995099509950995099509950509193959799909294969850565b600181815481101515610e2457fe5b90600052602060002090600802016000915090508060000154908060010154908060020154908060030160009054906101000a900470010000000000000000000000000000000002908060030160109054906101000a90047f010000000000000000000000000000000000000000000000000000000000000002908060040160009054906101000a900470010000000000000000000000000000000002908060050154908060060154908060070154905089565b600080600080600080600080610eec6115ef565b6001805490508a101515610eff57600080fd5b60018a1015610f0d57600080fd5b600060018b815481101515610f1e57fe5b9060005260206000209060080201600701541115610f7457610f5f60018b815481101515610f4857fe5b906000526020600020906008020160070154610ed8565b98509850985098509850985098509850611151565b60018a815481101515610f8357fe5b906000526020600020906008020161012060405190810160405290816000820154600019166000191681526020016001820154600019166000191681526020016002820154600019166000191681526020016003820160009054906101000a9004700100000000000000000000000000000000026fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff191681526020016003820160109054906101000a90047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191681526020016004820160009054906101000a9004700100000000000000000000000000000000026fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff191681526020016005820154600019166000191681526020016006820154600019166000191681526020016007820154815250509050806000015181602001518260400151836060015184608001518560a001518660c001518760e00151985098509850985098509850985098505b50919395975091939597565b60006111676115ef565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156111c457600080fd5b6001805490508c1015156111d757600080fd5b60018c10156111e557600080fd5b600060018d8154811015156111f657fe5b906000526020600020906008020160070154111561121357600080fd5b8a82600001906000191690816000191681525050898260200190600019169081600019168152505088826040019060001916908160001916815250508782606001906fffffffffffffffffffffffffffffffff191690816fffffffffffffffffffffffffffffffff1916815250508682608001907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690817effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191681525050858260a001906fffffffffffffffffffffffffffffffff191690816fffffffffffffffffffffffffffffffff191681525050848260c001906000191690816000191681525050838260e0019060001916908160001916815250506000826101000181815250506001805480600101828161134b9190611693565b9160005260206000209060080201600084909190915060008201518160000190600019169055602082015181600101906000191690556040820151816002019060001916905560608201518160030160006101000a8154816fffffffffffffffffffffffffffffffff02191690837001000000000000000000000000000000009004021790555060808201518160030160106101000a81548160ff02191690837f01000000000000000000000000000000000000000000000000000000000000009004021790555060a08201518160040160006101000a8154816fffffffffffffffffffffffffffffffff02191690837001000000000000000000000000000000009004021790555060c0820151816005019060001916905560e082015181600601906000191690556101008201518160070155505090506001810390508060018d81548110151561149957fe5b9060005260206000209060080201600701819055507fc53dbf82405e2d0fe866f48d92057bf3aeb4b03a85bdb420c0e459b35166aaff818c8c8c8c8c8c8c8c604051808a8152602001896000191660001916815260200188600019166000191681526020018760001916600019168152602001866fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff19168152602001857effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168152602001846fffffffffffffffffffffffffffffffff19166fffffffffffffffffffffffffffffffff1916815260200183600019166000191681526020018260001916600019168152602001995050505050505050505060405180910390a180925050509998505050505050505050565b6101206040519081016040528060008019168152602001600080191681526020016000801916815260200160006fffffffffffffffffffffffffffffffff1916815260200160007effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200160006fffffffffffffffffffffffffffffffff191681526020016000801916815260200160008019168152602001600081525090565b8154818355818115116116c0576008028160080283600052602060002091820191016116bf91906116c5565b5b505050565b61176b91905b8082111561176757600080820160009055600182016000905560028201600090556003820160006101000a8154906fffffffffffffffffffffffffffffffff02191690556003820160106101000a81549060ff02191690556004820160006101000a8154906fffffffffffffffffffffffffffffffff0219169055600582016000905560068201600090556007820160009055506008016116cb565b5090565b905600a165627a7a723058209f36ca007cca0b8d7446e7e900adf77829d917405fe94e4978a070fa347c404a0029"
}