{
  "address": "0xcc70db1ac810677c06d9cc1cdd8c953b12edd3fa",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "EthRV",
  "compilerVersion": "v0.4.25+commit.59dbf8f1",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-11-30\n*/\n\npragma solidity 0.4.25;\n\n\ncontract EthRV {\n  using SafeMath for uint;\n\n  struct Investor {\n    uint deposit;\n    uint paymentTime;\n    uint withdrawal;\n    uint boostStartup;\n    bool isParticipant;\n  }\n\n  mapping (address => Investor) public investors;\n  address public admin1Address;\n  address public admin2Address;\n  address public admin3Address;\n  address public owner;\n  uint public investmentsNumber;\n  uint public investorsNumber;\n\n  modifier onlyOwner() {\n    require(msg.sender == owner, \"access denied\");\n    _;\n  }\n\n  event OnRefLink(address indexed referral, uint referrarBonus, address indexed referrer,  uint referrerBonus, uint time);\n  event OnNewInvestor(address indexed addr, uint time);\n  event OnInvesment(address indexed addr, uint deposit, uint time);\n  event OnBoostChanged(address indexed addr, bool isActive, uint time);\n  event OnEarlyWithdrawal(address indexed addr, uint withdrawal, uint time);\n  event OnDeleteInvestor(address indexed addr, uint time);\n  event OnWithdraw(address indexed addr, uint withdrawal, uint time);\n  event OnBoostBonus(address indexed addr, uint bonus, uint time);\n  event OnNotEnoughBalance(uint time);\n\n  constructor() public {\n    owner = msg.sender;\n    admin1Address = msg.sender;\n    admin2Address = msg.sender;\n    admin3Address = msg.sender;\n  }\n\n  function() external payable {\n    if (msg.value == 0) {\n      withdraw();\n    } else if (msg.value == 0.0077777 ether) {\n      boost();\n    } else if (msg.value == 0.0088888 ether) {\n      earlyWithdrawal();\n    } else {\n      deposit(bytes2address(msg.data));\n    }\n  }\n\n  function disown() public onlyOwner {\n    owner = address(0x0);\n  }\n\n  function setAdminsAddress(uint n, address addr) public onlyOwner {\n    require(n >= 1 && n <= 3, \"invalid number of admin`s address\");\n    if (n == 1) {\n      admin1Address = addr;\n    } else if (n == 2) {\n      admin2Address = addr;\n    } else {\n      admin3Address = addr;\n    }\n  }\n\n  function investorDividends(address investorAddr) public view returns(uint dividends, uint boostBonus) {\n    return getDividends(investorAddr);\n  }\n\n  function withdraw() public {\n    address investorAddr = msg.sender;\n    (uint dividends, uint boostBonus) = getDividends(investorAddr);\n    require(dividends > 0, \"cannot to pay zero dividends\");\n    require(address(this).balance > 0, \"fund is empty\");\n    uint withdrawal = dividends + boostBonus;\n\n    // fund limit\n    if (address(this).balance <= withdrawal) {\n      emit OnNotEnoughBalance(now);\n      withdrawal = address(this).balance;\n    }\n\n    Investor storage investor = investors[investorAddr];\n    uint withdrawalLimit = investor.deposit * 200 / 100; // 200%\n    uint totalWithdrawal = withdrawal + investor.withdrawal;\n\n    // withdrawal limit - 200%\n    if (totalWithdrawal >= withdrawalLimit) {\n      withdrawal = withdrawalLimit.sub(investor.withdrawal);\n      if (boostBonus > 0 ) {\n        emit OnBoostBonus(investorAddr, boostBonus, now);\n      }\n      deleteInvestor(investorAddr);\n    } else {\n      // normal withdraw - dont use boostBonus\n      if (withdrawal > dividends) {\n        withdrawal = dividends;\n      }\n      investor.withdrawal += withdrawal;\n      investor.paymentTime = now;\n      if (investor.boostStartup > 0) {\n        investor.boostStartup = 0;\n        emit OnBoostChanged(investorAddr, false, now);\n      }\n    }\n\n    investorAddr.transfer(withdrawal);\n    emit OnWithdraw(investorAddr, withdrawal, now);\n  }\n\n  function earlyWithdrawal() public {\n    address investorAddr = msg.sender;\n    Investor storage investor = investors[investorAddr];\n    require(investor.deposit > 0, \"sender must be an investor\");\n\n    uint earlyWithdrawalLimit = investor.deposit * 70 / 100; // 70%\n    require(earlyWithdrawalLimit > investor.withdrawal, \"early withdraw only before 70% deposit`s withdrawal\");\n\n    uint withdrawal = earlyWithdrawalLimit.sub(investor.withdrawal); \n    investorAddr.transfer(withdrawal);\n    emit OnEarlyWithdrawal(investorAddr, withdrawal, now);\n\n    deleteInvestor(investorAddr);\n  }\n\n  function boost() public {\n    Investor storage investor = investors[msg.sender];\n    require(investor.deposit > 0, \"sender must be an investor\");\n    require(investor.boostStartup == 0, \"boost is already activated\");\n    investor.boostStartup = now;\n    emit OnBoostChanged(msg.sender, true, now);\n  }\n\n  function deposit(address referrerAddr) public payable {\n    uint depositAmount = msg.value;\n    address investorAddr = msg.sender;\n    require(isNotContract(investorAddr), \"invest from contracts is not supported\");\n    require(depositAmount > 0, \"deposit amount cannot be zero\");\n\n    admin1Address.send(depositAmount * 70 / 1000); //   7%\n    admin2Address.send(depositAmount * 15 / 1000); // 1.5%\n    admin3Address.send(depositAmount * 15 / 1000); // 1.5%\n\n    Investor storage investor = investors[investorAddr];\n    bool senderIsNotPaticipant = !investor.isParticipant;\n    bool referrerIsParticipant = investors[referrerAddr].isParticipant;\n\n    // ref link\n    if (senderIsNotPaticipant && referrerIsParticipant && referrerAddr != investorAddr) {\n      uint referrerBonus = depositAmount * 3 / 100; // 3%\n      uint referralBonus = depositAmount * 1 / 100; // 1%\n      referrerAddr.transfer(referrerBonus);\n      investorAddr.transfer(referralBonus);\n      emit OnRefLink(investorAddr, referralBonus, referrerAddr, referrerBonus, now);\n    }\n\n    if (investor.deposit == 0) {\n      investorsNumber++;\n      investor.isParticipant = true;\n      emit OnNewInvestor(investorAddr, now);\n    }\n\n    investor.deposit += depositAmount;\n    investor.paymentTime = now;\n\n    investmentsNumber++;\n    emit OnInvesment(investorAddr, depositAmount, now);\n  }\n\n  function getDividends(address investorAddr) internal view returns(uint dividends, uint boostBonus) {\n    Investor storage investor = investors[investorAddr];\n    if (investor.deposit == 0) {\n      return (0, 0);\n    }\n\n    if (investor.boostStartup > 0) {\n      uint boostDays = now.sub(investor.boostStartup).div(24 hours);\n      boostBonus = boostDays * investor.deposit * 5 / 100000; // 0.005%\n    }\n\n    uint depositDays = now.sub(investor.paymentTime).div(24 hours);\n    dividends = depositDays * investor.deposit * 1 / 100; // 1%\n\n    uint depositAmountBonus;\n    if (10 ether <= investor.deposit && investor.deposit <= 50 ether) {\n      depositAmountBonus = depositDays * investor.deposit * 5 / 10000; // 0.05%\n    } else if (50 ether < investor.deposit) {\n      depositAmountBonus = depositDays * investor.deposit * 11 / 10000; // 0.11%\n    }\n\n    dividends += depositAmountBonus;\n  }\n\n  function isNotContract(address addr) internal view returns (bool) {\n    uint length;\n    assembly { length := extcodesize(addr) }\n    return length == 0;\n  }\n\n  function bytes2address(bytes memory source) internal pure returns(address addr) {\n    assembly { addr := mload(add(source, 0x14)) }\n    return addr;\n  }\n\n  function deleteInvestor(address investorAddr) private {\n    delete investors[investorAddr].deposit;\n    delete investors[investorAddr].paymentTime;\n    delete investors[investorAddr].withdrawal;\n    delete investors[investorAddr].boostStartup;\n    emit OnDeleteInvestor(investorAddr, now);\n    investorsNumber--;\n  }\n}\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that revert on error\n */\nlibrary SafeMath {\n\n  /**\n  * @dev Multiplies two numbers, reverts on overflow.\n  */\n  function mul(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n    // benefit is lost if 'b' is also tested.\n    // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n    if (_a == 0) {\n      return 0;\n    }\n\n    uint256 c = _a * _b;\n    require(c / _a == _b);\n\n    return c;\n  }\n\n  /**\n  * @dev Integer division of two numbers truncating the quotient, reverts on division by zero.\n  */\n  function div(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    require(_b > 0); // Solidity only automatically asserts when dividing by 0\n    uint256 c = _a / _b;\n    // assert(_a == _b * c + _a % _b); // There is no case in which this doesn't hold\n\n    return c;\n  }\n\n  /**\n  * @dev Subtracts two numbers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n  */\n  function sub(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    require(_b <= _a);\n    uint256 c = _a - _b;\n\n    return c;\n  }\n\n  /**\n  * @dev Adds two numbers, reverts on overflow.\n  */\n  function add(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    uint256 c = _a + _b;\n    require(c >= _a);\n\n    return c;\n  }\n\n  /**\n  * @dev Divides two numbers and returns the remainder (unsigned integer modulo),\n  * reverts when dividing by zero.\n  */\n  function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n    require(b != 0);\n    return a % b;\n  }\n}",
  "bytecode": "608060405234801561001057600080fd5b506004805433600160a060020a031991821681179092556001805482168317905560028054821683179055600380549091169091179055611068806100566000396000f3006080604052600436106100cf5763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630482cfa881146101555780630fb599da1461018f57806319e25623146101c05780631e9bf0da146101d55780633ccfd60b146101ea57806349af9e7c146101ff5780635e77eec014610214578063653c3174146102385780636f7bc9be1461025f5780638da5cb5b146102ad5780639197b7cd146102c25780639ec6e054146102d7578063a66f42c0146102ec578063f340fa0114610301575b3415156100e3576100de610315565b610153565b34661ba1c6e5ab680014156100fa576100de6105c2565b34661f9451067ac0001415610111576100de6106cc565b61015361014e6000368080601f01602080910402602001604051908101604052809392919081815260200183838082843750610867945050505050565b61086e565b005b34801561016157600080fd5b50610176600160a060020a0360043516610be3565b6040805192835260208301919091528051918290030190f35b34801561019b57600080fd5b506101a4610bf8565b60408051600160a060020a039092168252519081900360200190f35b3480156101cc57600080fd5b506101a4610c07565b3480156101e157600080fd5b50610153610c16565b3480156101f657600080fd5b50610153610315565b34801561020b57600080fd5b506101a4610c97565b34801561022057600080fd5b50610153600435600160a060020a0360243516610ca6565b34801561024457600080fd5b5061024d610e2f565b60408051918252519081900360200190f35b34801561026b57600080fd5b50610280600160a060020a0360043516610e35565b60408051958652602086019490945284840192909252606084015215156080830152519081900360a00190f35b3480156102b957600080fd5b506101a4610e67565b3480156102ce57600080fd5b506101536106cc565b3480156102e357600080fd5b5061024d610e76565b3480156102f857600080fd5b506101536105c2565b610153600160a060020a036004351661086e565b336000808080808061032687610e7c565b909650945060008611610383576040805160e560020a62461bcd02815260206004820152601c60248201527f63616e6e6f7420746f20706179207a65726f206469766964656e647300000000604482015290519081900360640190fd5b60003031116103dc576040805160e560020a62461bcd02815260206004820152600d60248201527f66756e6420697320656d70747900000000000000000000000000000000000000604482015290519081900360640190fd5b858501935030318410610421576040805142815290517f4bc9b070b42d687df44b2bced54e9dc5f730da426d8bbe0dfdf4e229348b1bdb9181900360200190a1303193505b505050600160a060020a038416600090815260208190526040902080546002820154606460c8909202919091049083018181106104ca57600283015461046e90839063ffffffff610f8e16565b935060008511156104bc57604080518681524260208201528151600160a060020a038a16927fd6bba72cfdd019dac120a28d9c5b47a55253fc3d7a15e214638f4ab72f825d0a928290030190a25b6104c587610fa5565b610540565b858411156104d6578593505b6002830180548501905542600184015560038301546000101561054057600060038401819055604080519182524260208301528051600160a060020a038a16927f53ae0ebde6e4862a1b50a7500508fd6a928f2ad0428d2b8aa9bfd0b7eda125e192908290030190a25b604051600160a060020a0388169085156108fc029086906000818181858888f19350505050158015610576573d6000803e3d6000fd5b50604080518581524260208201528151600160a060020a038a16927f2062721aee90a8bb8a5f4bd9268516248f25c0d9eddeda19278dca76aaea84d3928290030190a250505050505050565b336000908152602081905260408120805490911061062a576040805160e560020a62461bcd02815260206004820152601a60248201527f73656e646572206d75737420626520616e20696e766573746f72000000000000604482015290519081900360640190fd5b600381015415610684576040805160e560020a62461bcd02815260206004820152601a60248201527f626f6f737420697320616c726561647920616374697661746564000000000000604482015290519081900360640190fd5b426003820181905560408051600181526020810192909252805133927f53ae0ebde6e4862a1b50a7500508fd6a928f2ad0428d2b8aa9bfd0b7eda125e192908290030190a250565b336000818152602081905260408120805490919081908110610738576040805160e560020a62461bcd02815260206004820152601a60248201527f73656e646572206d75737420626520616e20696e766573746f72000000000000604482015290519081900360640190fd5b82546064906046020491508260020154821115156107c6576040805160e560020a62461bcd02815260206004820152603360248201527f6561726c79207769746864726177206f6e6c79206265666f726520373025206460448201527f65706f7369746073207769746864726177616c00000000000000000000000000606482015290519081900360840190fd5b60028301546107dc90839063ffffffff610f8e16565b604051909150600160a060020a0385169082156108fc029083906000818181858888f19350505050158015610815573d6000803e3d6000fd5b50604080518281524260208201528151600160a060020a038716927fc2a65ccee1f24869c24110d00effa70494405c116f825f7c4bc9a8c4c61f52e6928290030190a261086184610fa5565b50505050565b6014015190565b343360008080808061087f86611014565b15156108fb576040805160e560020a62461bcd02815260206004820152602660248201527f696e766573742066726f6d20636f6e747261637473206973206e6f742073757060448201527f706f727465640000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b60008711610953576040805160e560020a62461bcd02815260206004820152601d60248201527f6465706f73697420616d6f756e742063616e6e6f74206265207a65726f000000604482015290519081900360640190fd5b600154604051600160a060020a03909116906103e860468a020480156108fc02916000818181858888f15050600254604051600160a060020a0390911693506103e8600f8c020480156108fc02935091506000818181858888f15050600354604051600160a060020a0390911693506103e8600f8c020480156108fc02935091506000818181858888f1505050600160a060020a03808916600090815260208190526040808220600480820154948f16845291909220015490985060ff918216159750169450859150508015610a265750825b8015610a44575085600160a060020a031688600160a060020a031614155b15610b195760646003880204915060648704905087600160a060020a03166108fc839081150290604051600060405180830381858888f19350505050158015610a91573d6000803e3d6000fd5b50604051600160a060020a0387169082156108fc029083906000818181858888f19350505050158015610ac8573d6000803e3d6000fd5b50604080518281526020810184905242818301529051600160a060020a03808b1692908916917f3c5c410adfbff31bca41d5057afa8ec961a887f3a3532131567939c5dcb7ceec9181900360600190a35b84541515610b7c5760068054600190810190915560048601805460ff19169091179055604080514281529051600160a060020a038816917f1c60e9994717b7a38e90d1375a1b49c38a4c8ce7a75da9a17cb79ac3e79188f2919081900360200190a25b8454870185554260018087018290556005805490910190556040805189815260208101929092528051600160a060020a038916927fdaa9a18108ac949df27ff6e414406ff7b98cb63e38a8ec8bd8d1f916656381cc92908290030190a25050505050505050565b600080610bef83610e7c565b91509150915091565b600154600160a060020a031681565b600254600160a060020a031681565b600454600160a060020a03163314610c78576040805160e560020a62461bcd02815260206004820152600d60248201527f6163636573732064656e69656400000000000000000000000000000000000000604482015290519081900360640190fd5b6004805473ffffffffffffffffffffffffffffffffffffffff19169055565b600354600160a060020a031681565b600454600160a060020a03163314610d08576040805160e560020a62461bcd02815260206004820152600d60248201527f6163636573732064656e69656400000000000000000000000000000000000000604482015290519081900360640190fd5b60018210158015610d1a575060038211155b1515610d96576040805160e560020a62461bcd02815260206004820152602160248201527f696e76616c6964206e756d626572206f662061646d696e60732061646472657360448201527f7300000000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b8160011415610dcc576001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a038316179055610e2b565b8160021415610e02576002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a038316179055610e2b565b6003805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790555b5050565b60065481565b600060208190529081526040902080546001820154600283015460038401546004909401549293919290919060ff1685565b600454600160a060020a031681565b60055481565b600160a060020a038116600090815260208190526040812080548291908290819081901515610eb15760009550859450610f85565b600084600301541115610efb57610ee862015180610edc866003015442610f8e90919063ffffffff16565b9063ffffffff61101916565b8454909350620186a09084026005020494505b610f1962015180610edc866001015442610f8e90919063ffffffff16565b84546064828202049750909250678ac7230489e8000011801590610f47575083546802b5e3af16b188000010155b15610f5f578354612710908302600502049050610f80565b83546802b5e3af16b18800001015610f80578354612710908302600b020490505b948501945b50505050915091565b60008083831115610f9e57600080fd5b5050900390565b600160a060020a038116600081815260208181526040808320838155600181018490556002810184905560030192909255815142815291517fbc2d26651a09654ddcc793a5a4b05002aabb6680f39189afe97b7072230413429281900390910190a25060068054600019019055565b3b1590565b60008080831161102857600080fd5b828481151561103357fe5b049493505050505600a165627a7a72305820ae4086ee2e671ad34e39adfa5d542e7fc26afc96c5121ca69355290870611f830029"
}