{
  "address": "0xc97fe365d35b06ddf2a0a29d0761f63ee27f4eea",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "NewB1MP",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-11-14\n*/\n\npragma solidity ^ 0.4.24;\n\n// File: openzeppelin-solidity/contracts/math/SafeMath.sol\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that revert on error\n */\nlibrary SafeMath {\n\n\t/**\n\t * @dev Multiplies two numbers, reverts on overflow.\n\t */\n\tfunction mul(uint256 a, uint256 b) internal pure returns(uint256) {\n\t\t// Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n\t\t// benefit is lost if 'b' is also tested.\n\t\t// See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n\t\tif (a == 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tuint256 c = a * b;\n\t\trequire(c / a == b);\n\n\t\treturn c;\n\t}\n\n\t/**\n\t * @dev Integer division of two numbers truncating the quotient, reverts on division by zero.\n\t */\n\tfunction div(uint256 a, uint256 b) internal pure returns(uint256) {\n\t\trequire(b > 0); // Solidity only automatically asserts when dividing by 0\n\t\tuint256 c = a / b;\n\t\t// assert(a == b * c + a % b); // There is no case in which this doesn't hold\n\n\t\treturn c;\n\t}\n\n\t/**\n\t * @dev Subtracts two numbers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n\t */\n\tfunction sub(uint256 a, uint256 b) internal pure returns(uint256) {\n\t\trequire(b <= a);\n\t\tuint256 c = a - b;\n\n\t\treturn c;\n\t}\n\n\t/**\n\t * @dev Adds two numbers, reverts on overflow.\n\t */\n\tfunction add(uint256 a, uint256 b) internal pure returns(uint256) {\n\t\tuint256 c = a + b;\n\t\trequire(c >= a);\n\n\t\treturn c;\n\t}\n\n\t/**\n\t * @dev Divides two numbers and returns the remainder (unsigned integer modulo),\n\t * reverts when dividing by zero.\n\t */\n\tfunction mod(uint256 a, uint256 b) internal pure returns(uint256) {\n\t\trequire(b != 0);\n\t\treturn a % b;\n\t}\n}\n\n/**\n * @title BaseAccessControl\n * @dev Basic control permissions are setting here\n */\ncontract BaseAccessControl {\n\n\taddress public ceo;\n\taddress public coo;\n\taddress public cfo;\n\n\tconstructor() public {\n\t\tceo = msg.sender;\n\t\tcoo = msg.sender;\n\t\tcfo = msg.sender;\n\t}\n\n\t/** roles modifer */\n\tmodifier onlyCEO() {\n\t\trequire(msg.sender == ceo, \"CEO Only\");\n\t\t_;\n\t}\n\tmodifier onlyCOO() {\n\t\trequire(msg.sender == coo, \"COO Only\");\n\t\t_;\n\t}\n\tmodifier onlyCFO() {\n\t\trequire(msg.sender == cfo, \"CFO Only\");\n\t\t_;\n\t}\n\tmodifier onlyCLevel() {\n\t\trequire(msg.sender == ceo || msg.sender == coo || msg.sender == cfo, \"CLevel Only\");\n\t\t_;\n\t}\n\t/** end modifier */\n\n\t/** util modifer */\n\tmodifier required(address addr) {\n\t\trequire(addr != address(0), \"Address is required.\");\n\t\t_;\n\t}\n\tmodifier onlyHuman(address addr) {\n\t\tuint256 codeLength;\n\t\tassembly {\n\t\t\tcodeLength: = extcodesize(addr)\n\t\t}\n\t\trequire(codeLength == 0, \"Humans only\");\n\t\t_;\n\t}\n\tmodifier onlyContract(address addr) {\n\t\tuint256 codeLength;\n\t\tassembly {\n\t\t\tcodeLength: = extcodesize(addr)\n\t\t}\n\t\trequire(codeLength > 0, \"Contracts only\");\n\t\t_;\n\t}\n\t/** end util modifier */\n\n\t/** setter */\n\tfunction setCEO(address addr) external onlyCEO() required(addr) onlyHuman(addr) {\n\t\tceo = addr;\n\t}\n\n\tfunction setCOO(address addr) external onlyCEO() required(addr) onlyHuman(addr) {\n\t\tcoo = addr;\n\t}\n\n\tfunction setCFO(address addr) external onlyCEO() required(addr) onlyHuman(addr) {\n\t\tcfo = addr;\n\t}\n\t/** end setter */\n}\n\n/**\n * @title MinerAccessControl\n * @dev Expanding the access control module for miner contract, especially for B1MP contract here\n */\ncontract MinerAccessControl is BaseAccessControl {\n\n\taddress public companyWallet;\n\n\tbool public paused = false;\n\n\t/** modifer */\n\tmodifier whenNotPaused() {\n\t\trequire(!paused, \"Paused\");\n\t\t_;\n\t}\n\tmodifier whenPaused() {\n\t\trequire(paused, \"Running\");\n\t\t_;\n\t}\n\t/** end modifier */\n\n\t/** setter */\n\tfunction setCompanyWallet(address newCompanyWallet) external onlyCEO() required(newCompanyWallet) {\n\t\tcompanyWallet = newCompanyWallet;\n\t}\n\n\tfunction paused() public onlyCLevel() whenNotPaused() {\n\t\tpaused = true;\n\t}\n\n\tfunction unpaused() external onlyCEO() whenPaused() {\n\t\tpaused = false;\n\t}\n\t/** end setter */\n}\n\n/**\n * @title B1MPToken\n * @dev This contract is One-Minute Profit Option Contract.\n * And all users can get their one-minute profit option as a ERC721 token through this contract.\n * Even more, all users can exchange their one-minute profit option in the future.\n */\ninterface B1MPToken {\n\tfunction mintByTokenId(address to, uint256 tokenId) external returns(bool);\n}\n\n/**\n * @title B1MP\n * @dev This is the old B1MP contract.\n * Because of some problem, we have decided to migrate all data and use a new one contract.\n */\ninterface B1MP {\n\tfunction _global() external view returns(uint256 revenue, uint256 g_positionAmount, uint256 earlierPayoffPerPosition, uint256 totalRevenue);\n\tfunction _userAddrBook(uint256 index) external view returns(address addr);\n\tfunction _users(address addr) external view returns(uint256 id, uint256 positionAmount, uint256 earlierPayoffMask, uint256 lastRefId);\n\tfunction _invitations(address addr) external view returns(uint256 invitationAmount, uint256 invitationPayoff);\n\tfunction _positionBook(uint256 index1, uint256 index2) external view returns(uint256 minute);\n\tfunction _positionOnwers(uint256 minute) external view returns(address addr);\n\tfunction totalUsers() external view returns(uint256);\n\tfunction getUserPositionIds(address addr) external view returns(uint256[]);\n}\n\n/**\n * @title NewB1MP\n * @dev Because the old one has some problem, we re-devise the whole contract.\n * All actions, such as buying, withdrawing, and etc., are responding and recording by this contract.\n */\ncontract NewB1MP is MinerAccessControl {\n\n\tusing SafeMath for * ;\n\n\t// the activity configurations\n\tstruct Config {\n\t\tuint256 start; // the activity's start-time\n\t\tuint256 end; // the activity's end-time\n\t\tuint256 price; // the price of any one-minute profit option\n\t\tuint256 withdrawFee; // the basic fee for withdrawal request\n\t\tuint8 earlierPayoffRate; // the proportion of dividends to early buyers\n\t\tuint8 invitationPayoffRate; // the proportion of dividends to inviters\n\t\tuint256 finalPrizeThreshold; // the threshold for opening the final prize\n\t\tuint8[10] finalPrizeRates; // a group proportions for the final prize, the final selected proportion will be decided by some parameters\n\t}\n\n\tstruct Global {\n\t\tuint256 revenue; // reserved revenue of the project holder\n\t\tuint256 positionAmount; // the total amount of minutes been sold\n\t\tuint256 earlierPayoffPerPosition; // the average dividends for every minute been sold before\n\t\tuint256 totalRevenue; // total amount of revenue\n\t}\n\n\tstruct User {\n\t\tuint256 id; // user's id, equal to user's index + 1, increment\n\t\tuint256 positionAmount; // the total amount of minutes bought by this user\n\t\tuint256 earlierPayoffMask; // the pre-purchaser dividend that the user should not receive\n\t\tuint256 lastRefId; // the inviter's user-id\n\t\tuint256[] positionIds; // all position ids hold by this user\n\t}\n\n\tstruct Invitation {\n\t\tuint256 amount; // how many people invited\n\t\tuint256 payoff; // how much payoff through invitation\n\t}\n\n\tB1MP public oldB1MPContract; // the old B1MP contract, just for data migration\n\tB1MPToken public tokenContract; // the one-minute profit option contract\n\tConfig public _config; // configurations\n\tGlobal public _global; // globa info\n\taddress[] public _userAddrBook; // users' addresses list, for registration\n\tmapping(address => User) public _users; // all users' detail info\n\tmapping(address => Invitation) public _invitations; // the invitations info\n\n\tuint256[2][] public _positionBook; // all positions list\n\tmapping(uint256 => address) public _positionOwners; // positionId (index + 1) => owner\n\tmapping(uint256 => address) public _positionMiners; // position minute => miner\n\n\tuint256 public _prizePool; // the pool of final prize\n\tuint256 public _prizePoolWithdrawn; // how much money been withdrawn through final prize pool\n\tbool public _isPrizeActivated; // whether the final prize is activated\n\n\taddress[] public _winnerPurchaseListForAddr; // final prize winners list\n\tuint256[] public _winnerPurchaseListForPositionAmount; // the purchase history of final prize winners\n\tmapping(address => uint256) public _winnerPositionAmounts; // the total position amount of any final prize winner\n\tuint256 public _currentWinnerIndex; // the index of current winner, using for a looping array of all winners\n\tuint256 private _winnerCounter; // the total amount of final prize winners\n\tuint256 public _winnerTotalPositionAmount; // the total amount of positons bought by all final prize winners\n\n\tbool private _isReady; // whether the data migration has been completed\n\tuint256 private _userMigrationCounter; // how many users have been migrated\n\n\t/** modifer */\n\tmodifier paymentLimit(uint256 ethVal) {\n\t\trequire(ethVal > 0, \"Too poor.\");\n\t\trequire(ethVal <= 100000 ether, \"Too rich.\");\n\t\t_;\n\t}\n\tmodifier buyLimit(uint256 ethVal) {\n\t\trequire(ethVal >= _config.price, 'Not enough.');\n\t\t_;\n\t}\n\tmodifier withdrawLimit(uint256 ethVal) {\n\t\trequire(ethVal == _config.withdrawFee, 'Not enough.');\n\t\t_;\n\t}\n\tmodifier whenNotEnded() {\n\t\trequire(_config.end == 0 || now < _config.end, 'Ended.');\n\t\t_;\n\t}\n\tmodifier whenEnded() {\n\t\trequire(_config.end != 0 && now >= _config.end, 'Not ended.');\n\t\t_;\n\t}\n\tmodifier whenPrepare() {\n\t\trequire(_config.end == 0, 'Started.');\n\t\trequire(_isReady == false, 'Ready.');\n\t\t_;\n\t}\n\tmodifier whenReady() {\n\t\trequire(_isReady == true, 'Not ready.');\n\t\t_;\n\t}\n\t/** end modifier */\n\n\t// initialize\n\tconstructor(address tokenAddr, address oldB1MPContractAddr) onlyContract(tokenAddr) onlyContract(oldB1MPContractAddr) public {\n\t\t// ready for migration\n\t\toldB1MPContract = B1MP(oldB1MPContractAddr);\n\t\t_isReady = false;\n\t\t_userMigrationCounter = 0;\n\t\t// initialize base info\n\t\ttokenContract = B1MPToken(tokenAddr);\n\t\t_config = Config(1541993890, 0, 90 finney, 5 finney, 10, 20, 20000 ether, [\n\t\t\t5, 6, 7, 8, 10, 13, 15, 17, 20, 25\n\t\t]);\n\t\t_global = Global(0, 0, 0, 0);\n\n\t\t// ready for final prize\n\t\t_currentWinnerIndex = 0;\n\t\t_isPrizeActivated = false;\n\t}\n\n\tfunction migrateUserData(uint256 n) whenPrepare() onlyCEO() public {\n\t\t// intialize _userAddrBook & _users\n\t\tuint256 userAmount = oldB1MPContract.totalUsers();\n\t\t_userAddrBook.length = userAmount;\n\t\t// migrate n users per time\n\t\tuint256 lastMigrationNumber = _userMigrationCounter;\n\t\tfor (_userMigrationCounter; _userMigrationCounter < userAmount && _userMigrationCounter < lastMigrationNumber + n; _userMigrationCounter++) {\n\t\t\t// A. get user address\n\t\t\taddress userAddr = oldB1MPContract._userAddrBook(_userMigrationCounter);\n\t\t\t/// save to _userAddrBook\n\t\t\t_userAddrBook[_userMigrationCounter] = userAddr;\n\t\t\t// B. get user info\n\t\t\t(uint256 id, uint256 positionAmount, uint256 earlierPayoffMask, uint256 lastRefId) = oldB1MPContract._users(userAddr);\n\t\t\tuint256[] memory positionIds = oldB1MPContract.getUserPositionIds(userAddr);\n\t\t\t/// save to _users\n\t\t\t_users[userAddr] = User(id, positionAmount, earlierPayoffMask, lastRefId, positionIds);\n\t\t\t// C. get invitation info\n\t\t\t(uint256 invitationAmount, uint256 invitationPayoff) = oldB1MPContract._invitations(userAddr);\n\t\t\t/// save to _invitations\n\t\t\t_invitations[userAddr] = Invitation(invitationAmount, invitationPayoff);\n\t\t\t// D. get & save position info\n\t\t\tfor (uint256 i = 0; i < positionIds.length; i++) {\n\t\t\t\tuint256 pid = positionIds[i];\n\t\t\t\tif (pid > 0) {\n\t\t\t\t\tif (pid > _positionBook.length) {\n\t\t\t\t\t\t_positionBook.length = pid;\n\t\t\t\t\t}\n\t\t\t\t\tuint256 pIndex = pid.sub(1);\n\t\t\t\t\t_positionBook[pIndex] = [oldB1MPContract._positionBook(pIndex, 0), oldB1MPContract._positionBook(pIndex, 1)];\n\t\t\t\t\t_positionOwners[pIndex] = userAddr;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction migrateGlobalData() whenPrepare() onlyCEO() public {\n\t\t// intialize _global\n\t\t(uint256 revenue, uint256 g_positionAmount, uint256 earlierPayoffPerPosition, uint256 totalRevenue) = oldB1MPContract._global();\n\t\t_global = Global(revenue, g_positionAmount, earlierPayoffPerPosition, totalRevenue);\n\t}\n\n\tfunction depositeForMigration() whenPrepare() onlyCEO() public payable {\n\t\trequire(_userMigrationCounter == oldB1MPContract.totalUsers(), 'Continue to migrate.');\n\t\trequire(msg.value >= address(oldB1MPContract).balance, 'Not enough.');\n\t\t// update revenue, but don't update totalRevenue\n\t\t// because it's the dust of deposit, but not the revenue of sales\n\t\t// it will be not used for final prize\n\t\t_global.revenue = _global.revenue.add(msg.value.sub(address(oldB1MPContract).balance));\n\t\t_isReady = true;\n\t}\n\n\tfunction () whenReady() whenNotEnded() whenNotPaused() onlyHuman(msg.sender) paymentLimit(msg.value) buyLimit(msg.value) public payable {\n\t\tbuyCore(msg.sender, msg.value, 0);\n\t}\n\n\tfunction buy(uint256 refId) whenReady() whenNotEnded() whenNotPaused() onlyHuman(msg.sender) paymentLimit(msg.value) buyLimit(msg.value) public payable {\n\t\tbuyCore(msg.sender, msg.value, refId);\n\t}\n\n\tfunction buyCore(address addr_, uint256 revenue_, uint256 refId_) private {\n\t\t// 1. prepare some data\n\t\tuint256 _positionAmount_ = (revenue_).div(_config.price); // actual amount \n\t\tuint256 _realCost_ = _positionAmount_.mul(_config.price);\n\t\tuint256 _invitationPayoffPart_ = _realCost_.mul(_config.invitationPayoffRate).div(100);\n\t\tuint256 _earlierPayoffPart_ = _realCost_.mul(_config.earlierPayoffRate).div(100);\n\t\trevenue_ = revenue_.sub(_invitationPayoffPart_).sub(_earlierPayoffPart_);\n\t\tuint256 _earlierPayoffMask_ = 0;\n\n\t\t// 2. register a new user\n\t\tif (_users[addr_].id == 0) {\n\t\t\t_userAddrBook.push(addr_); // add to user address list\n\t\t\t_users[addr_].id = _userAddrBook.length; // assign the user id, especially id = userAddrBook.index + 1\n\t\t}\n\n\t\t// 3. update global info\n\t\tif (_global.positionAmount > 0) {\n\t\t\tuint256 eppp = _earlierPayoffPart_.div(_global.positionAmount);\n\t\t\t_global.earlierPayoffPerPosition = eppp.add(_global.earlierPayoffPerPosition); // update global earlier payoff for per position\n\t\t\trevenue_ = revenue_.add(_earlierPayoffPart_.sub(eppp.mul(_global.positionAmount))); // the dust for this dividend\n\t\t} else {\n\t\t\trevenue_ = revenue_.add(_earlierPayoffPart_); // no need to dividend, especially for first one\n\t\t}\n\t\t// update the total position amount\n\t\t_global.positionAmount = _positionAmount_.add(_global.positionAmount);\n\t\t// calculate the current user's earlier payoff mask for this tx\n\t\t_earlierPayoffMask_ = _positionAmount_.mul(_global.earlierPayoffPerPosition);\n\n\t\t// 4. update referral data\n\t\tif (refId_ <= 0 || refId_ > _userAddrBook.length || refId_ == _users[addr_].id) { // the referrer doesn't exist, or is clien self\n\t\t\trefId_ = _users[addr_].lastRefId;\n\t\t} else if (refId_ != _users[addr_].lastRefId) {\n\t\t\t_users[addr_].lastRefId = refId_;\n\t\t}\n\t\t// update referrer's invitation info if he exists\n\t\tif (refId_ != 0) {\n\t\t\taddress refAddr = _userAddrBook[refId_.sub(1)];\n\t\t\t// modify old one or create a new on if it doesn't exist\n\t\t\t_invitations[refAddr].amount = (1).add(_invitations[refAddr].amount); // update invitation amount\n\t\t\t_invitations[refAddr].payoff = _invitationPayoffPart_.add(_invitations[refAddr].payoff); // update invitation payoff\n\t\t} else {\n\t\t\trevenue_ = revenue_.add(_invitationPayoffPart_); // no referrer\n\t\t}\n\n\t\t// 5. update user info\n\t\t_users[addr_].positionAmount = _positionAmount_.add(_users[addr_].positionAmount);\n\t\t_users[addr_].earlierPayoffMask = _earlierPayoffMask_.add(_users[addr_].earlierPayoffMask);\n\t\t// update user's positions details, and record the position\n\t\t_positionBook.push([_global.positionAmount.sub(_positionAmount_).add(1), _global.positionAmount]);\n\t\t_positionOwners[_positionBook.length] = addr_;\n\t\t_users[addr_].positionIds.push(_positionBook.length);\n\n\t\t// 6. archive revenue\n\t\t_global.revenue = revenue_.add(_global.revenue);\n\t\t_global.totalRevenue = revenue_.add(_global.totalRevenue);\n\n\t\t// 7. select 1% user for final prize when the revenue is more than final prize threshold\n\t\tif (_global.totalRevenue > _config.finalPrizeThreshold) {\n\t\t\tuint256 maxWinnerAmount = countWinners(); // the max amount of winners, 1% of total users\n\t\t\t// activate final prize module at least there are more than 100 users\n\t\t\tif (maxWinnerAmount > 0) {\n\t\t\t\tif (maxWinnerAmount > _winnerPurchaseListForAddr.length) {\n\t\t\t\t\t_winnerPurchaseListForAddr.length = maxWinnerAmount;\n\t\t\t\t\t_winnerPurchaseListForPositionAmount.length = maxWinnerAmount;\n\t\t\t\t}\n\t\t\t\t// get the last winner's address\n\t\t\t\taddress lwAddr = _winnerPurchaseListForAddr[_currentWinnerIndex];\n\t\t\t\tif (lwAddr != address(0)) { // deal the last winner's info\n\t\t\t\t\t// deduct this purchase record's positions amount from total amount\n\t\t\t\t\t_winnerTotalPositionAmount = _winnerTotalPositionAmount.sub(_winnerPurchaseListForPositionAmount[_currentWinnerIndex]);\n\t\t\t\t\t// deduct the winner's position amount from  this winner's amount\n\t\t\t\t\t_winnerPositionAmounts[lwAddr] = _winnerPositionAmounts[lwAddr].sub(_winnerPurchaseListForPositionAmount[_currentWinnerIndex]);\n\t\t\t\t\t// this is the winner's last record\n\t\t\t\t\tif (_winnerPositionAmounts[lwAddr] == 0) {\n\t\t\t\t\t\t// delete the winner's info\n\t\t\t\t\t\t_winnerCounter = _winnerCounter.sub(1);\n\t\t\t\t\t\tdelete _winnerPositionAmounts[lwAddr];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// set the new winner's info, or update old winner's info\n\t\t\t\t// register a new winner\n\t\t\t\tif (_winnerPositionAmounts[msg.sender] == 0) {\n\t\t\t\t\t// add a new winner\n\t\t\t\t\t_winnerCounter = _winnerCounter.add(1);\n\t\t\t\t}\n\t\t\t\t// update total amount of winner's positions bought finally\n\t\t\t\t_winnerTotalPositionAmount = _positionAmount_.add(_winnerTotalPositionAmount);\n\t\t\t\t// update winner's position amount\n\t\t\t\t_winnerPositionAmounts[msg.sender] = _positionAmount_.add(_winnerPositionAmounts[msg.sender]);\n\t\t\t\t// directly reset the winner list\n\t\t\t\t_winnerPurchaseListForAddr[_currentWinnerIndex] = msg.sender;\n\t\t\t\t_winnerPurchaseListForPositionAmount[_currentWinnerIndex] = _positionAmount_;\n\t\t\t\t// move the index to next\n\t\t\t\t_currentWinnerIndex = _currentWinnerIndex.add(1);\n\t\t\t\tif (_currentWinnerIndex >= maxWinnerAmount) { // the max index = total amount - 1\n\t\t\t\t\t_currentWinnerIndex = 0; // start a new loop when the number of winners exceed over the max amount allowed\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// 8. update end time\n\t\t_config.end = (now).add(2 days); // expand the end time for every tx\n\t}\n\n\tfunction redeemOptionContract(uint256 positionId, uint256 minute) whenReady() whenNotPaused() onlyHuman(msg.sender) public {\n\t\trequire(_users[msg.sender].id != 0, 'Unauthorized.');\n\t\trequire(positionId <= _positionBook.length && positionId > 0, 'Position Id error.');\n\t\trequire(_positionOwners[positionId] == msg.sender, 'No permission.');\n\t\trequire(minute >= _positionBook[positionId - 1][0] && minute <= _positionBook[positionId - 1][1], 'Wrong interval.');\n\t\trequire(_positionMiners[minute] == address(0), 'Minted.');\n\n\t\t// record the miner\n\t\t_positionMiners[minute] = msg.sender;\n\n\t\t// mint this minute's token\n\t\trequire(tokenContract.mintByTokenId(msg.sender, minute), \"Mining Error.\");\n\t}\n\n\tfunction activateFinalPrize() whenReady() whenEnded() whenNotPaused() onlyCOO() public {\n\t\trequire(_isPrizeActivated == false, 'Activated.');\n\t\t// total revenue should be more than final prize threshold\n\t\tif (_global.totalRevenue > _config.finalPrizeThreshold) {\n\t\t\t// calculate the prize pool\n\t\t\tuint256 selectedfinalPrizeRatesIndex = _winnerCounter.mul(_winnerTotalPositionAmount).mul(_currentWinnerIndex).mod(_config.finalPrizeRates.length);\n\t\t\t_prizePool = _global.totalRevenue.mul(_config.finalPrizeRates[selectedfinalPrizeRatesIndex]).div(100);\n\t\t\t// deduct the final prize pool from the reserved revenue\n\t\t\t_global.revenue = _global.revenue.sub(_prizePool);\n\t\t}\n\t\t// maybe not enough to final prize\n\t\t_isPrizeActivated = true;\n\t}\n\n\tfunction withdraw() whenReady() whenNotPaused() onlyHuman(msg.sender) withdrawLimit(msg.value) public payable {\n\t\t_global.revenue = _global.revenue.add(msg.value); // archive withdrawal fee to revenue, but not total revenue which is for final prize\n\n\t\t// 1. deduct invitation payoff\n\t\tuint256 amount = _invitations[msg.sender].payoff;\n\t\t_invitations[msg.sender].payoff = 0; // clear the user's invitation payoff\n\n\t\t// 2. deduct earlier payoff\n\t\tuint256 ep = (_global.earlierPayoffPerPosition).mul(_users[msg.sender].positionAmount);\n\t\tamount = amount.add(ep.sub(_users[msg.sender].earlierPayoffMask));\n\t\t_users[msg.sender].earlierPayoffMask = ep; // reset the user's earlier payoff mask which include this withdrawal part\n\n\t\t// 3. get the user's final prize, and deduct it\n\t\tif (_isPrizeActivated == true && _winnerPositionAmounts[msg.sender] > 0 &&\n\t\t\t_winnerTotalPositionAmount > 0 && _winnerCounter > 0 && _prizePool > _prizePoolWithdrawn) {\n\t\t\t// calculate the user's prize amount\n\t\t\tuint256 prizeAmount = prize(msg.sender);\n\t\t\t// set the user withdrawal amount\n\t\t\tamount = amount.add(prizeAmount);\n\t\t\t// refresh withdrawal amount of prize pool\n\t\t\t_prizePoolWithdrawn = _prizePoolWithdrawn.add(prizeAmount);\n\t\t\t// clear the user's finally bought position amount, so clear the user's final prize\n\t\t\tclearPrize(msg.sender);\n\t\t\t_winnerCounter = _winnerCounter.sub(1);\n\t\t}\n\n\t\t// 4. send eth\n\t\t(msg.sender).transfer(amount);\n\t}\n\n\tfunction withdrawByCFO(uint256 amount) whenReady() whenNotPaused() onlyCFO() required(companyWallet) public {\n\t\trequire(amount > 0, 'Payoff too samll.');\n\t\tuint256 max = _global.revenue;\n\t\tif (_isPrizeActivated == false) { // when haven't sent final prize\n\t\t\t// deduct the max final prize pool\n\t\t\tmax = max.sub(_global.totalRevenue.mul(_config.finalPrizeRates[_config.finalPrizeRates.length.sub(1)]).div(100));\n\t\t}\n\t\trequire(amount <= max, 'Payoff too big.');\n\n\t\t// deduct the withdrawal amount\n\t\t_global.revenue = _global.revenue.sub(amount);\n\n\t\t// send eth\n\t\tcompanyWallet.transfer(amount);\n\t}\n\n\tfunction withdrawByCFO(address addr) whenReady() whenNotPaused() onlyCFO() onlyContract(addr) required(companyWallet) public {\n\t\t// send all erc20\n\t\trequire(IERC20(addr).transfer(companyWallet, IERC20(addr).balanceOf(this)));\n\t}\n\n\tfunction collectPrizePoolDust() whenReady() whenNotPaused() onlyCOO() public {\n\t\t// when final prize has been sent, and all winners have received prizes\n\t\trequire(_isPrizeActivated == true, 'Not activited.');\n\t\t// collect the prize pool dust\n\t\tif (_winnerCounter == 0 || now > _config.end.add(180 days)) {\n\t\t\t_global.revenue = _global.revenue.add(_prizePool.sub(_prizePoolWithdrawn));\n\t\t\t_prizePoolWithdrawn = _prizePool;\n\t\t}\n\t}\n\n\tfunction totalUsers() public view returns(uint256) {\n\t\treturn _userAddrBook.length;\n\t}\n\n\tfunction getUserAddress(uint256 id) public view returns(address userAddrRet) {\n\t\tif (id <= _userAddrBook.length && id > 0) {\n\t\t\tuserAddrRet = _userAddrBook[id.sub(1)];\n\t\t}\n\t}\n\n\tfunction getUserPositionIds(address addr) public view returns(uint256[]) {\n\t\treturn _users[addr].positionIds;\n\t}\n\n\tfunction countPositions() public view returns(uint256) {\n\t\treturn _positionBook.length;\n\t}\n\n\tfunction getPositions(uint256 id) public view returns(uint256[2] positionsRet) {\n\t\tif (id <= _positionBook.length && id > 0) {\n\t\t\tpositionsRet = _positionBook[id.sub(1)];\n\t\t}\n\t}\n\n\tfunction prize(address addr) public view returns(uint256) {\n\t\tif (_winnerTotalPositionAmount == 0 || _prizePool == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn _winnerPositionAmounts[addr].mul(_prizePool).div(_winnerTotalPositionAmount);\n\t}\n\n\tfunction clearPrize(address addr) private {\n\t\tdelete _winnerPositionAmounts[addr];\n\t}\n\n\tfunction countWinners() public view returns(uint256) {\n\t\treturn _userAddrBook.length.div(100);\n\t}\n\n\tfunction allWinners() public view returns(address[]) {\n\t\treturn _winnerPurchaseListForAddr;\n\t}\n}\n\n\n/**\n * @title ERC20 interface\n * @dev see https://github.com/ethereum/EIPs/issues/20\n */\ninterface IERC20 {\n\tfunction totalSupply() external view returns(uint256);\n\n\tfunction balanceOf(address who) external view returns(uint256);\n\n\tfunction allowance(address owner, address spender)\n\texternal view returns(uint256);\n\n\tfunction transfer(address to, uint256 value) external returns(bool);\n\n\tfunction approve(address spender, uint256 value)\n\texternal returns(bool);\n\n\tfunction transferFrom(address from, address to, uint256 value)\n\texternal returns(bool);\n\n\tevent Transfer(\n\t\taddress indexed from,\n\t\taddress indexed to,\n\t\tuint256 value\n\t);\n\n\tevent Approval(\n\t\taddress indexed owner,\n\t\taddress indexed spender,\n\t\tuint256 value\n\t);\n}",
  "bytecode": "60806040526003805460a060020a60ff02191690553480156200002157600080fd5b50604051604080620041508339810160405280516020909101516000805433600160a060020a03199182168117835560018054831682179055600280549092161790558290813b908111620000d757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f436f6e747261637473206f6e6c79000000000000000000000000000000000000604482015290519081900360640190fd5b82803b600081116200014a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f436f6e747261637473206f6e6c79000000000000000000000000000000000000604482015290519081900360640190fd5b84600460006101000a815481600160a060020a030219169083600160a060020a031602179055506000602060006101000a81548160ff021916908315150217905550600060218190555085600560006101000a815481600160a060020a030219169083600160a060020a0316021790555061010060405190810160405280635be8f5a281526020016000815260200167013fbe85edc9000081526020016611c37937e080008152602001600a60ff168152602001601460ff16815260200169043c33c1937564800000815260200161014060405190810160405280600560ff168152602001600660ff168152602001600760ff168152602001600860ff168152602001600a60ff168152602001600d60ff168152602001600f60ff168152602001601160ff168152602001601460ff168152602001601960ff1681525081525060066000820151816000015560208201518160010155604082015181600201556060820151816003015560808201518160040160006101000a81548160ff021916908360ff16021790555060a08201518160040160016101000a81548160ff021916908360ff16021790555060c0820151816005015560e08201518160060190600a620003199291906200036c565b505060408051608081018252600080825260208201819052918101829052606001819052600d819055600e819055600f8190556010819055601d5550506019805460ff19169055506200042a9350505050565b600183019183908215620003f45791602002820160005b83821115620003c357835183826101000a81548160ff021916908360ff160217905550926020019260010160208160000104928301926001030262000383565b8015620003f25782816101000a81549060ff0219169055600101602081600001049283019260010302620003c3565b505b506200040292915062000406565b5090565b6200042791905b808211156200040257805460ff191681556001016200040d565b90565b613d16806200043a6000396000f3006080604052600436106102165763ffffffff60e060020a60003504166307cdee4981146104755780630d74da20146104a65780630f3b4440146104cd578063104887d0146104ee57806311e471a4146104f8578063129a5b2f1461053257806313212b8e1461054a5780631ec32d151461055f5780631ed203471461057457806327c705c91461058957806327d7874c146105a157806328831187146105c25780632ba73c15146105e35780632ed42bf71461060457806330e00596146106575780633bb029b0146106aa5780633c10dab8146106cb5780633cacd7d6146106e35780633ccfd60b1461072a57806342e3852c1461073257806349e7cd40146107475780634e0a33791461075c57806355a373d61461077d578063562d81b8146107925780635b06585b146107a75780635c975abb146107bf578063605817cc146107d45780636d94d0e0146107e95780637c98eb75146107fe5780638adf9c1f146108135780638e9d135e14610834578063908921fc1461084c57806390d976e2146108615780639c907af414610879578063a5499d7614610894578063a565efff146108ac578063a9353fa2146108c1578063b0b62f5a146108d9578063b3cb350e146108ee578063bff1f9e114610909578063cb649bb91461091e578063d2afdd4814610947578063d8c444c91461095c578063d96a094a14610971578063eddf75701461097c578063f73ec6bd146109ed575b60205460ff161515600114610263576040805160e560020a62461bcd02815260206004820152600a6024820152600080516020613ccb833981519152604482015290519081900360640190fd5b6007541580610273575060075442105b15156102c9576040805160e560020a62461bcd02815260206004820152600660248201527f456e6465642e0000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60035460a060020a900460ff1615610317576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b33803b801561035e576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c8b833981519152604482015290519081900360640190fd5b34600081116103b7576040805160e560020a62461bcd02815260206004820152600960248201527f546f6f20706f6f722e0000000000000000000000000000000000000000000000604482015290519081900360640190fd5b69152d02c7e14af6800000811115610419576040805160e560020a62461bcd02815260206004820152600960248201527f546f6f20726963682e0000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6008543490811015610463576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c4b833981519152604482015290519081900360640190fd5b61046f33346000610a02565b50505050005b34801561048157600080fd5b5061048a61114c565b60408051600160a060020a039092168252519081900360200190f35b3480156104b257600080fd5b506104bb61115b565b60408051918252519081900360200190f35b3480156104d957600080fd5b506104bb600160a060020a0360043516611161565b6104f6611173565b005b34801561050457600080fd5b50610519600160a060020a03600435166113ec565b6040805192835260208301919091528051918290030190f35b34801561053e57600080fd5b5061048a600435611405565b34801561055657600080fd5b506104f661142d565b34801561056b57600080fd5b5061048a6115d7565b34801561058057600080fd5b5061048a6115e6565b34801561059557600080fd5b506104f66004356115f5565b3480156105ad57600080fd5b506104f6600160a060020a0360043516611e30565b3480156105ce57600080fd5b506104f6600160a060020a0360043516611f3c565b3480156105ef57600080fd5b506104f6600160a060020a0360043516611ffe565b34801561061057600080fd5b5061061961210a565b60408051978852602088019690965286860194909452606086019290925260ff90811660808601521660a084015260c0830152519081900360e00190f35b34801561066357600080fd5b5061066f60043561212c565b6040518082600260200280838360005b8381101561069757818101518382015260200161067f565b5050505090500191505060405180910390f35b3480156106b657600080fd5b506104f6600160a060020a03600435166121ac565b3480156106d757600080fd5b506104f660043561247b565b3480156106ef57600080fd5b50610704600160a060020a0360043516612735565b604080519485526020850193909352838301919091526060830152519081900360800190f35b6104f661275c565b34801561073e57600080fd5b50610704612a11565b34801561075357600080fd5b506104bb612a20565b34801561076857600080fd5b506104f6600160a060020a0360043516612a26565b34801561078957600080fd5b5061048a612b32565b34801561079e57600080fd5b506104f6612b41565b3480156107b357600080fd5b506104bb600435612d1f565b3480156107cb57600080fd5b506104f6612d3e565b3480156107e057600080fd5b506104f6612e40565b3480156107f557600080fd5b506104bb61308c565b34801561080a57600080fd5b5061048a613092565b34801561081f57600080fd5b506104bb600160a060020a03600435166130a1565b34801561084057600080fd5b5061048a6004356130fb565b34801561085857600080fd5b5061048a613109565b34801561086d57600080fd5b5061048a600435613118565b34801561088557600080fd5b506104bb60043560243561316a565b3480156108a057600080fd5b5061048a60043561319c565b3480156108b857600080fd5b506104bb6131b7565b3480156108cd57600080fd5b5061048a6004356131d4565b3480156108e557600080fd5b506104f66131ef565b3480156108fa57600080fd5b506104f66004356024356132c2565b34801561091557600080fd5b506104bb61370d565b34801561092a57600080fd5b50610933613713565b604080519115158252519081900360200190f35b34801561095357600080fd5b506104bb61371c565b34801561096857600080fd5b506104bb613722565b6104f6600435613728565b34801561098857600080fd5b5061099d600160a060020a0360043516613987565b60408051602080825283518183015283519192839290830191858101910280838360005b838110156109d95781810151838201526020016109c1565b505050509050019250505060405180910390f35b3480156109f957600080fd5b5061099d6139f4565b6000806000806000806000806000610a286006600201548c613a5690919063ffffffff16565b600854909950610a3f908a9063ffffffff613a7e16565b600a54909850610a6b90606490610a5f908b90610100900460ff16613a7e565b9063ffffffff613a5616565b600a54909750610a8c90606490610a5f908b9060ff1663ffffffff613a7e16565b9550610aae86610aa28d8a63ffffffff613ab316565b9063ffffffff613ab316565b600160a060020a038d16600090815260126020526040812054919c5095501515610b2d57601180546001810182557f31ecc21a745e3968a04e9570e4425bc18fa8019c68028196b546d1669c200c68018054600160a060020a031916600160a060020a038f169081179091559054600091825260126020526040909120555b600e5460001015610ba357600e54610b4c90879063ffffffff613a5616565b600f54909450610b6390859063ffffffff613aca16565b600f55600e54610b9c90610b8f90610b8290879063ffffffff613a7e16565b889063ffffffff613ab316565b8c9063ffffffff613aca16565b9a50610bb6565b610bb38b8763ffffffff613aca16565b9a505b600e54610bca908a9063ffffffff613aca16565b600e55600f54610be1908a9063ffffffff613a7e16565b945060008a111580610bf457506011548a115b80610c165750600160a060020a038c166000908152601260205260409020548a145b15610c3e57600160a060020a038c166000908152601260205260409020600301549950610c7f565b600160a060020a038c166000908152601260205260409020600301548a14610c7f57600160a060020a038c1660009081526012602052604090206003018a90555b8915610d2d576011610c988b600163ffffffff613ab316565b81548110610ca257fe5b6000918252602080832090910154600160a060020a03168083526013909152604090912054909350610cdc9060019063ffffffff613aca16565b600160a060020a038416600090815260136020526040902090815560010154610d0c90889063ffffffff613aca16565b600160a060020a038416600090815260136020526040902060010155610d40565b610d3d8b8863ffffffff613aca16565b9a505b600160a060020a038c16600090815260126020526040902060010154610d6d908a9063ffffffff613aca16565b600160a060020a038d166000908152601260205260409020600181019190915560020154610da290869063ffffffff613aca16565b600160a060020a038d1660009081526012602052604090819020600201919091558051808201909152600e54601491908190610df790600190610deb908f63ffffffff613ab316565b9063ffffffff613aca16565b8152600e546020918201528254600181018085556000948552919093209092610e299260029182029092019190613b17565b50508b60156000601480549050815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a03160217905550601260008d600160a060020a0316600160a060020a031681526020019081526020016000206004016014805490509080600181540180825580915050906001820390600052602060002001600090919290919091505550610ed7600d600001548c613aca90919063ffffffff16565b600d55601054610eee908c9063ffffffff613aca16565b6010819055600b54101561112857610f046131b7565b9150600082111561112857601a54821115610f345781610f25601a82613b55565b5081610f32601b82613b55565b505b601a601d54815481101515610f4557fe5b600091825260209091200154600160a060020a03169050801561102c57610f92601b601d54815481101515610f7657fe5b9060005260206000200154601f54613ab390919063ffffffff16565b601f55601d54601b8054610fda92908110610fa957fe5b6000918252602080832090910154600160a060020a0385168352601c9091526040909120549063ffffffff613ab316565b600160a060020a0382166000908152601c60205260409020819055151561102c57601e5461100f90600163ffffffff613ab316565b601e55600160a060020a0381166000908152601c60205260408120555b336000908152601c6020526040902054151561105a57601e5461105690600163ffffffff613aca16565b601e555b601f5461106e908a9063ffffffff613aca16565b601f55336000908152601c6020526040902054611092908a9063ffffffff613aca16565b336000818152601c6020526040902091909155601d54601a805490919081106110b757fe5b9060005260206000200160006101000a815481600160a060020a030219169083600160a060020a0316021790555088601b601d548154811015156110f757fe5b600091825260209091200155601d5461111790600163ffffffff613aca16565b601d8190558211611128576000601d555b61113b426202a30063ffffffff613aca16565b600755505050505050505050505050565b600154600160a060020a031681565b60185481565b601c6020526000908152604090205481565b600754156111cb576040805160e560020a62461bcd02815260206004820152600860248201527f537461727465642e000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60205460ff1615611226576040805160e560020a62461bcd02815260206004820152600660248201527f52656164792e0000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600054600160a060020a03163314611276576040805160e560020a62461bcd0281526020600482015260086024820152600080516020613c6b833981519152604482015290519081900360640190fd5b60048054604080517fbff1f9e10000000000000000000000000000000000000000000000000000000081529051600160a060020a039092169263bff1f9e19282820192602092908290030181600087803b1580156112d357600080fd5b505af11580156112e7573d6000803e3d6000fd5b505050506040513d60208110156112fd57600080fd5b505160215414611357576040805160e560020a62461bcd02815260206004820152601460248201527f436f6e74696e756520746f206d6967726174652e000000000000000000000000604482015290519081900360640190fd5b600454600160a060020a0316313410156113a9576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c4b833981519152604482015290519081900360640190fd5b6004546113da906113cb903490600160a060020a03163163ffffffff613ab316565b600d549063ffffffff613aca16565b600d556020805460ff19166001179055565b6013602052600090815260409020805460019091015482565b601a80548290811061141357fe5b600091825260209091200154600160a060020a0316905081565b60205460ff16151560011461147a576040805160e560020a62461bcd02815260206004820152600a6024820152600080516020613ccb833981519152604482015290519081900360640190fd5b60035460a060020a900460ff16156114c8576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b600154600160a060020a0316331461152a576040805160e560020a62461bcd02815260206004820152600860248201527f434f4f204f6e6c79000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60195460ff161515600114611589576040805160e560020a62461bcd02815260206004820152600e60248201527f4e6f74206163746976697465642e000000000000000000000000000000000000604482015290519081900360640190fd5b601e5415806115ac57506007546115a99062ed4e0063ffffffff613aca16565b42115b156115d5576115cb6113cb601854601754613ab390919063ffffffff16565b600d556017546018555b565b600354600160a060020a031681565b600254600160a060020a031681565b6000806000806000806000606060008060008060006006600101546000141515611669576040805160e560020a62461bcd02815260206004820152600860248201527f537461727465642e000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60205460ff16156116c4576040805160e560020a62461bcd02815260206004820152600660248201527f52656164792e0000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600054600160a060020a03163314611714576040805160e560020a62461bcd0281526020600482015260086024820152600080516020613c6b833981519152604482015290519081900360640190fd5b60048054604080517fbff1f9e10000000000000000000000000000000000000000000000000000000081529051600160a060020a039092169263bff1f9e19282820192602092908290030181600087803b15801561177157600080fd5b505af1158015611785573d6000803e3d6000fd5b505050506040513d602081101561179b57600080fd5b50519c508c6117ab601182613b55565b506021549b505b8c6021541080156117c657508d8c01602154105b15611e205760048054602154604080517f8e9d135e0000000000000000000000000000000000000000000000000000000081529384019190915251600160a060020a0390911691638e9d135e9160248083019260209291908290030181600087803b15801561183457600080fd5b505af1158015611848573d6000803e3d6000fd5b505050506040513d602081101561185e57600080fd5b505160215460118054929d508d92909190811061187757fe5b9060005260206000200160006101000a815481600160a060020a030219169083600160a060020a03160217905550600460009054906101000a9004600160a060020a0316600160a060020a0316633cacd7d68c6040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a03168152602001915050608060405180830381600087803b15801561191557600080fd5b505af1158015611929573d6000803e3d6000fd5b505050506040513d608081101561193f57600080fd5b81019080805190602001909291908051906020019092919080519060200190929190805190602001909291905050509950995099509950600460009054906101000a9004600160a060020a0316600160a060020a031663eddf75708c6040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a03168152602001915050600060405180830381600087803b1580156119e657600080fd5b505af11580156119fa573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015611a2357600080fd5b810190808051640100000000811115611a3b57600080fd5b82016020810184811115611a4e57600080fd5b8151856020820283011164010000000082111715611a6b57600080fd5b5050929190505050955060a0604051908101604052808b81526020018a815260200189815260200188815260200187815250601260008d600160a060020a0316600160a060020a03168152602001908152602001600020600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004019080519060200190611b06929190613b7e565b50905050600460009054906101000a9004600160a060020a0316600160a060020a03166311e471a48c6040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a031681526020019150506040805180830381600087803b158015611b7957600080fd5b505af1158015611b8d573d6000803e3d6000fd5b505050506040513d6040811015611ba357600080fd5b81019080805190602001909291908051906020019092919050505094509450604080519081016040528086815260200185815250601360008d600160a060020a0316600160a060020a031681526020019081526020016000206000820151816000015560208201518160010155905050600092505b8551831015611e12578583815181101515611c2f57fe5b9060200190602002015191506000821115611e0757601454821115611c5c5781611c5a601482613bb8565b505b611c6d82600163ffffffff613ab316565b604080518082018083526004547f9c907af40000000000000000000000000000000000000000000000000000000090915260448201849052600060648301819052925193945090928392600160a060020a0390921691639c907af491608480860192602092918288030190829087803b158015611ce957600080fd5b505af1158015611cfd573d6000803e3d6000fd5b505050506040513d6020811015611d1357600080fd5b5051815260048054604080517f9c907af40000000000000000000000000000000000000000000000000000000081529283018690526001602484015251602093840193600160a060020a0390921692639c907af49260448083019391928290030181600087803b158015611d8657600080fd5b505af1158015611d9a573d6000803e3d6000fd5b505050506040513d6020811015611db057600080fd5b505190526014805483908110611dc257fe5b9060005260206000209060020201906002611dde929190613b17565b5060008181526015602052604090208054600160a060020a031916600160a060020a038d161790555b600190920191611c18565b6021805460010190556117b2565b5050505050505050505050505050565b600054600160a060020a03163314611e80576040805160e560020a62461bcd0281526020600482015260086024820152600080516020613c6b833981519152604482015290519081900360640190fd5b80600160a060020a0381161515611ecf576040805160e560020a62461bcd0281526020600482015260146024820152600080516020613cab833981519152604482015290519081900360640190fd5b81803b8015611f16576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c8b833981519152604482015290519081900360640190fd5b505060008054600160a060020a031916600160a060020a03939093169290921790915550565b600054600160a060020a03163314611f8c576040805160e560020a62461bcd0281526020600482015260086024820152600080516020613c6b833981519152604482015290519081900360640190fd5b80600160a060020a0381161515611fdb576040805160e560020a62461bcd0281526020600482015260146024820152600080516020613cab833981519152604482015290519081900360640190fd5b5060038054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a0316331461204e576040805160e560020a62461bcd0281526020600482015260086024820152600080516020613c6b833981519152604482015290519081900360640190fd5b80600160a060020a038116151561209d576040805160e560020a62461bcd0281526020600482015260146024820152600080516020613cab833981519152604482015290519081900360640190fd5b81803b80156120e4576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c8b833981519152604482015290519081900360640190fd5b505060018054600160a060020a031916600160a060020a03939093169290921790915550565b600654600754600854600954600a54600b5460ff808316926101009004169087565b612134613be4565b60145482118015906121465750600082115b156121a757601461215e83600163ffffffff613ab316565b8154811061216857fe5b600091825260209091206040805180820191829052926002908102909201919082845b81548152602001906001019080831161218b575b505050505090505b919050565b60205460ff1615156001146121f9576040805160e560020a62461bcd02815260206004820152600a6024820152600080516020613ccb833981519152604482015290519081900360640190fd5b60035460a060020a900460ff1615612247576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b600254600160a060020a031633146122a9576040805160e560020a62461bcd02815260206004820152600860248201527f43464f204f6e6c79000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b80803b60008111612304576040805160e560020a62461bcd02815260206004820152600e60248201527f436f6e747261637473206f6e6c79000000000000000000000000000000000000604482015290519081900360640190fd5b600354600160a060020a0316801515612355576040805160e560020a62461bcd0281526020600482015260146024820152600080516020613cab833981519152604482015290519081900360640190fd5b600354604080517f70a082310000000000000000000000000000000000000000000000000000000081523060048201529051600160a060020a038088169363a9059cbb9391169184916370a082319160248083019260209291908290030181600087803b1580156123c557600080fd5b505af11580156123d9573d6000803e3d6000fd5b505050506040513d60208110156123ef57600080fd5b50516040805160e060020a63ffffffff8616028152600160a060020a03909316600484015260248301919091525160448083019260209291908290030181600087803b15801561243e57600080fd5b505af1158015612452573d6000803e3d6000fd5b505050506040513d602081101561246857600080fd5b5051151561247557600080fd5b50505050565b60205460009060ff1615156001146124cb576040805160e560020a62461bcd02815260206004820152600a6024820152600080516020613ccb833981519152604482015290519081900360640190fd5b60035460a060020a900460ff1615612519576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b600254600160a060020a0316331461257b576040805160e560020a62461bcd02815260206004820152600860248201527f43464f204f6e6c79000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600354600160a060020a03168015156125cc576040805160e560020a62461bcd0281526020600482015260146024820152600080516020613cab833981519152604482015290519081900360640190fd5b60008311612624576040805160e560020a62461bcd02815260206004820152601160248201527f5061796f666620746f6f2073616d6c6c2e000000000000000000000000000000604482015290519081900360640190fd5b600d5460195490925060ff16151561268d5761268a61267d6064610a5f600c612655600a600163ffffffff613ab316565b600a811061265f57fe5b60208104919091015460105491601f166101000a900460ff16613a7e565b839063ffffffff613ab316565b91505b818311156126e5576040805160e560020a62461bcd02815260206004820152600f60248201527f5061796f666620746f6f206269672e0000000000000000000000000000000000604482015290519081900360640190fd5b600d546126f8908463ffffffff613ab316565b600d55600354604051600160a060020a039091169084156108fc029085906000818181858888f19350505050158015612475573d6000803e3d6000fd5b60126020526000908152604090208054600182015460028301546003909301549192909184565b6020546000908190819060ff1615156001146127b0576040805160e560020a62461bcd02815260206004820152600a6024820152600080516020613ccb833981519152604482015290519081900360640190fd5b60035460a060020a900460ff16156127fe576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b33803b8015612845576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c8b833981519152604482015290519081900360640190fd5b6009543490811461288e576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c4b833981519152604482015290519081900360640190fd5b600d546128a1903463ffffffff613aca16565b600d5533600090815260136020908152604080832060019081018054908590556012909352922090910154600f549197506128e2919063ffffffff613a7e16565b3360009081526012602052604090206002015490955061291a9061290d90879063ffffffff613ab316565b879063ffffffff613aca16565b33600090815260126020526040902060020186905560195490965060ff16151560011480156129565750336000908152601c6020526040812054115b801561296457506000601f54115b801561297257506000601e54115b80156129815750601854601754115b156129db5761298f336130a1565b93506129a1868563ffffffff613aca16565b6018549096506129b7908563ffffffff613aca16565b6018556129c333613adc565b601e546129d790600163ffffffff613ab316565b601e555b604051339087156108fc029088906000818181858888f19350505050158015612a08573d6000803e3d6000fd5b50505050505050565b600d54600e54600f5460105484565b60175481565b600054600160a060020a03163314612a76576040805160e560020a62461bcd0281526020600482015260086024820152600080516020613c6b833981519152604482015290519081900360640190fd5b80600160a060020a0381161515612ac5576040805160e560020a62461bcd0281526020600482015260146024820152600080516020613cab833981519152604482015290519081900360640190fd5b81803b8015612b0c576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c8b833981519152604482015290519081900360640190fd5b505060028054600160a060020a031916600160a060020a03939093169290921790915550565b600554600160a060020a031681565b60075460009081908190819015612ba2576040805160e560020a62461bcd02815260206004820152600860248201527f537461727465642e000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60205460ff1615612bfd576040805160e560020a62461bcd02815260206004820152600660248201527f52656164792e0000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600054600160a060020a03163314612c4d576040805160e560020a62461bcd0281526020600482015260086024820152600080516020613c6b833981519152604482015290519081900360640190fd5b60048054604080517f42e3852c0000000000000000000000000000000000000000000000000000000081529051600160a060020a03909216926342e3852c9282820192608092908290030181600087803b158015612caa57600080fd5b505af1158015612cbe573d6000803e3d6000fd5b505050506040513d6080811015612cd457600080fd5b508051602080830151604080850151606095860151825160808101845286815294850184905291840181905292909401849052600d92909255600e91909155600f5560105550505050565b601b805482908110612d2d57fe5b600091825260209091200154905081565b600054600160a060020a0316331480612d615750600154600160a060020a031633145b80612d765750600254600160a060020a031633145b1515612dcc576040805160e560020a62461bcd02815260206004820152600b60248201527f434c6576656c204f6e6c79000000000000000000000000000000000000000000604482015290519081900360640190fd5b60035460a060020a900460ff1615612e1a576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b6003805474ff0000000000000000000000000000000000000000191660a060020a179055565b60205460009060ff161515600114612e90576040805160e560020a62461bcd02815260206004820152600a6024820152600080516020613ccb833981519152604482015290519081900360640190fd5b60075415801590612ea357506007544210155b1515612ef9576040805160e560020a62461bcd02815260206004820152600a60248201527f4e6f7420656e6465642e00000000000000000000000000000000000000000000604482015290519081900360640190fd5b60035460a060020a900460ff1615612f47576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b600154600160a060020a03163314612fa9576040805160e560020a62461bcd02815260206004820152600860248201527f434f4f204f6e6c79000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60195460ff1615613004576040805160e560020a62461bcd02815260206004820152600a60248201527f4163746976617465642e00000000000000000000000000000000000000000000604482015290519081900360640190fd5b600b54601054111561307c5761304a600a61303e601d54613032601f54601e54613a7e90919063ffffffff16565b9063ffffffff613a7e16565b9063ffffffff613af616565b90506130616064610a5f600c84600a811061265f57fe5b6017819055600d546130789163ffffffff613ab316565b600d555b506019805460ff19166001179055565b601f5481565b600454600160a060020a031681565b6000601f54600014806130b45750601754155b156130c1575060006121a7565b601f54601754600160a060020a0384166000908152601c60205260409020546130f59291610a5f919063ffffffff613a7e16565b92915050565b601180548290811061141357fe5b600054600160a060020a031681565b601154600090821180159061312d5750600082115b156121a757601161314583600163ffffffff613ab316565b8154811061314f57fe5b600091825260209091200154600160a060020a031692915050565b601480548390811061317857fe5b90600052602060002090600202018160028110151561319357fe5b01549150829050565b601660205260009081526040902054600160a060020a031681565b6011546000906131ce90606463ffffffff613a5616565b90505b90565b601560205260009081526040902054600160a060020a031681565b600054600160a060020a0316331461323f576040805160e560020a62461bcd0281526020600482015260086024820152600080516020613c6b833981519152604482015290519081900360640190fd5b60035460a060020a900460ff1615156132a2576040805160e560020a62461bcd02815260206004820152600760248201527f52756e6e696e6700000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6003805474ff000000000000000000000000000000000000000019169055565b60205460ff16151560011461330f576040805160e560020a62461bcd02815260206004820152600a6024820152600080516020613ccb833981519152604482015290519081900360640190fd5b60035460a060020a900460ff161561335d576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b33803b80156133a4576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c8b833981519152604482015290519081900360640190fd5b33600090815260126020526040902054151561340a576040805160e560020a62461bcd02815260206004820152600d60248201527f556e617574686f72697a65642e00000000000000000000000000000000000000604482015290519081900360640190fd5b601454841180159061341c5750600084115b1515613472576040805160e560020a62461bcd02815260206004820152601260248201527f506f736974696f6e204964206572726f722e0000000000000000000000000000604482015290519081900360640190fd5b600084815260156020526040902054600160a060020a031633146134e0576040805160e560020a62461bcd02815260206004820152600e60248201527f4e6f207065726d697373696f6e2e000000000000000000000000000000000000604482015290519081900360640190fd5b6014805460001986019081106134f257fe5b60009182526020822060029091020101548310158015613537575060148054600019860190811061351f57fe5b60009182526020909120600290910201600101548311155b151561358d576040805160e560020a62461bcd02815260206004820152600f60248201527f57726f6e6720696e74657276616c2e0000000000000000000000000000000000604482015290519081900360640190fd5b600083815260166020526040902054600160a060020a0316156135fa576040805160e560020a62461bcd02815260206004820152600760248201527f4d696e7465642e00000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60008381526016602090815260408083208054600160a060020a0319163390811790915560055482517f619059c40000000000000000000000000000000000000000000000000000000081526004810192909252602482018890529151600160a060020a03929092169363619059c49360448084019491939192918390030190829087803b15801561368b57600080fd5b505af115801561369f573d6000803e3d6000fd5b505050506040513d60208110156136b557600080fd5b50511515612475576040805160e560020a62461bcd02815260206004820152600d60248201527f4d696e696e67204572726f722e00000000000000000000000000000000000000604482015290519081900360640190fd5b60115490565b60195460ff1681565b60145490565b601d5481565b60205460ff161515600114613775576040805160e560020a62461bcd02815260206004820152600a6024820152600080516020613ccb833981519152604482015290519081900360640190fd5b6007541580613785575060075442105b15156137db576040805160e560020a62461bcd02815260206004820152600660248201527f456e6465642e0000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60035460a060020a900460ff1615613829576040805160e560020a62461bcd028152602060048201526006602482015260d260020a6514185d5cd95902604482015290519081900360640190fd5b33803b8015613870576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c8b833981519152604482015290519081900360640190fd5b34600081116138c9576040805160e560020a62461bcd02815260206004820152600960248201527f546f6f20706f6f722e0000000000000000000000000000000000000000000000604482015290519081900360640190fd5b69152d02c7e14af680000081111561392b576040805160e560020a62461bcd02815260206004820152600960248201527f546f6f20726963682e0000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6008543490811015613975576040805160e560020a62461bcd02815260206004820152600b6024820152600080516020613c4b833981519152604482015290519081900360640190fd5b613980333487610a02565b5050505050565b600160a060020a03811660009081526012602090815260409182902060040180548351818402810184019094528084526060939283018282801561219f576020028201919060005260206000209081548152602001906001019080831161218b5750505050509050919050565b6060601a805480602002602001604051908101604052809291908181526020018280548015613a4c57602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311613a2e575b5050505050905090565b600080808311613a6557600080fd5b8284811515613a7057fe5b0490508091505b5092915050565b600080831515613a915760009150613a77565b50828202828482811515613aa157fe5b0414613aac57600080fd5b9392505050565b60008083831115613ac357600080fd5b5050900390565b600082820183811015613aac57600080fd5b600160a060020a03166000908152601c6020526040812055565b6000811515613b0457600080fd5b8183811515613b0f57fe5b069392505050565b8260028101928215613b45579160200282015b82811115613b45578251825591602001919060010190613b2a565b50613b51929150613bff565b5090565b815481835581811115613b7957600083815260209020613b79918101908301613bff565b505050565b828054828255906000526020600020908101928215613b455791602002820182811115613b45578251825591602001919060010190613b2a565b815481835581811115613b7957600202816002028360005260206000209182019101613b799190613c19565b60408051808201825290600290829080388339509192915050565b6131d191905b80821115613b515760008155600101613c05565b6131d191905b80821115613b51576000613c338282613c3c565b50600201613c1f565b50600081556001016000905556004e6f7420656e6f7567682e00000000000000000000000000000000000000000043454f204f6e6c7900000000000000000000000000000000000000000000000048756d616e73206f6e6c79000000000000000000000000000000000000000000416464726573732069732072657175697265642e0000000000000000000000004e6f742072656164792e00000000000000000000000000000000000000000000a165627a7a723058202c5b465b9a8fe801419de2d9a04d4096430a388868c816be41f9813a31d6b7930029000000000000000000000000af8d39416474817a677ef6a32abb425dbc74e2a40000000000000000000000001d42a7bc62c4b377105e0de6707a77fcfc71957f",
  "constructorArguments": "000000000000000000000000af8d39416474817a677ef6a32abb425dbc74e2a40000000000000000000000001d42a7bc62c4b377105e0de6707a77fcfc71957f"
}