{
  "address": "0x72f41244e09b3b2f09d9e2f5f1184fa8bd6b4a1e",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "EasySmart",
  "compilerVersion": "v0.4.25+commit.59dbf8f1",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-11-06\n*/\n\npragma solidity ^0.4.25;\n\n/***********************************************************\n * Easy Smart Contract\n *  - GAIN 5.3% PER 24 HOURS (every 5900 blocks) 40 days  \n *  - GAIN 5.6% PER 24 HOURS (every 5900 blocks) 30 days  \n *  - GAIN 6.6% PER 24 HOURS (every 5900 blocks) 20 days  \n *  - GAIN 7.6% PER 24 HOURS (every 5900 blocks) 15 days  \n *  - GAIN 8.5% PER 24 HOURS (every 5900 blocks) 12 days   \n *  - GAIN 3% PER 24 HOURS (every 5900 blocks) forever  \n *  \n  * How to use:\n *  1. Send any amount of ether to make an investment (The Data input 1~6 investment category, the default is 1.)\n *  2. Claim your profit by sending 0 ether transaction (every day, every week, i don't care unless you're spending too much on GAS)\n *\n *  ****** When contract balance less than 0.0001eth, Automatically enter the next round\n * \n * RECOMMENDED GAS LIMIT: 300000\n * RECOMMENDED GAS PRICE: https://ethgasstation.info/\n * \n * \n *  https://www.easysmart.biz\n *  https://t.me/easy_smart\n ***********************************************************/\n\ncontract EasySmart {\n    using SafeMath              for *;\n\n    address public promoAddr_ = address(0xfCFbaFfD975B107B2Bcd58BF71DC78fBeBB6215D);\n\n    uint256 ruleSum_ = 6;\n\n    uint256 G_DayBlocks = 5900;\n    \n    uint256 public rId_ = 1;\n    mapping (uint256 => ESDatasets.Round) public round_; \n\n    mapping (uint256 => mapping(address => uint256)) public pIDxAddr_;  \n    mapping (uint256 => mapping(uint256 => ESDatasets.Player)) public player_; \n    mapping (uint256 => ESDatasets.Plan) private plan_;   \n\t\n\tfunction GetIdByAddr(address addr) public \n\t    view returns(uint256)\n\t{\n\t    return pIDxAddr_[rId_][addr];\n\t}\n\t\n\n\tfunction GetPlayerByUid(uint256 uid) public \n\t    view returns(uint256)\n\t{\n\t    ESDatasets.Player storage player = player_[rId_][uid];\n\n\t    return\n\t    (\n\t        player.planCount\n\t    );\n\t}\n\t\n    function GetPlanByUid(uint256 uid) public \n\t    view returns(uint256[],uint256[],uint256[],uint256[],uint256[],bool[])\n\t{\n\t    uint256[] memory planIds = new  uint256[] (player_[rId_][uid].planCount);\n\t    uint256[] memory startBlocks = new  uint256[] (player_[rId_][uid].planCount);\n\t    uint256[] memory investeds = new  uint256[] (player_[rId_][uid].planCount);\n\t    uint256[] memory atBlocks = new  uint256[] (player_[rId_][uid].planCount);\n\t    uint256[] memory payEths = new  uint256[] (player_[rId_][uid].planCount);\n\t    bool[] memory isCloses = new  bool[] (player_[rId_][uid].planCount);\n\t    \n        for(uint i = 0; i < player_[rId_][uid].planCount; i++) {\n\t        planIds[i] = player_[rId_][uid].plans[i].planId;\n\t        startBlocks[i] = player_[rId_][uid].plans[i].startBlock;\n\t        investeds[i] = player_[rId_][uid].plans[i].invested;\n\t        atBlocks[i] = player_[rId_][uid].plans[i].atBlock;\n\t        payEths[i] = player_[rId_][uid].plans[i].payEth;\n\t        isCloses[i] = player_[rId_][uid].plans[i].isClose;\n\t    }\n\t    \n\t    return\n\t    (\n\t        planIds,\n\t        startBlocks,\n\t        investeds,\n\t        atBlocks,\n\t        payEths,\n\t        isCloses\n\t    );\n\t}\n\t\nfunction GetPlanTimeByUid(uint256 uid) public \n\t    view returns(uint256[])\n\t{\n\t    uint256[] memory startTimes = new  uint256[] (player_[rId_][uid].planCount);\n\n        for(uint i = 0; i < player_[rId_][uid].planCount; i++) {\n\t        startTimes[i] = player_[rId_][uid].plans[i].startTime;\n\t    }\n\t    \n\t    return\n\t    (\n\t        startTimes\n\t    );\n\t}\t\n\n    constructor() public {\n        plan_[1] = ESDatasets.Plan(530,40);\n        plan_[2] = ESDatasets.Plan(560,30);\n        plan_[3] = ESDatasets.Plan(660,20);\n        plan_[4] = ESDatasets.Plan(760,15);\n        plan_[5] = ESDatasets.Plan(850,12);\n        plan_[6] = ESDatasets.Plan(300,0);\n        \n        round_[rId_].startTime = now;\n\n    }\n\t\n\tfunction register_(address addr) private{\n        round_[rId_].nowUserId = round_[rId_].nowUserId.add(1);\n        \n        address _addr = addr;\n        \n        pIDxAddr_[rId_][_addr] = round_[rId_].nowUserId;\n\n        player_[rId_][round_[rId_].nowUserId].addr = _addr;\n        player_[rId_][round_[rId_].nowUserId].planCount = 0;\n        \n\t}\n\t\n    \n    // this function called every time anyone sends a transaction to this contract\n    function () external payable {\n        if (msg.value == 0) {\n            withdraw();\n        } else {\n            invest();\n        }\n    } \t\n    \n    function invest() private {\n\t    uint256 _planId = bytesToUint(msg.data);\n\t    \n\t    if (_planId<1 || _planId > ruleSum_) {\n\t        _planId = 1;\n\t    }\n        \n\t\t//get uid\n\t\tuint256 uid = pIDxAddr_[rId_][msg.sender];\n\t\t\n\t\t//first\n\t\tif (uid == 0) {\n\t\t    register_(msg.sender);\n\t\t\tuid = round_[rId_].nowUserId;\n\t\t}\n\t\t\n        // record block number and invested amount (msg.value) of this transaction\n        uint256 planCount = player_[rId_][uid].planCount;\n        player_[rId_][uid].plans[planCount].planId = _planId;\n        player_[rId_][uid].plans[planCount].startTime = now;\n        player_[rId_][uid].plans[planCount].startBlock = block.number;\n        player_[rId_][uid].plans[planCount].atBlock = block.number;\n        player_[rId_][uid].plans[planCount].invested = msg.value;\n        player_[rId_][uid].plans[planCount].payEth = 0;\n        player_[rId_][uid].plans[planCount].isClose = false;\n        \n        player_[rId_][uid].planCount = player_[rId_][uid].planCount.add(1);\n\n        round_[rId_].ethSum = round_[rId_].ethSum.add(msg.value);\n        \n        if (msg.value > 1000000000) {\n\n            uint256 promoFee = (msg.value.mul(5)).div(100);\n            promoAddr_.transfer(promoFee);\n            \n        } \n        \n    }\n   \n\t\n\tfunction withdraw() private {\n\t    require(msg.value == 0, \"withdraw fee is 0 ether, please set the exact amount\");\n\t    \n\t    uint256 uid = pIDxAddr_[rId_][msg.sender];\n\t    require(uid != 0, \"no invest\");\n\n        for(uint i = 0; i < player_[rId_][uid].planCount; i++) {\n\t        if (player_[rId_][uid].plans[i].isClose) {\n\t            continue;\n\t        }\n\n            ESDatasets.Plan plan = plan_[player_[rId_][uid].plans[i].planId];\n            \n            uint256 blockNumber = block.number;\n            bool bClose = false;\n            if (plan.dayRange > 0) {\n                \n                uint256 endBlockNumber = player_[rId_][uid].plans[i].startBlock.add(plan.dayRange*G_DayBlocks);\n                if (blockNumber > endBlockNumber){\n                    blockNumber = endBlockNumber;\n                    bClose = true;\n                }\n            }\n            \n            uint256 amount = player_[rId_][uid].plans[i].invested * plan.interest / 10000 * (blockNumber - player_[rId_][uid].plans[i].atBlock) / G_DayBlocks;\n\n            // send calculated amount of ether directly to sender (aka YOU)\n            address sender = msg.sender;\n            sender.send(amount);\n\n            // record block number and invested amount (msg.value) of this transaction\n            player_[rId_][uid].plans[i].atBlock = block.number;\n            player_[rId_][uid].plans[i].isClose = bClose;\n            player_[rId_][uid].plans[i].payEth += amount;\n        }\n        \n        if (this.balance < 100000000000000) { //0.0001eth\n            rId_ = rId_.add(1);\n            round_[rId_].startTime = now;\n        }\n\t}\n\t\n    function bytesToUint(bytes b) private returns (uint256){\n        uint256 number;\n        for(uint i=0;i<b.length;i++){\n            number = number + uint(b[i])*(2**(8*(b.length-(i+1))));\n        }\n        return number;\n    }\t\n}\n\n/***********************************************************\n * @title SafeMath v0.1.9\n * @dev Math operations with safety checks that throw on error\n * change notes:  original SafeMath library from OpenZeppelin modified by Inventor\n * - added sqrt\n * - added sq\n * - added pwr \n * - changed asserts to requires with error log outputs\n * - removed div, its useless\n ***********************************************************/\n library SafeMath {\n    /**\n    * @dev Multiplies two numbers, throws on overflow.\n    */\n    function mul(uint256 a, uint256 b) \n        internal \n        pure \n        returns (uint256 c) \n    {\n        if (a == 0) {\n            return 0;\n        }\n        c = a * b;\n        require(c / a == b, \"SafeMath mul failed\");\n        return c;\n    }\n\n    /**\n    * @dev Integer division of two numbers, truncating the quotient.\n    */\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n        // assert(b > 0); // Solidity automatically throws when dividing by 0\n        uint256 c = a / b;\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n        return c;\n    }\n    \n    /**\n    * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n    */\n    function sub(uint256 a, uint256 b)\n        internal\n        pure\n        returns (uint256) \n    {\n        require(b <= a, \"SafeMath sub failed\");\n        return a - b;\n    }\n\n    /**\n    * @dev Adds two numbers, throws on overflow.\n    */\n    function add(uint256 a, uint256 b)\n        internal\n        pure\n        returns (uint256 c) \n    {\n        c = a + b;\n        require(c >= a, \"SafeMath add failed\");\n        return c;\n    }\n    \n    /**\n     * @dev gives square root of given x.\n     */\n    function sqrt(uint256 x)\n        internal\n        pure\n        returns (uint256 y) \n    {\n        uint256 z = ((add(x,1)) / 2);\n        y = x;\n        while (z < y) \n        {\n            y = z;\n            z = ((add((x / z),z)) / 2);\n        }\n    }\n    \n    /**\n     * @dev gives square. multiplies x by x\n     */\n    function sq(uint256 x)\n        internal\n        pure\n        returns (uint256)\n    {\n        return (mul(x,x));\n    }\n    \n    /**\n     * @dev x to the power of y \n     */\n    function pwr(uint256 x, uint256 y)\n        internal \n        pure \n        returns (uint256)\n    {\n        if (x==0)\n            return (0);\n        else if (y==0)\n            return (1);\n        else \n        {\n            uint256 z = x;\n            for (uint256 i=1; i < y; i++)\n                z = mul(z,x);\n            return (z);\n        }\n    }\n}\n\n/***********************************************************\n * ESDatasets library\n ***********************************************************/\nlibrary ESDatasets {\n    \n    struct Round {\n        uint256 nowUserId;\n        uint256 ethSum;\n        uint256 startTime;\n    }\n    \n    struct Player {\n        address addr;   // player address\n        uint256 planCount;\n        mapping(uint256=>PalyerPlan) plans;\n    }\n    \n    struct PalyerPlan {\n        uint256 planId;\n        uint256 startTime;\n        uint256 startBlock;\n        uint256 invested;    //\n        uint256 atBlock;    // \n        uint256 payEth;\n        bool isClose;\n    }\n\n    struct Plan {\n        uint256 interest;    // interest per day %%\n        uint256 dayRange;    // days, 0 means No time limit\n    }    \n}",
  "bytecode": "608060405260008054600160a060020a03191673fcfbaffd975b107b2bcd58bf71dc78fbebb6215d1790556006600190815561170c60025560035534801561004657600080fd5b5060408051808201825261021281526028602080830191825260016000908152600780835293517fb39221ace053465ec3453ce2b36430bd138b997ecea25c1043da0c366812b8285591517fb39221ace053465ec3453ce2b36430bd138b997ecea25c1043da0c366812b82955835180850185526102308152601e818301908152600280855285845291517fb7c774451310d1be4108bc180d1b52823cb0ee0274a6c0081bcaf94f115fb96d55517fb7c774451310d1be4108bc180d1b52823cb0ee0274a6c0081bcaf94f115fb96e558451808601865261029481526014818401908152600380865286855291517f3be6fd20d5acfde5b873b48692cd31f4d3c7e8ee8a813af4696af8859e5ca6c655517f3be6fd20d5acfde5b873b48692cd31f4d3c7e8ee8a813af4696af8859e5ca6c755855180870187526102f88152600f818501908152600480875287865291517fb805995a7ec585a251200611a61d179cfd7fb105e1ab17dc415a7336783786f755517fb805995a7ec585a251200611a61d179cfd7fb105e1ab17dc415a7336783786f855865180880188526103528152600c8186019081526005875287865290517fbcdda56b5d08466ec462cbbe0adfa57cb0a15fcc8940ef68f702f21b787bc93555517fbcdda56b5d08466ec462cbbe0adfa57cb0a15fcc8940ef68f702f21b787bc936558651808801885261012c815280850186815260068752968552517f55c5b153ab560fcde54a63b18c7f53d75501706907cef8767fbded79ab9997c75594517f55c5b153ab560fcde54a63b18c7f53d75501706907cef8767fbded79ab9997c85554835292905291909120429101556112ac806102bb6000396000f3006080604052600436106100985763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630ba4758b81146100b657806324c33d33146100e75780635c0f82b71461011d57806397460cd714610150578063b21dcdc114610165578063b4fd95b2146101a3578063eaa893f3146101c7578063ed9192c3146101df578063f57027c614610247575b3415156100ac576100a761040c565b6100b4565b6100b46107b0565b005b3480156100c257600080fd5b506100cb610a40565b60408051600160a060020a039092168252519081900360200190f35b3480156100f357600080fd5b506100ff600435610a4f565b60408051938452602084019290925282820152519081900360600190f35b34801561012957600080fd5b5061013e600160a060020a0360043516610a70565b60408051918252519081900360200190f35b34801561015c57600080fd5b5061013e610a9a565b34801561017157600080fd5b50610180600435602435610aa0565b60408051600160a060020a03909316835260208301919091528051918290030190f35b3480156101af57600080fd5b5061013e600435600160a060020a0360243516610ad0565b3480156101d357600080fd5b5061013e600435610aed565b3480156101eb57600080fd5b506101f7600435610b0f565b60408051602080825283518183015283519192839290830191858101910280838360005b8381101561023357818101518382015260200161021b565b505050509050019250505060405180910390f35b34801561025357600080fd5b5061025f600435610bdd565b6040518080602001806020018060200180602001806020018060200187810387528d818151815260200191508051906020019060200280838360005b838110156102b357818101518382015260200161029b565b5050505090500187810386528c818151815260200191508051906020019060200280838360005b838110156102f25781810151838201526020016102da565b5050505090500187810385528b818151815260200191508051906020019060200280838360005b83811015610331578181015183820152602001610319565b5050505090500187810384528a818151815260200191508051906020019060200280838360005b83811015610370578181015183820152602001610358565b50505050905001878103835289818151815260200191508051906020019060200280838360005b838110156103af578181015183820152602001610397565b50505050905001878103825288818151815260200191508051906020019060200280838360005b838110156103ee5781810151838201526020016103d6565b505050509050019c5050505050505050505050505060405180910390f35b6000808080808080803415610491576040805160e560020a62461bcd02815260206004820152603460248201527f77697468647261772066656520697320302065746865722c20706c656173652060448201527f7365742074686520657861637420616d6f756e74000000000000000000000000606482015290519081900360840190fd5b60035460009081526005602090815260408083203384529091529020549750871515610507576040805160e560020a62461bcd02815260206004820152600960248201527f6e6f20696e766573740000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600096505b60035460009081526006602090815260408083208b84529091529020600101548710156107685760035460009081526006602081815260408084208c855282528084208b8552600201909152909120015460ff161561056a5761075d565b60035460009081526006602090815260408083208b845282528083208a845260020182528083205483526007909152812060018101549097504396509094508410156106075760028054600188015460035460009081526006602090815260408083208e845282528083208d845286019091529020909201546105f59290910263ffffffff61107216565b92508285111561060757829450600193505b600280546003805460009081526006602090815260408083208e845282528083208d845290950190529290922060048101548954919093015491928803916127109102040281151561065557fe5b6040519190049250339150819083156108fc029084906000818181858888f19350505050504360066000600354815260200190815260200160002060008a81526020019081526020016000206002016000898152602001908152602001600020600401819055508360066000600354815260200190815260200160002060008a8152602001908152602001600020600201600089815260200190815260200160002060060160006101000a81548160ff0219169083151502179055508160066000600354815260200190815260200160002060008a81526020019081526020016000206002016000898152602001908152602001600020600501600082825401925050819055505b60019096019561050c565b655af3107a4000303110156107a65760035461078b90600163ffffffff61107216565b60038190556000908152600460205260409020426002909101555b5050505050505050565b6000806000806107f06000368080601f016020809104026020016040519081016040528093929190818152602001838380828437506110d3945050505050565b93506001841080610802575060015484115b1561080c57600193505b600354600090815260056020908152604080832033845290915290205492508215156108505761083b33611137565b60035460009081526004602052604090205492505b6003805460009081526006602081815260408084208885528252808420600180820154808752600292830185528387208c9055875487528585528387208b88528552838720818852830185528387204290830155875487528585528387208b885285528387208188528301855283872043908401819055885488528686528488208c895286528488208289528401865284882060040155875487528585528387208b88528552838720818852830185528387203490890155875487528585528387208b8852855283872081885283018552838720600501879055875487528585528387208b8852855283872081885290920184528286208501805460ff19169055955485529282528084208885529091529091208201549093506109799163ffffffff61107216565b600380546000908152600660209081526040808320888452825280832060019081019590955592548252600490522001546109ba903463ffffffff61107216565b600354600090815260046020526040902060010155633b9aca00341115610a3a576109fd60646109f134600563ffffffff6111f216565b9063ffffffff61126916565b60008054604051929350600160a060020a03169183156108fc0291849190818181858888f19350505050158015610a38573d6000803e3d6000fd5b505b50505050565b600054600160a060020a031681565b60046020526000908152604090208054600182015460029092015490919083565b6003546000908152600560209081526040808320600160a060020a03949094168352929052205490565b60035481565b600660209081526000928352604080842090915290825290208054600190910154600160a060020a039091169082565b600560209081526000928352604080842090915290825290205481565b6003546000908152600660209081526040808320938352929052206001015490565b600354600090815260066020908152604080832084845282528083206001015481518181528184028101909301909152606092839290918015610b5c578160200160208202803883390190505b509150600090505b6003546000908152600660209081526040808320878452909152902060010154811015610bd657600354600090815260066020908152604080832087845282528083208484526002019091529020600101548251839083908110610bc457fe5b60209081029091010152600101610b64565b5092915050565b606080606080606080606080606080606080600060066000600354815260200190815260200160002060008f815260200190815260200160002060010154604051908082528060200260200182016040528015610c44578160200160208202803883390190505b50965060066000600354815260200190815260200160002060008f815260200190815260200160002060010154604051908082528060200260200182016040528015610c9a578160200160208202803883390190505b50955060066000600354815260200190815260200160002060008f815260200190815260200160002060010154604051908082528060200260200182016040528015610cf0578160200160208202803883390190505b50945060066000600354815260200190815260200160002060008f815260200190815260200160002060010154604051908082528060200260200182016040528015610d46578160200160208202803883390190505b50935060066000600354815260200190815260200160002060008f815260200190815260200160002060010154604051908082528060200260200182016040528015610d9c578160200160208202803883390190505b50925060066000600354815260200190815260200160002060008f815260200190815260200160002060010154604051908082528060200260200182016040528015610df2578160200160208202803883390190505b509150600090505b60066000600354815260200190815260200160002060008f81526020019081526020016000206001015481101561105d5760066000600354815260200190815260200160002060008f81526020019081526020016000206002016000828152602001908152602001600020600001548782815181101515610e7757fe5b906020019060200201818152505060066000600354815260200190815260200160002060008f81526020019081526020016000206002016000828152602001908152602001600020600201548682815181101515610ed157fe5b906020019060200201818152505060066000600354815260200190815260200160002060008f81526020019081526020016000206002016000828152602001908152602001600020600301548582815181101515610f2b57fe5b906020019060200201818152505060066000600354815260200190815260200160002060008f81526020019081526020016000206002016000828152602001908152602001600020600401548482815181101515610f8557fe5b906020019060200201818152505060066000600354815260200190815260200160002060008f81526020019081526020016000206002016000828152602001908152602001600020600501548382815181101515610fdf57fe5b906020019060200201818152505060066000600354815260200190815260200160002060008f8152602001908152602001600020600201600082815260200190815260200160002060060160009054906101000a900460ff16828281518110151561104657fe5b911515602092830290910190910152600101610dfa565b50949c939b5091995097509550909350915050565b818101828110156110cd576040805160e560020a62461bcd02815260206004820152601360248201527f536166654d61746820616464206661696c656400000000000000000000000000604482015290519081900360640190fd5b92915050565b600080805b8351811015610bd6578060010184510360080260020a84828151811015156110fc57fe5b01602001517f0100000000000000000000000000000000000000000000000000000000000000908190048102040291909101906001016110d8565b60035460009081526004602052604081205461115a90600163ffffffff61107216565b60038054600090815260046020818152604080842095909555835483528483205460058252858420600160a060020a03909816808552978252858420558354835260068082528584208383528685205485528252858420805473ffffffffffffffffffffffffffffffffffffffff19169098179097559254825294825282812094825282812054815293905282206001019190915550565b6000821515611203575060006110cd565b5081810281838281151561121357fe5b04146110cd576040805160e560020a62461bcd02815260206004820152601360248201527f536166654d617468206d756c206661696c656400000000000000000000000000604482015290519081900360640190fd5b600080828481151561127757fe5b049493505050505600a165627a7a72305820c2965886c57c03d322ecbd58aa2695688c0d49d9f3d1f6ca783b827483efb2d00029"
}