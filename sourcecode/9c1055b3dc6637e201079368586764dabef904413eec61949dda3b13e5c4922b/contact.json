{
  "address": "0xa9d37fd3dc36418e806dbbc16fe991c284940858",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "LTVCreditorProxy",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": false,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-11-27\n*/\n\npragma solidity 0.4.24;\npragma experimental ABIEncoderV2;\n// File: contracts/src/shared/interfaces/CollateralizerInterface.sol\n\n\n\n\ncontract CollateralizerInterface {\n\n\tfunction unpackCollateralParametersFromBytes(\n\t\tbytes32 parameters\n\t) public pure returns (uint, uint, uint);\n\n}\n\n// File: contracts/src/shared/interfaces/DebtKernelInterface.sol\n\n\n\ncontract DebtKernelInterface {\n\n\tenum Errors {\n\t\t// Debt has been already been issued\n\t\tDEBT_ISSUED,\n\t\t// Order has already expired\n\t\tORDER_EXPIRED,\n\t\t// Debt issuance associated with order has been cancelled\n\t\tISSUANCE_CANCELLED,\n\t\t// Order has been cancelled\n\t\tORDER_CANCELLED,\n\t\t// Order parameters specify amount of creditor / debtor fees\n\t\t// that is not equivalent to the amount of underwriter / relayer fees\n\t\tORDER_INVALID_INSUFFICIENT_OR_EXCESSIVE_FEES,\n\t\t// Order parameters specify insufficient principal amount for\n\t\t// debtor to at least be able to meet his fees\n\t\tORDER_INVALID_INSUFFICIENT_PRINCIPAL,\n\t\t// Order parameters specify non zero fee for an unspecified recipient\n\t\tORDER_INVALID_UNSPECIFIED_FEE_RECIPIENT,\n\t\t// Order signatures are mismatched / malformed\n\t\tORDER_INVALID_NON_CONSENSUAL,\n\t\t// Insufficient balance or allowance for principal token transfer\n\t\tCREDITOR_BALANCE_OR_ALLOWANCE_INSUFFICIENT\n\t}\n\n\t// solhint-disable-next-line var-name-mixedcase\n\taddress public TOKEN_TRANSFER_PROXY;\n\tbytes32 constant public NULL_ISSUANCE_HASH = bytes32(0);\n\n\t/* NOTE(kayvon): Currently, the `view` keyword does not actually enforce the\n\tstatic nature of the method; this will change in the future, but for now, in\n\torder to prevent reentrancy we'll need to arbitrarily set an upper bound on\n\tthe gas limit allotted for certain method calls. */\n\tuint16 constant public EXTERNAL_QUERY_GAS_LIMIT = 8000;\n\n\tmapping (bytes32 => bool) public issuanceCancelled;\n\tmapping (bytes32 => bool) public debtOrderCancelled;\n\n\tevent LogDebtOrderFilled(\n\t\tbytes32 indexed _agreementId,\n\t\tuint _principal,\n\t\taddress _principalToken,\n\t\taddress indexed _underwriter,\n\t\tuint _underwriterFee,\n\t\taddress indexed _relayer,\n\t\tuint _relayerFee\n\t);\n\n\tevent LogIssuanceCancelled(\n\t\tbytes32 indexed _agreementId,\n\t\taddress indexed _cancelledBy\n\t);\n\n\tevent LogDebtOrderCancelled(\n\t\tbytes32 indexed _debtOrderHash,\n\t\taddress indexed _cancelledBy\n\t);\n\n\tevent LogError(\n\t\tuint8 indexed _errorId,\n\t\tbytes32 indexed _orderHash\n\t);\n\n\tstruct Issuance {\n\t\taddress version;\n\t\taddress debtor;\n\t\taddress underwriter;\n\t\tuint underwriterRiskRating;\n\t\taddress termsContract;\n\t\tbytes32 termsContractParameters;\n\t\tuint salt;\n\t\tbytes32 agreementId;\n\t}\n\n\tstruct DebtOrder {\n\t\tIssuance issuance;\n\t\tuint underwriterFee;\n\t\tuint relayerFee;\n\t\tuint principalAmount;\n\t\taddress principalToken;\n\t\tuint creditorFee;\n\t\tuint debtorFee;\n\t\taddress relayer;\n\t\tuint expirationTimestampInSec;\n\t\tbytes32 debtOrderHash;\n\t}\n\n    function fillDebtOrder(\n        address creditor,\n        address[6] orderAddresses,\n        uint[8] orderValues,\n        bytes32[1] orderBytes32,\n        uint8[3] signaturesV,\n        bytes32[3] signaturesR,\n        bytes32[3] signaturesS\n    )\n        public\n        returns (bytes32 _agreementId);\n\n}\n\n// File: contracts/src/shared/interfaces/DebtTokenInterface.sol\n\n\n\ncontract DebtTokenInterface {\n\n    function transfer(address _to, uint _tokenId) public;\n\n    function exists(uint256 _tokenId) public view returns (bool);\n\n}\n\n// File: contracts/src/shared/interfaces/TokenTransferProxyInterface.sol\n\n\n\ncontract TokenTransferProxyInterface {}\n\n// File: contracts/src/shared/interfaces/ContractRegistryInterface.sol\n\n\n\n\n\n\n\ncontract ContractRegistryInterface {\n\n    CollateralizerInterface public collateralizer;\n    DebtKernelInterface public debtKernel;\n    DebtTokenInterface public debtToken;\n    TokenTransferProxyInterface public tokenTransferProxy;\n\n    function ContractRegistryInterface(\n        address _collateralizer,\n        address _debtKernel,\n        address _debtToken,\n        address _tokenTransferProxy\n    )\n        public\n    {\n        collateralizer = CollateralizerInterface(_collateralizer);\n        debtKernel = DebtKernelInterface(_debtKernel);\n        debtToken = DebtTokenInterface(_debtToken);\n        tokenTransferProxy = TokenTransferProxyInterface(_tokenTransferProxy);\n    }\n\n}\n\n// File: zeppelin-solidity/contracts/math/SafeMath.sol\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that throw on error\n */\nlibrary SafeMath {\n\n  /**\n  * @dev Multiplies two numbers, throws on overflow.\n  */\n  function mul(uint256 _a, uint256 _b) internal pure returns (uint256 c) {\n    // Gas optimization: this is cheaper than asserting 'a' not being zero, but the\n    // benefit is lost if 'b' is also tested.\n    // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n    if (_a == 0) {\n      return 0;\n    }\n\n    c = _a * _b;\n    assert(c / _a == _b);\n    return c;\n  }\n\n  /**\n  * @dev Integer division of two numbers, truncating the quotient.\n  */\n  function div(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    // assert(_b > 0); // Solidity automatically throws when dividing by 0\n    // uint256 c = _a / _b;\n    // assert(_a == _b * c + _a % _b); // There is no case in which this doesn't hold\n    return _a / _b;\n  }\n\n  /**\n  * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n  */\n  function sub(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    assert(_b <= _a);\n    return _a - _b;\n  }\n\n  /**\n  * @dev Adds two numbers, throws on overflow.\n  */\n  function add(uint256 _a, uint256 _b) internal pure returns (uint256 c) {\n    c = _a + _b;\n    assert(c >= _a);\n    return c;\n  }\n}\n\n// File: contracts/src/shared/libraries/SignaturesLibrary.sol\n\n\n\n\ncontract SignaturesLibrary {\n\tbytes constant internal PREFIX = \"\\x19Ethereum Signed Message:\\n32\";\n\n\tstruct ECDSASignature {\n\t\tuint8 v;\n\t\tbytes32 r;\n\t\tbytes32 s;\n\t}\n\n\tfunction isValidSignature(\n\t\taddress signer,\n\t\tbytes32 hash,\n\t\tECDSASignature signature\n\t)\n\t\tpublic\n\t\tpure\n\t\treturns (bool valid)\n\t{\n\t\tbytes32 prefixedHash = keccak256(PREFIX, hash);\n\t\treturn ecrecover(prefixedHash, signature.v, signature.r, signature.s) == signer;\n\t}\n}\n\n// File: contracts/src/shared/libraries/OrderLibrary.sol\n\n\n\n\ncontract OrderLibrary {\n\tstruct DebtOrder {\n\t\taddress kernelVersion;\n\t\taddress issuanceVersion;\n\t\tuint principalAmount;\n\t\taddress principalToken;\n\t\tuint collateralAmount;\n\t\taddress collateralToken;\n\t\taddress debtor;\n\t\tuint debtorFee;\n\t\taddress creditor;\n\t\tuint creditorFee;\n\t\taddress relayer;\n\t\tuint relayerFee;\n\t\taddress underwriter;\n\t\tuint underwriterFee;\n\t\tuint underwriterRiskRating;\n\t\taddress termsContract;\n\t\tbytes32 termsContractParameters;\n\t\tuint expirationTimestampInSec;\n\t\tuint salt;\n\t\tSignaturesLibrary.ECDSASignature debtorSignature;\n\t\tSignaturesLibrary.ECDSASignature creditorSignature;\n\t\tSignaturesLibrary.ECDSASignature underwriterSignature;\n\t}\n\n\tfunction unpackDebtOrder(DebtOrder memory order)\n\t\tpublic\n\t\tpure\n\t\treturns (\n\t        address[6] orderAddresses,\n\t        uint[8] orderValues,\n\t        bytes32[1] orderBytes32,\n\t        uint8[3] signaturesV,\n\t        bytes32[3] signaturesR,\n\t        bytes32[3] signaturesS\n\t\t)\n\t{\n\t\treturn (\n\t\t\t[order.issuanceVersion, order.debtor, order.underwriter, order.termsContract, order.principalToken, order.relayer],\n            [order.underwriterRiskRating, order.salt, order.principalAmount, order.underwriterFee, order.relayerFee, order.creditorFee, order.debtorFee, order.expirationTimestampInSec],\n\t\t\t[order.termsContractParameters],\n            [order.debtorSignature.v, order.creditorSignature.v, order.underwriterSignature.v],\n\t\t\t[order.debtorSignature.r, order.creditorSignature.r, order.underwriterSignature.r],\n\t\t\t[order.debtorSignature.s, order.creditorSignature.s, order.underwriterSignature.s]\n\t\t);\n\t}\n}\n\n// File: contracts/src/CreditorDrivenLoans/DecisionEngines/libraries/LTVDecisionEngineTypes.sol\n\n\n\n\n\n\ncontract LTVDecisionEngineTypes\n{\n\t// The parameters used during the consent and decision evaluations.\n\tstruct Params {\n\t\taddress creditor;\n\t\t// The values and signature for the creditor commitment hash.\n\t\tCreditorCommitment creditorCommitment;\n\t\t// Price feed data.\n\t\tPrice principalPrice;\n\t\tPrice collateralPrice;\n\t\t// A DebtOrderData is required to confirm parity with the submitted order.\n\t\tOrderLibrary.DebtOrder order;\n\t}\n\n\tstruct Price {\n\t\tuint value;\n\t\tuint timestamp;\n\t\taddress tokenAddress;\n\t\tSignaturesLibrary.ECDSASignature signature;\n\t}\n\n\tstruct CreditorCommitment {\n\t\tCommitmentValues values;\n\t\tSignaturesLibrary.ECDSASignature signature;\n\t}\n\n\tstruct CommitmentValues {\n\t\tuint maxLTV;\n\t\taddress priceFeedOperator;\n\t}\n\n\tstruct SimpleInterestParameters {\n\t\tuint principalTokenIndex;\n\t\tuint principalAmount;\n        uint interestRate;\n        uint amortizationUnitType;\n        uint termLengthInAmortizationUnits;\n\t}\n\n\tstruct CollateralParameters {\n\t\tuint collateralTokenIndex;\n\t\tuint collateralAmount;\n\t\tuint gracePeriodInDays;\n\t}\n}\n\n// File: contracts/src/shared/interfaces/TermsContractInterface.sol\n\n\n\n\ncontract TermsContractInterface {\n\n\tfunction registerTermStart(\n        bytes32 agreementId,\n        address debtor\n    ) public returns (bool _success);\n\n\tfunction registerRepayment(\n        bytes32 agreementId,\n        address payer,\n        address beneficiary,\n        uint256 unitsOfRepayment,\n        address tokenAddress\n    ) public returns (bool _success);\n\n\tfunction getExpectedRepaymentValue(\n        bytes32 agreementId,\n        uint256 timestamp\n    ) public view returns (uint256);\n\n\tfunction getValueRepaidToDate(\n        bytes32 agreementId\n    ) public view returns (uint256);\n\n\tfunction getTermEndTimestamp(\n        bytes32 _agreementId\n    ) public view returns (uint);\n\n}\n\n// File: contracts/src/shared/interfaces/SimpleInterestTermsContractInterface.sol\n\n\n\n\ncontract SimpleInterestTermsContractInterface is TermsContractInterface {\n\n    function unpackParametersFromBytes(\n        bytes32 parameters\n    ) public pure returns (\n        uint _principalTokenIndex,\n        uint _principalAmount,\n        uint _interestRate,\n        uint _amortizationUnitType,\n        uint _termLengthInAmortizationUnits\n    );\n\n}\n\n// File: contracts/src/CreditorDrivenLoans/DecisionEngines/LTVDecisionEngine.sol\n\n\n\n// External dependencies\n\n\n// Libraries\n\n\n\n\n// Interfaces\n\n\n\n\ncontract LTVDecisionEngine is LTVDecisionEngineTypes, SignaturesLibrary, OrderLibrary\n{\n\tusing SafeMath for uint;\n\n\tuint public constant PRECISION = 4;\n\n\tuint public constant MAX_PRICE_TTL_IN_SECONDS = 600;\n\n\tContractRegistryInterface public contractRegistry;\n\n\tfunction LTVDecisionEngine(address _contractRegistry) public {\n        contractRegistry = ContractRegistryInterface(_contractRegistry);\n    }\n\n\tfunction evaluateConsent(Params params, bytes32 commitmentHash)\n\t\tpublic view returns (bool)\n\t{\n\t\t// Checks that the given creditor values were signed by the creditor.\n\t\tif (!isValidSignature(\n\t\t\tparams.creditor,\n\t\t\tcommitmentHash,\n\t\t\tparams.creditorCommitment.signature\n\t\t)) {\n\t\t\t// We return early if the creditor values were not signed correctly.\n\t\t\treturn false;\n\t\t}\n\n\t\t// Checks that the given price feed data was signed by the price feed operator.\n\t\treturn (\n\t\t\tverifyPrices(\n\t\t\t\tparams.creditorCommitment.values.priceFeedOperator,\n\t\t\t\tparams.principalPrice,\n\t\t\t\tparams.collateralPrice\n\t\t\t)\n\t\t);\n\t}\n\n\t// Returns true if the creditor-initiated order has not expired, and the LTV is below the max.\n\tfunction evaluateDecision(Params memory params)\n\t\tpublic view returns (bool _success)\n\t{\n\t\tLTVDecisionEngineTypes.Price memory principalTokenPrice = params.principalPrice;\n\t\tLTVDecisionEngineTypes.Price memory collateralTokenPrice = params.collateralPrice;\n\n\t\tuint maxLTV = params.creditorCommitment.values.maxLTV;\n\t\tOrderLibrary.DebtOrder memory order = params.order;\n\n\t\tuint collateralValue = collateralTokenPrice.value;\n\n\t\tif (isExpired(order.expirationTimestampInSec)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (order.collateralAmount == 0 || collateralValue == 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tuint ltv = computeLTV(\n\t\t\tprincipalTokenPrice.value,\n\t\t\tcollateralTokenPrice.value,\n\t\t\torder.principalAmount,\n\t\t\torder.collateralAmount\n\t\t);\n\n\t\tuint maxLTVWithPrecision = maxLTV.mul(10 ** (PRECISION.sub(2)));\n\n\t\treturn ltv <= maxLTVWithPrecision;\n\t}\n\n\tfunction hashCreditorCommitmentForOrder(CommitmentValues commitmentValues, OrderLibrary.DebtOrder order)\n\tpublic view returns (bytes32)\n\t{\n\t\tbytes32 termsContractCommitmentHash =\n\t\t\tgetTermsContractCommitmentHash(order.termsContract, order.termsContractParameters);\n\n\t\treturn keccak256(\n\t\t\t// order values\n\t\t\torder.creditor,\n\t\t\torder.kernelVersion,\n\t\t\torder.issuanceVersion,\n\t\t\torder.termsContract,\n\t\t\torder.principalToken,\n\t\t\torder.salt,\n\t\t\torder.principalAmount,\n\t\t\torder.creditorFee,\n\t\t\torder.expirationTimestampInSec,\n\t\t\t// commitment values\n\t\t\tcommitmentValues.maxLTV,\n\t\t\tcommitmentValues.priceFeedOperator,\n\t\t\t// hashed terms contract commitments\n\t\t\ttermsContractCommitmentHash\n\t\t);\n\t}\n\n\tfunction getTermsContractCommitmentHash(\n\t\taddress termsContract,\n\t\tbytes32 termsContractParameters\n\t) public view returns (bytes32) {\n\t\tSimpleInterestParameters memory simpleInterestParameters =\n\t\t\tunpackSimpleInterestParameters(termsContract, termsContractParameters);\n\n\t\tCollateralParameters memory collateralParameters =\n\t\t\tunpackCollateralParameters(termsContractParameters);\n\n\t\treturn keccak256(\n\t\t\t// unpacked termsContractParameters\n\t\t\tsimpleInterestParameters.principalTokenIndex,\n\t\t\tsimpleInterestParameters.principalAmount,\n\t\t\tsimpleInterestParameters.interestRate,\n\t\t\tsimpleInterestParameters.amortizationUnitType,\n\t\t\tsimpleInterestParameters.termLengthInAmortizationUnits,\n\t\t\tcollateralParameters.collateralTokenIndex,\n\t\t\tcollateralParameters.gracePeriodInDays\n\t\t);\n\t}\n\n\tfunction unpackSimpleInterestParameters(\n\t\taddress termsContract,\n\t\tbytes32 termsContractParameters\n\t)\n\t\tpublic pure returns (SimpleInterestParameters)\n\t{\n\t\t// use simple interest terms contract interface to unpack simple interest terms\n\t\tSimpleInterestTermsContractInterface simpleInterestTermsContract = SimpleInterestTermsContractInterface(termsContract);\n\n\t\tvar (principalTokenIndex, principalAmount, interestRate, amortizationUnitType, termLengthInAmortizationUnits) =\n\t\t\tsimpleInterestTermsContract.unpackParametersFromBytes(termsContractParameters);\n\n\t\treturn SimpleInterestParameters({\n\t\t\tprincipalTokenIndex: principalTokenIndex,\n\t\t\tprincipalAmount: principalAmount,\n\t\t\tinterestRate: interestRate,\n\t\t\tamortizationUnitType: amortizationUnitType,\n\t\t\ttermLengthInAmortizationUnits: termLengthInAmortizationUnits\n\t\t});\n\t}\n\n\tfunction unpackCollateralParameters(\n\t\tbytes32 termsContractParameters\n\t)\n\t\tpublic view returns (CollateralParameters)\n\t{\n\t\tCollateralizerInterface collateralizer = CollateralizerInterface(contractRegistry.collateralizer());\n\n\t\tvar (collateralTokenIndex, collateralAmount, gracePeriodInDays) =\n\t\t\tcollateralizer.unpackCollateralParametersFromBytes(termsContractParameters);\n\n\t\treturn CollateralParameters({\n\t\t\tcollateralTokenIndex: collateralTokenIndex,\n\t\t\tcollateralAmount: collateralAmount,\n\t\t\tgracePeriodInDays: gracePeriodInDays\n\t\t});\n\t}\n\n\tfunction verifyPrices(\n\t\taddress priceFeedOperator,\n\t\tLTVDecisionEngineTypes.Price principalPrice,\n\t\tLTVDecisionEngineTypes.Price collateralPrice\n\t)\n\t\tinternal view returns (bool)\n\t{\n\t\tuint minPriceTimestamp = block.timestamp - MAX_PRICE_TTL_IN_SECONDS;\n\n\t\tif (principalPrice.timestamp < minPriceTimestamp ||\n\t\t\tcollateralPrice.timestamp < minPriceTimestamp) {\n\t\t\treturn false;\n\t\t}\n\n\t\tbytes32 principalPriceHash = keccak256(\n\t\t\tprincipalPrice.value,\n\t\t\tprincipalPrice.tokenAddress,\n\t\t\tprincipalPrice.timestamp\n\t\t);\n\n\t\tbytes32 collateralPriceHash = keccak256(\n\t\t\tcollateralPrice.value,\n\t\t\tcollateralPrice.tokenAddress,\n\t\t\tcollateralPrice.timestamp\n\t\t);\n\n\t\tbool principalPriceValid = isValidSignature(\n\t\t\tpriceFeedOperator,\n\t\t\tprincipalPriceHash,\n\t\t\tprincipalPrice.signature\n\t\t);\n\n\t\t// We return early if the principal price information was not signed correctly.\n\t\tif (!principalPriceValid) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn isValidSignature(\n\t\t\tpriceFeedOperator,\n\t\t\tcollateralPriceHash,\n\t\t\tcollateralPrice.signature\n\t\t);\n\t}\n\n\tfunction computeLTV(\n\t\tuint principalTokenPrice,\n\t\tuint collateralTokenPrice,\n\t\tuint principalAmount,\n\t\tuint collateralAmount\n\t)\n\t\tinternal constant returns (uint)\n\t{\n\t\tuint principalValue = principalTokenPrice.mul(principalAmount).mul(10 ** PRECISION);\n\t\tuint collateralValue = collateralTokenPrice.mul(collateralAmount);\n\n\t\treturn principalValue.div(collateralValue);\n\t}\n\n\tfunction isExpired(uint expirationTimestampInSec)\n\t\tinternal view returns (bool expired)\n\t{\n\t\treturn expirationTimestampInSec < block.timestamp;\n\t}\n}\n\n// File: zeppelin-solidity/contracts/token/ERC20/ERC20Basic.sol\n\n/**\n * @title ERC20Basic\n * @dev Simpler version of ERC20 interface\n * See https://github.com/ethereum/EIPs/issues/179\n */\ncontract ERC20Basic {\n  function totalSupply() public view returns (uint256);\n  function balanceOf(address _who) public view returns (uint256);\n  function transfer(address _to, uint256 _value) public returns (bool);\n  event Transfer(address indexed from, address indexed to, uint256 value);\n}\n\n// File: zeppelin-solidity/contracts/token/ERC20/ERC20.sol\n\n/**\n * @title ERC20 interface\n * @dev see https://github.com/ethereum/EIPs/issues/20\n */\ncontract ERC20 is ERC20Basic {\n  function allowance(address _owner, address _spender)\n    public view returns (uint256);\n\n  function transferFrom(address _from, address _to, uint256 _value)\n    public returns (bool);\n\n  function approve(address _spender, uint256 _value) public returns (bool);\n  event Approval(\n    address indexed owner,\n    address indexed spender,\n    uint256 value\n  );\n}\n\n// File: contracts/src/CreditorDrivenLoans/libraries/CreditorProxyErrors.sol\n\ncontract CreditorProxyErrors {\n    enum Errors {\n            DEBT_OFFER_CANCELLED,\n            DEBT_OFFER_ALREADY_FILLED,\n            DEBT_OFFER_NON_CONSENSUAL,\n            CREDITOR_BALANCE_OR_ALLOWANCE_INSUFFICIENT,\n            DEBT_OFFER_CRITERIA_NOT_MET\n        }\n\n    event CreditorProxyError(\n        uint8 indexed _errorId,\n        address indexed _creditor,\n        bytes32 indexed _creditorCommitmentHash\n    );\n}\n\n// File: contracts/src/CreditorDrivenLoans/libraries/CreditorProxyEvents.sol\n\n\n\ncontract CreditorProxyEvents {\n\n    event DebtOfferCancelled(\n        address indexed _creditor,\n        bytes32 indexed _creditorCommitmentHash\n    );\n\n    event DebtOfferFilled(\n        address indexed _creditor,\n        bytes32 indexed _creditorCommitmentHash,\n        bytes32 indexed _agreementId\n    );\n}\n\n// File: contracts/src/CreditorDrivenLoans/interfaces/CreditorProxyCoreInterface.sol\n\n\n\n\n\n\ncontract CreditorProxyCoreInterface is CreditorProxyErrors, CreditorProxyEvents { }\n\n// File: contracts/src/CreditorDrivenLoans/CreditorProxyCore.sol\n\n\n\n// External libraries\n\n// Internal interfaces\n\n// Shared interfaces\n\n\n\ncontract CreditorProxyCore is CreditorProxyCoreInterface {\n\n\tuint16 constant public EXTERNAL_QUERY_GAS_LIMIT = 8000;\n\n\tContractRegistryInterface public contractRegistry;\n\n\t/**\n\t * Helper function for transferring a specified amount of tokens between two parties.\n\t */\n\tfunction transferTokensFrom(\n\t\taddress _token,\n\t\taddress _from,\n\t\taddress _to,\n\t\tuint _amount\n\t)\n\t\tinternal\n\t\treturns (bool _success)\n\t{\n\t\treturn ERC20(_token).transferFrom(_from, _to, _amount);\n\t}\n\n\t/**\n     * Helper function for querying this contract's allowance for transferring the given token.\n     */\n\tfunction getAllowance(\n\t\taddress token,\n\t\taddress owner,\n\t\taddress granter\n\t)\n\t\tinternal\n\t\tview\n\treturns (uint _allowance)\n\t{\n\t\t// Limit gas to prevent reentrancy.\n\t\treturn ERC20(token).allowance.gas(EXTERNAL_QUERY_GAS_LIMIT)(\n\t\t\towner,\n\t\t\tgranter\n\t\t);\n\t}\n}\n\n// File: contracts/src/CreditorDrivenLoans/LTVCreditorProxy.sol\n\n\n\n// Internal interfaces\n\n// Internal mixins\n\n\n\n\ncontract LTVCreditorProxy is CreditorProxyCore, LTVDecisionEngine {\n\n\tmapping (bytes32 => bool) public debtOfferCancelled;\n\tmapping (bytes32 => bool) public debtOfferFilled;\n\n\tbytes32 constant internal NULL_ISSUANCE_HASH = bytes32(0);\n\n\tfunction LTVCreditorProxy(address _contractRegistry) LTVDecisionEngine(_contractRegistry)\n\t\tpublic\n\t{\n\t\tcontractRegistry = ContractRegistryInterface(_contractRegistry);\n\t}\n\n\tfunction fillDebtOffer(LTVDecisionEngineTypes.Params params)\n\t\tpublic returns (bytes32 agreementId)\n\t{\n\t\tOrderLibrary.DebtOrder memory order = params.order;\n\t\tCommitmentValues memory commitmentValues = params.creditorCommitment.values;\n\n\t\tbytes32 creditorCommitmentHash = hashCreditorCommitmentForOrder(commitmentValues, order);\n\n\t\tif (!evaluateConsent(params, creditorCommitmentHash)) {\n\t\t\temit CreditorProxyError(uint8(Errors.DEBT_OFFER_NON_CONSENSUAL), order.creditor, creditorCommitmentHash);\n\t\t\treturn NULL_ISSUANCE_HASH;\n\t\t}\n\n\t\tif (debtOfferFilled[creditorCommitmentHash]) {\n\t\t\temit CreditorProxyError(uint8(Errors.DEBT_OFFER_ALREADY_FILLED), order.creditor, creditorCommitmentHash);\n\t\t\treturn NULL_ISSUANCE_HASH;\n\t\t}\n\n\t\tif (debtOfferCancelled[creditorCommitmentHash]) {\n\t\t\temit CreditorProxyError(uint8(Errors.DEBT_OFFER_CANCELLED), order.creditor, creditorCommitmentHash);\n\t\t\treturn NULL_ISSUANCE_HASH;\n\t\t}\n\n\t\tif (!evaluateDecision(params)) {\n\t\t\temit CreditorProxyError(\n\t\t\t\tuint8(Errors.DEBT_OFFER_CRITERIA_NOT_MET),\n\t\t\t\torder.creditor,\n\t\t\t\tcreditorCommitmentHash\n\t\t\t);\n\t\t\treturn NULL_ISSUANCE_HASH;\n\t\t}\n\n\t\taddress principalToken = order.principalToken;\n\n\t\t// The allowance that the token transfer proxy has for this contract's tokens.\n\t\tuint tokenTransferAllowance = getAllowance(\n\t\t\tprincipalToken,\n\t\t\taddress(this),\n\t\t\tcontractRegistry.tokenTransferProxy()\n\t\t);\n\n\t\tuint totalCreditorPayment = order.principalAmount.add(order.creditorFee);\n\n\t\t// Ensure the token transfer proxy can transfer tokens from the creditor proxy\n\t\tif (tokenTransferAllowance < totalCreditorPayment) {\n\t\t\trequire(setTokenTransferAllowance(principalToken, totalCreditorPayment));\n\t\t}\n\n\t\t// Transfer principal from creditor to CreditorProxy\n\t\tif (totalCreditorPayment > 0) {\n\t\t\trequire(\n\t\t\t\ttransferTokensFrom(\n\t\t\t\t\tprincipalToken,\n\t\t\t\t\torder.creditor,\n\t\t\t\t\taddress(this),\n\t\t\t\t\ttotalCreditorPayment\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tagreementId = sendOrderToKernel(order);\n\n\t\trequire(agreementId != NULL_ISSUANCE_HASH);\n\n\t\tdebtOfferFilled[creditorCommitmentHash] = true;\n\n\t\tcontractRegistry.debtToken().transfer(order.creditor, uint256(agreementId));\n\n\t\temit DebtOfferFilled(order.creditor, creditorCommitmentHash, agreementId);\n\n\t\treturn agreementId;\n\t}\n\n\tfunction sendOrderToKernel(DebtOrder memory order) internal returns (bytes32 id)\n\t{\n\t\taddress[6] memory orderAddresses;\n\t\tuint[8] memory orderValues;\n\t\tbytes32[1] memory orderBytes32;\n\t\tuint8[3] memory signaturesV;\n\t\tbytes32[3] memory signaturesR;\n\t\tbytes32[3] memory signaturesS;\n\n\t\t(orderAddresses, orderValues, orderBytes32, signaturesV, signaturesR, signaturesS) = unpackDebtOrder(order);\n\n\t\treturn contractRegistry.debtKernel().fillDebtOrder(\n\t\t\taddress(this),\n\t\t\torderAddresses,\n\t\t\torderValues,\n\t\t\torderBytes32,\n\t\t\tsignaturesV,\n\t\t\tsignaturesR,\n\t\t\tsignaturesS\n\t\t);\n\t}\n\n\tfunction cancelDebtOffer(LTVDecisionEngineTypes.Params params) public returns (bool) {\n\t\tLTVDecisionEngineTypes.CommitmentValues memory commitmentValues = params.creditorCommitment.values;\n\t\tOrderLibrary.DebtOrder memory order = params.order;\n\n\t\t// sender must be the creditor.\n\t\trequire(msg.sender == order.creditor);\n\n\t\tbytes32 creditorCommitmentHash = hashCreditorCommitmentForOrder(commitmentValues, order);\n\n\t\t// debt offer must not already be filled.\n\t\trequire(!debtOfferFilled[creditorCommitmentHash]);\n\n\t\tdebtOfferCancelled[creditorCommitmentHash] = true;\n\n\t\temit DebtOfferCancelled(order.creditor, creditorCommitmentHash);\n\n\t\treturn true;\n\t}\n\n\t/**\n     * Helper function for approving this address' allowance to Dharma's token transfer proxy.\n     */\n\tfunction setTokenTransferAllowance(\n\t\taddress token,\n\t\tuint amount\n\t)\n\t\tinternal\n\t\treturns (bool _success)\n\t{\n\t\treturn ERC20(token).approve(\n\t\t\taddress(contractRegistry.tokenTransferProxy()),\n\t\t\tamount\n\t\t);\n\t}\n}",
  "abi": "[{\"constant\":true,\"inputs\":[{\"name\":\"termsContract\",\"type\":\"address\"},{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"}],\"name\":\"getTermsContractCommitmentHash\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"components\":[{\"name\":\"creditor\",\"type\":\"address\"},{\"components\":[{\"components\":[{\"name\":\"maxLTV\",\"type\":\"uint256\"},{\"name\":\"priceFeedOperator\",\"type\":\"address\"}],\"name\":\"values\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"creditorCommitment\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"principalPrice\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"collateralPrice\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"kernelVersion\",\"type\":\"address\"},{\"name\":\"issuanceVersion\",\"type\":\"address\"},{\"name\":\"principalAmount\",\"type\":\"uint256\"},{\"name\":\"principalToken\",\"type\":\"address\"},{\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"name\":\"collateralToken\",\"type\":\"address\"},{\"name\":\"debtor\",\"type\":\"address\"},{\"name\":\"debtorFee\",\"type\":\"uint256\"},{\"name\":\"creditor\",\"type\":\"address\"},{\"name\":\"creditorFee\",\"type\":\"uint256\"},{\"name\":\"relayer\",\"type\":\"address\"},{\"name\":\"relayerFee\",\"type\":\"uint256\"},{\"name\":\"underwriter\",\"type\":\"address\"},{\"name\":\"underwriterFee\",\"type\":\"uint256\"},{\"name\":\"underwriterRiskRating\",\"type\":\"uint256\"},{\"name\":\"termsContract\",\"type\":\"address\"},{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"},{\"name\":\"expirationTimestampInSec\",\"type\":\"uint256\"},{\"name\":\"salt\",\"type\":\"uint256\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"debtorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"creditorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"underwriterSignature\",\"type\":\"tuple\"}],\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"params\",\"type\":\"tuple\"},{\"name\":\"commitmentHash\",\"type\":\"bytes32\"}],\"name\":\"evaluateConsent\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"components\":[{\"name\":\"creditor\",\"type\":\"address\"},{\"components\":[{\"components\":[{\"name\":\"maxLTV\",\"type\":\"uint256\"},{\"name\":\"priceFeedOperator\",\"type\":\"address\"}],\"name\":\"values\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"creditorCommitment\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"principalPrice\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"collateralPrice\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"kernelVersion\",\"type\":\"address\"},{\"name\":\"issuanceVersion\",\"type\":\"address\"},{\"name\":\"principalAmount\",\"type\":\"uint256\"},{\"name\":\"principalToken\",\"type\":\"address\"},{\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"name\":\"collateralToken\",\"type\":\"address\"},{\"name\":\"debtor\",\"type\":\"address\"},{\"name\":\"debtorFee\",\"type\":\"uint256\"},{\"name\":\"creditor\",\"type\":\"address\"},{\"name\":\"creditorFee\",\"type\":\"uint256\"},{\"name\":\"relayer\",\"type\":\"address\"},{\"name\":\"relayerFee\",\"type\":\"uint256\"},{\"name\":\"underwriter\",\"type\":\"address\"},{\"name\":\"underwriterFee\",\"type\":\"uint256\"},{\"name\":\"underwriterRiskRating\",\"type\":\"uint256\"},{\"name\":\"termsContract\",\"type\":\"address\"},{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"},{\"name\":\"expirationTimestampInSec\",\"type\":\"uint256\"},{\"name\":\"salt\",\"type\":\"uint256\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"debtorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"creditorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"underwriterSignature\",\"type\":\"tuple\"}],\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"cancelDebtOffer\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"components\":[{\"name\":\"creditor\",\"type\":\"address\"},{\"components\":[{\"components\":[{\"name\":\"maxLTV\",\"type\":\"uint256\"},{\"name\":\"priceFeedOperator\",\"type\":\"address\"}],\"name\":\"values\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"creditorCommitment\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"principalPrice\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"collateralPrice\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"kernelVersion\",\"type\":\"address\"},{\"name\":\"issuanceVersion\",\"type\":\"address\"},{\"name\":\"principalAmount\",\"type\":\"uint256\"},{\"name\":\"principalToken\",\"type\":\"address\"},{\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"name\":\"collateralToken\",\"type\":\"address\"},{\"name\":\"debtor\",\"type\":\"address\"},{\"name\":\"debtorFee\",\"type\":\"uint256\"},{\"name\":\"creditor\",\"type\":\"address\"},{\"name\":\"creditorFee\",\"type\":\"uint256\"},{\"name\":\"relayer\",\"type\":\"address\"},{\"name\":\"relayerFee\",\"type\":\"uint256\"},{\"name\":\"underwriter\",\"type\":\"address\"},{\"name\":\"underwriterFee\",\"type\":\"uint256\"},{\"name\":\"underwriterRiskRating\",\"type\":\"uint256\"},{\"name\":\"termsContract\",\"type\":\"address\"},{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"},{\"name\":\"expirationTimestampInSec\",\"type\":\"uint256\"},{\"name\":\"salt\",\"type\":\"uint256\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"debtorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"creditorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"underwriterSignature\",\"type\":\"tuple\"}],\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"evaluateDecision\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"signer\",\"type\":\"address\"},{\"name\":\"hash\",\"type\":\"bytes32\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"isValidSignature\",\"outputs\":[{\"name\":\"valid\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAX_PRICE_TTL_IN_SECONDS\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"debtOfferCancelled\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PRECISION\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"contractRegistry\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"components\":[{\"name\":\"creditor\",\"type\":\"address\"},{\"components\":[{\"components\":[{\"name\":\"maxLTV\",\"type\":\"uint256\"},{\"name\":\"priceFeedOperator\",\"type\":\"address\"}],\"name\":\"values\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"creditorCommitment\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"principalPrice\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"value\",\"type\":\"uint256\"},{\"name\":\"timestamp\",\"type\":\"uint256\"},{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"signature\",\"type\":\"tuple\"}],\"name\":\"collateralPrice\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"kernelVersion\",\"type\":\"address\"},{\"name\":\"issuanceVersion\",\"type\":\"address\"},{\"name\":\"principalAmount\",\"type\":\"uint256\"},{\"name\":\"principalToken\",\"type\":\"address\"},{\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"name\":\"collateralToken\",\"type\":\"address\"},{\"name\":\"debtor\",\"type\":\"address\"},{\"name\":\"debtorFee\",\"type\":\"uint256\"},{\"name\":\"creditor\",\"type\":\"address\"},{\"name\":\"creditorFee\",\"type\":\"uint256\"},{\"name\":\"relayer\",\"type\":\"address\"},{\"name\":\"relayerFee\",\"type\":\"uint256\"},{\"name\":\"underwriter\",\"type\":\"address\"},{\"name\":\"underwriterFee\",\"type\":\"uint256\"},{\"name\":\"underwriterRiskRating\",\"type\":\"uint256\"},{\"name\":\"termsContract\",\"type\":\"address\"},{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"},{\"name\":\"expirationTimestampInSec\",\"type\":\"uint256\"},{\"name\":\"salt\",\"type\":\"uint256\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"debtorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"creditorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"underwriterSignature\",\"type\":\"tuple\"}],\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"fillDebtOffer\",\"outputs\":[{\"name\":\"agreementId\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"debtOfferFilled\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"}],\"name\":\"unpackCollateralParameters\",\"outputs\":[{\"components\":[{\"name\":\"collateralTokenIndex\",\"type\":\"uint256\"},{\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"name\":\"gracePeriodInDays\",\"type\":\"uint256\"}],\"name\":\"\",\"type\":\"tuple\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"components\":[{\"name\":\"maxLTV\",\"type\":\"uint256\"},{\"name\":\"priceFeedOperator\",\"type\":\"address\"}],\"name\":\"commitmentValues\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"kernelVersion\",\"type\":\"address\"},{\"name\":\"issuanceVersion\",\"type\":\"address\"},{\"name\":\"principalAmount\",\"type\":\"uint256\"},{\"name\":\"principalToken\",\"type\":\"address\"},{\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"name\":\"collateralToken\",\"type\":\"address\"},{\"name\":\"debtor\",\"type\":\"address\"},{\"name\":\"debtorFee\",\"type\":\"uint256\"},{\"name\":\"creditor\",\"type\":\"address\"},{\"name\":\"creditorFee\",\"type\":\"uint256\"},{\"name\":\"relayer\",\"type\":\"address\"},{\"name\":\"relayerFee\",\"type\":\"uint256\"},{\"name\":\"underwriter\",\"type\":\"address\"},{\"name\":\"underwriterFee\",\"type\":\"uint256\"},{\"name\":\"underwriterRiskRating\",\"type\":\"uint256\"},{\"name\":\"termsContract\",\"type\":\"address\"},{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"},{\"name\":\"expirationTimestampInSec\",\"type\":\"uint256\"},{\"name\":\"salt\",\"type\":\"uint256\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"debtorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"creditorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"underwriterSignature\",\"type\":\"tuple\"}],\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"hashCreditorCommitmentForOrder\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"components\":[{\"name\":\"kernelVersion\",\"type\":\"address\"},{\"name\":\"issuanceVersion\",\"type\":\"address\"},{\"name\":\"principalAmount\",\"type\":\"uint256\"},{\"name\":\"principalToken\",\"type\":\"address\"},{\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"name\":\"collateralToken\",\"type\":\"address\"},{\"name\":\"debtor\",\"type\":\"address\"},{\"name\":\"debtorFee\",\"type\":\"uint256\"},{\"name\":\"creditor\",\"type\":\"address\"},{\"name\":\"creditorFee\",\"type\":\"uint256\"},{\"name\":\"relayer\",\"type\":\"address\"},{\"name\":\"relayerFee\",\"type\":\"uint256\"},{\"name\":\"underwriter\",\"type\":\"address\"},{\"name\":\"underwriterFee\",\"type\":\"uint256\"},{\"name\":\"underwriterRiskRating\",\"type\":\"uint256\"},{\"name\":\"termsContract\",\"type\":\"address\"},{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"},{\"name\":\"expirationTimestampInSec\",\"type\":\"uint256\"},{\"name\":\"salt\",\"type\":\"uint256\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"debtorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"creditorSignature\",\"type\":\"tuple\"},{\"components\":[{\"name\":\"v\",\"type\":\"uint8\"},{\"name\":\"r\",\"type\":\"bytes32\"},{\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"underwriterSignature\",\"type\":\"tuple\"}],\"name\":\"order\",\"type\":\"tuple\"}],\"name\":\"unpackDebtOrder\",\"outputs\":[{\"name\":\"orderAddresses\",\"type\":\"address[6]\"},{\"name\":\"orderValues\",\"type\":\"uint256[8]\"},{\"name\":\"orderBytes32\",\"type\":\"bytes32[1]\"},{\"name\":\"signaturesV\",\"type\":\"uint8[3]\"},{\"name\":\"signaturesR\",\"type\":\"bytes32[3]\"},{\"name\":\"signaturesS\",\"type\":\"bytes32[3]\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"termsContract\",\"type\":\"address\"},{\"name\":\"termsContractParameters\",\"type\":\"bytes32\"}],\"name\":\"unpackSimpleInterestParameters\",\"outputs\":[{\"components\":[{\"name\":\"principalTokenIndex\",\"type\":\"uint256\"},{\"name\":\"principalAmount\",\"type\":\"uint256\"},{\"name\":\"interestRate\",\"type\":\"uint256\"},{\"name\":\"amortizationUnitType\",\"type\":\"uint256\"},{\"name\":\"termLengthInAmortizationUnits\",\"type\":\"uint256\"}],\"name\":\"\",\"type\":\"tuple\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"EXTERNAL_QUERY_GAS_LIMIT\",\"outputs\":[{\"name\":\"\",\"type\":\"uint16\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_contractRegistry\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_creditor\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_creditorCommitmentHash\",\"type\":\"bytes32\"}],\"name\":\"DebtOfferCancelled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_creditor\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_creditorCommitmentHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"name\":\"_agreementId\",\"type\":\"bytes32\"}],\"name\":\"DebtOfferFilled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_errorId\",\"type\":\"uint8\"},{\"indexed\":true,\"name\":\"_creditor\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_creditorCommitmentHash\",\"type\":\"bytes32\"}],\"name\":\"CreditorProxyError\",\"type\":\"event\"}]",
  "bytecode": "60806040523480156200001157600080fd5b50604051602080620033a98339810180604052620000339190810190620000d4565b8080600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505080600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505062000120565b6000620000cc825162000100565b905092915050565b600060208284031215620000e757600080fd5b6000620000f784828501620000be565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b61327980620001306000396000f3006080604052600436106100e6576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630257dbc9146100eb57806320113da11461012857806333ff02d414610165578063433256f2146101a2578063578911ac146101df5780637c3ea9fc1461021c578063a318b5f714610247578063aaf5eb6814610284578063abf410e5146102af578063b7e1d0af146102da578063c1614d0014610317578063cf99685c14610354578063d02fe46914610391578063e301885c146103ce578063e7083d2414610410578063f06bbf751461044d575b600080fd5b3480156100f757600080fd5b50610112600480360361010d919081019061280f565b610478565b60405161011f9190612f7f565b60405180910390f35b34801561013457600080fd5b5061014f600480360361014a9190810190612a4a565b61050d565b60405161015c9190612f64565b60405180910390f35b34801561017157600080fd5b5061018c60048036036101879190810190612a20565b61055d565b6040516101999190612f64565b60405180910390f35b3480156101ae57600080fd5b506101c960048036036101c49190810190612a20565b610690565b6040516101d69190612f64565b60405180910390f35b3480156101eb57600080fd5b506102066004803603610201919081019061284b565b610776565b6040516102139190612f64565b60405180910390f35b34801561022857600080fd5b506102316108b8565b60405161023e919061304b565b60405180910390f35b34801561025357600080fd5b5061026e600480360361026991908101906128c3565b6108be565b60405161027b9190612f64565b60405180910390f35b34801561029057600080fd5b506102996108de565b6040516102a6919061304b565b60405180910390f35b3480156102bb57600080fd5b506102c46108e3565b6040516102d19190612fdf565b60405180910390f35b3480156102e657600080fd5b5061030160048036036102fc9190810190612a20565b610909565b60405161030e9190612f7f565b60405180910390f35b34801561032357600080fd5b5061033e600480360361033991908101906128c3565b610e9a565b60405161034b9190612f64565b60405180910390f35b34801561036057600080fd5b5061037b600480360361037691908101906128c3565b610eba565b6040516103889190612ffa565b60405180910390f35b34801561039d57600080fd5b506103b860048036036103b391908101906129b9565b61105c565b6040516103c59190612f7f565b60405180910390f35b3480156103da57600080fd5b506103f560048036036103f091908101906129f6565b611287565b60405161040796959493929190612efe565b60405180910390f35b34801561041c57600080fd5b506104376004803603610432919081019061280f565b611582565b6040516104449190613015565b60405180910390f35b34801561045957600080fd5b5061046261167d565b60405161046f9190613030565b60405180910390f35b6000610482611d77565b61048a611da7565b6104948585611582565b915061049f84610eba565b905081600001518260200151836040015184606001518560800151856000015186604001516040518088815260200187815260200186815260200185815260200184815260200183815260200182815260200197505050505050505060405180910390209250505092915050565b6000610526836000015183856020015160200151610776565b15156105355760009050610557565b6105548360200151600001516020015184604001518560600151611683565b90505b92915050565b6000610567611dc9565b61056f611df9565b600084602001516000015192508460800151915081610100015173ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105c257600080fd5b6105cc838361105c565b905060036000826000191660001916815260200190815260200160002060009054906101000a900460ff1615151561060357600080fd5b600160026000836000191660001916815260200190815260200160002060006101000a81548160ff021916908315150217905550806000191682610100015173ffffffffffffffffffffffffffffffffffffffff167f320c5376a3da7bddef2f74a91d4575f1a8547203712054ca2cf5f3ae3cadeb0560405160405180910390a360019350505050919050565b600061069a611f7c565b6106a2611f7c565b60006106ac611df9565b6000806000886040015196508860600151955088602001516000015160000151945088608001519350856000015192506106ea8461022001516117d1565b156106f8576000975061076a565b60008460800151148061070b5750600083145b15610719576000975061076a565b61073587600001518760000151866040015187608001516117dd565b915061076161074f6002600461184190919063ffffffff16565b600a0a8661185a90919063ffffffff16565b90508082111597505b50505050505050919050565b6000806040805190810160405280601c81526020017f19457468657265756d205369676e6564204d6573736167653a0a333200000000815250846040518083805190602001908083835b6020831015156107e557805182526020820191506020810190506020830392506107c0565b6001836020036101000a038019825116818451168082178552505050505050905001826000191660001916815260200192505050604051809103902090508473ffffffffffffffffffffffffffffffffffffffff16600182856000015186602001518760400151604051600081526020016040526040516108699493929190612f9a565b60206040516020810390808403906000865af115801561088d573d6000803e3d6000fd5b5050506020604051035173ffffffffffffffffffffffffffffffffffffffff16149150509392505050565b61025881565b60026020528060005260406000206000915054906101000a900460ff1681565b600481565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000610913611df9565b61091b611dc9565b60008060008087608001519550876020015160000151945061093d858761105c565b9350610949888561050d565b15156109b857836000191686610100015173ffffffffffffffffffffffffffffffffffffffff166002600481111561097d57fe5b60ff167f9fd787e2a5fcbda76c8a1a1f8bb14a3328d4991b94bd7461fe7468aaedbd6d2460405160405180910390a460006001029650610e8f565b60036000856000191660001916815260200190815260200160002060009054906101000a900460ff1615610a4f57836000191686610100015173ffffffffffffffffffffffffffffffffffffffff1660016004811115610a1457fe5b60ff167f9fd787e2a5fcbda76c8a1a1f8bb14a3328d4991b94bd7461fe7468aaedbd6d2460405160405180910390a460006001029650610e8f565b60026000856000191660001916815260200190815260200160002060009054906101000a900460ff1615610ae657836000191686610100015173ffffffffffffffffffffffffffffffffffffffff1660006004811115610aab57fe5b60ff167f9fd787e2a5fcbda76c8a1a1f8bb14a3328d4991b94bd7461fe7468aaedbd6d2460405160405180910390a460006001029650610e8f565b610aef88610690565b1515610b5d57836000191686610100015173ffffffffffffffffffffffffffffffffffffffff16600480811115610b2257fe5b60ff167f9fd787e2a5fcbda76c8a1a1f8bb14a3328d4991b94bd7461fe7468aaedbd6d2460405160405180910390a460006001029650610e8f565b85606001519250610c2c8330600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630eefdbad6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015610bef57600080fd5b505af1158015610c03573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c279190810190612990565b611892565b9150610c4a866101200151876040015161194e90919063ffffffff16565b905080821015610c6a57610c5e838261196a565b1515610c6957600080fd5b5b6000811115610c9057610c84838761010001513084611ada565b1515610c8f57600080fd5b5b610c9986611b91565b9650600060010260001916876000191614151515610cb657600080fd5b600160036000866000191660001916815260200190815260200160002060006101000a81548160ff021916908315150217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f8d898986040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015610d7057600080fd5b505af1158015610d84573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610da89190810190612967565b73ffffffffffffffffffffffffffffffffffffffff1663a9059cbb87610100015189600190046040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401610e07929190612ed5565b600060405180830381600087803b158015610e2157600080fd5b505af1158015610e35573d6000803e3d6000fd5b505050508660001916846000191687610100015173ffffffffffffffffffffffffffffffffffffffff167fdc3cdf07a43996ceac82462ded070dbc1bf60c3d66cfa11770cd91a41b1c62e060405160405180910390a48696505b505050505050919050565b60036020528060005260406000206000915054906101000a900460ff1681565b610ec2611da7565b600080600080600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663869f05116040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015610f4e57600080fd5b505af1158015610f62573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f869190810190612915565b93508373ffffffffffffffffffffffffffffffffffffffff1663ca062647876040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401610fdd9190612f7f565b606060405180830381600087803b158015610ff757600080fd5b505af115801561100b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061102f9190810190612ab1565b92509250925060606040519081016040528084815260200183815260200182815250945050505050919050565b600080611073836101e00151846102000151610478565b905082610100015183600001518460200151856101e00151866060015187610240015188604001518961012001518a61022001518c600001518d602001518b604051808d73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018881526020018781526020018681526020018581526020018481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140182600019166000191681526020019c50505050505050505050505050604051809103902091505092915050565b61128f611fc1565b611297611fe4565b61129f612008565b6112a761202b565b6112af61204e565b6112b761204e565b60c060405190810160405280886020015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018860c0015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200188610180015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001886101e0015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001886060015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200188610140015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681525061010060405190810160405280896101c001518152602001896102400151815260200189604001518152602001896101a001518152602001896101600151815260200189610120015181526020018960e0015181526020018961022001518152506020604051908101604052808a610200015160001916600019168152506060604051908101604052808b61026001516000015160ff1660ff1681526020018b61028001516000015160ff1660ff1681526020018b6102a001516000015160ff1660ff168152506060604051908101604052808c610260015160200151600019166000191681526020018c610280015160200151600019166000191681526020018c6102a001516020015160001916600019168152506060604051908101604052808d610260015160400151600019166000191681526020018d610280015160400151600019166000191681526020018d6102a0015160400151600019166000191681525095509550955095509550955091939550919395565b61158a611d77565b6000806000806000808895508573ffffffffffffffffffffffffffffffffffffffff1663ed8907d7896040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016115eb9190612f7f565b60a060405180830381600087803b15801561160557600080fd5b505af1158015611619573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061163d9190810190612b00565b9450945094509450945060a06040519081016040528086815260200185815260200184815260200183815260200182815250965050505050505092915050565b611f4081565b60008060008060006102584203935083876020015110806116a75750838660200151105b156116b557600094506117c6565b866000015187604001518860200151604051808481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401828152602001935050505060405180910390209250856000015186604001518760200151604051808481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014018281526020019350505050604051809103902091506117a288848960600151610776565b90508015156117b457600094506117c6565b6117c388838860600151610776565b94505b505050509392505050565b60004282109050919050565b600080600061180b6004600a0a6117fd878a61185a90919063ffffffff16565b61185a90919063ffffffff16565b9150611820848761185a90919063ffffffff16565b90506118358183611d6190919063ffffffff16565b92505050949350505050565b600082821115151561184f57fe5b818303905092915050565b60008083141561186d576000905061188c565b818302905081838281151561187e57fe5b0414151561188857fe5b8090505b92915050565b60008373ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e611f4061ffff1685856040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016118f2929190612e01565b602060405180830381600088803b15801561190c57600080fd5b5087f1158015611920573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052506119459190810190612a88565b90509392505050565b6000818301905082811015151561196157fe5b80905092915050565b60008273ffffffffffffffffffffffffffffffffffffffff1663095ea7b3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630eefdbad6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015611a0e57600080fd5b505af1158015611a22573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611a469190810190612990565b846040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401611a80929190612ed5565b602060405180830381600087803b158015611a9a57600080fd5b505af1158015611aae573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611ad2919081019061289a565b905092915050565b60008473ffffffffffffffffffffffffffffffffffffffff166323b872dd8585856040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401611b3593929190612e2a565b602060405180830381600087803b158015611b4f57600080fd5b505af1158015611b63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611b87919081019061289a565b9050949350505050565b6000611b9b611fc1565b611ba3611fe4565b611bab612008565b611bb361202b565b611bbb61204e565b611bc361204e565b611bcc88611287565b809650819750829850839950849a50859b50505050505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663079dd4b76040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015611c6a57600080fd5b505af1158015611c7e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611ca2919081019061293e565b73ffffffffffffffffffffffffffffffffffffffff1663e6488fc9308888888888886040518863ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401611d029796959493929190612e61565b602060405180830381600087803b158015611d1c57600080fd5b505af1158015611d30573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611d5491908101906128ec565b9650505050505050919050565b60008183811515611d6e57fe5b04905092915050565b60a06040519081016040528060008152602001600081526020016000815260200160008152602001600081525090565b6060604051908101604052806000815260200160008152602001600081525090565b604080519081016040528060008152602001600073ffffffffffffffffffffffffffffffffffffffff1681525090565b61038060405190810160405280600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600080191681526020016000815260200160008152602001611f5c612071565b8152602001611f69612071565b8152602001611f76612071565b81525090565b60c0604051908101604052806000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001611fbb612071565b81525090565b60c060405190810160405280600690602082028038833980820191505090505090565b61010060405190810160405280600890602082028038833980820191505090505090565b602060405190810160405280600190602082028038833980820191505090505090565b606060405190810160405280600390602082028038833980820191505090505090565b606060405190810160405280600390602082028038833980820191505090505090565b606060405190810160405280600060ff16815260200160008019168152602001600080191681525090565b60006120a88235613198565b905092915050565b60006120bc82516131b8565b905092915050565b60006120d082356131c4565b905092915050565b60006120e482516131c4565b905092915050565b60006120f882516131ce565b905092915050565b600061210c82516131e0565b905092915050565b600061212082516131f2565b905092915050565b60006121348251613204565b905092915050565b60006040828403121561214e57600080fd5b6121586040613066565b90506000612168848285016127d3565b600083015250602061217c8482850161209c565b60208301525092915050565b60006040828403121561219a57600080fd5b6121a46040613066565b905060006121b4848285016127d3565b60008301525060206121c88482850161209c565b60208301525092915050565b600060a082840312156121e657600080fd5b6121f06040613066565b905060006122008482850161213c565b600083015250604061221484828501612614565b60208301525092915050565b6000610380828403121561223357600080fd5b61223e6102c0613066565b9050600061224e8482850161209c565b60008301525060206122628482850161209c565b6020830152506040612276848285016127d3565b604083015250606061228a8482850161209c565b606083015250608061229e848285016127d3565b60808301525060a06122b28482850161209c565b60a08301525060c06122c68482850161209c565b60c08301525060e06122da848285016127d3565b60e0830152506101006122ef8482850161209c565b61010083015250610120612305848285016127d3565b6101208301525061014061231b8482850161209c565b61014083015250610160612331848285016127d3565b610160830152506101806123478482850161209c565b610180830152506101a061235d848285016127d3565b6101a0830152506101c0612373848285016127d3565b6101c0830152506101e06123898482850161209c565b6101e08301525061020061239f848285016120c4565b610200830152506102206123b5848285016127d3565b610220830152506102406123cb848285016127d3565b610240830152506102606123e184828501612614565b610260830152506102c06123f784828501612614565b6102808301525061032061240d84828501612614565b6102a08301525092915050565b6000610380828403121561242d57600080fd5b6124386102c0613066565b905060006124488482850161209c565b600083015250602061245c8482850161209c565b6020830152506040612470848285016127d3565b60408301525060606124848482850161209c565b6060830152506080612498848285016127d3565b60808301525060a06124ac8482850161209c565b60a08301525060c06124c08482850161209c565b60c08301525060e06124d4848285016127d3565b60e0830152506101006124e98482850161209c565b610100830152506101206124ff848285016127d3565b610120830152506101406125158482850161209c565b6101408301525061016061252b848285016127d3565b610160830152506101806125418482850161209c565b610180830152506101a0612557848285016127d3565b6101a0830152506101c061256d848285016127d3565b6101c0830152506101e06125838482850161209c565b6101e083015250610200612599848285016120c4565b610200830152506102206125af848285016127d3565b610220830152506102406125c5848285016127d3565b610240830152506102606125db84828501612614565b610260830152506102c06125f184828501612614565b6102808301525061032061260784828501612614565b6102a08301525092915050565b60006060828403121561262657600080fd5b6126306060613066565b90506000612640848285016127fb565b6000830152506020612654848285016120c4565b6020830152506040612668848285016120c4565b60408301525092915050565b60006060828403121561268657600080fd5b6126906060613066565b905060006126a0848285016127fb565b60008301525060206126b4848285016120c4565b60208301525060406126c8848285016120c4565b60408301525092915050565b60006105c082840312156126e757600080fd5b6126f160a0613066565b905060006127018482850161209c565b6000830152506020612715848285016121d4565b60208301525060c06127298482850161275f565b60408301525061018061273e8482850161275f565b60608301525061024061275384828501612220565b60808301525092915050565b600060c0828403121561277157600080fd5b61277b6080613066565b9050600061278b848285016127d3565b600083015250602061279f848285016127d3565b60208301525060406127b38482850161209c565b60408301525060606127c784828501612614565b60608301525092915050565b60006127df8235613216565b905092915050565b60006127f38251613216565b905092915050565b60006128078235613220565b905092915050565b6000806040838503121561282257600080fd5b60006128308582860161209c565b9250506020612841858286016120c4565b9150509250929050565b600080600060a0848603121561286057600080fd5b600061286e8682870161209c565b935050602061287f868287016120c4565b925050604061289086828701612674565b9150509250925092565b6000602082840312156128ac57600080fd5b60006128ba848285016120b0565b91505092915050565b6000602082840312156128d557600080fd5b60006128e3848285016120c4565b91505092915050565b6000602082840312156128fe57600080fd5b600061290c848285016120d8565b91505092915050565b60006020828403121561292757600080fd5b6000612935848285016120ec565b91505092915050565b60006020828403121561295057600080fd5b600061295e84828501612100565b91505092915050565b60006020828403121561297957600080fd5b600061298784828501612114565b91505092915050565b6000602082840312156129a257600080fd5b60006129b084828501612128565b91505092915050565b6000806103c083850312156129cd57600080fd5b60006129db85828601612188565b92505060406129ec8582860161241a565b9150509250929050565b60006103808284031215612a0957600080fd5b6000612a178482850161241a565b91505092915050565b60006105c08284031215612a3357600080fd5b6000612a41848285016126d4565b91505092915050565b6000806105e08385031215612a5e57600080fd5b6000612a6c858286016126d4565b9250506105c0612a7e858286016120c4565b9150509250929050565b600060208284031215612a9a57600080fd5b6000612aa8848285016127e7565b91505092915050565b600080600060608486031215612ac657600080fd5b6000612ad4868287016127e7565b9350506020612ae5868287016127e7565b9250506040612af6868287016127e7565b9150509250925092565b600080600080600060a08688031215612b1857600080fd5b6000612b26888289016127e7565b9550506020612b37888289016127e7565b9450506040612b48888289016127e7565b9350506060612b59888289016127e7565b9250506080612b6a888289016127e7565b9150509295509295909350565b612b808161313d565b82525050565b612b8f816130c5565b612b9882613093565b60005b82811015612bca57612bae858351612b77565b612bb7826130fc565b9150602085019450600181019050612b9b565b5050505050565b612bda816130d0565b612be38261309d565b60005b82811015612c1557612bf9858351612d0c565b612c0282613109565b9150602085019450600181019050612be6565b5050505050565b612c25816130db565b612c2e826130a7565b60005b82811015612c6057612c44858351612d0c565b612c4d82613116565b9150602085019450600181019050612c31565b5050505050565b612c70816130e6565b612c79826130b1565b60005b82811015612cab57612c8f858351612de3565b612c9882613123565b9150602085019450600181019050612c7c565b5050505050565b612cbb816130f1565b612cc4826130bb565b60005b82811015612cf657612cda858351612df2565b612ce382613130565b9150602085019450600181019050612cc7565b5050505050565b612d068161315d565b82525050565b612d1581613169565b82525050565b612d248161322d565b82525050565b606082016000820151612d406000850182612de3565b506020820151612d536020850182612de3565b506040820151612d666040850182612de3565b50505050565b60a082016000820151612d826000850182612de3565b506020820151612d956020850182612de3565b506040820151612da86040850182612de3565b506060820151612dbb6060850182612de3565b506080820151612dce6080850182612de3565b50505050565b612ddd81613173565b82525050565b612dec81613181565b82525050565b612dfb8161318b565b82525050565b6000604082019050612e166000830185612b77565b612e236020830184612b77565b9392505050565b6000606082019050612e3f6000830186612b77565b612e4c6020830185612b77565b612e596040830184612de3565b949350505050565b600061032082019050612e77600083018a612b77565b612e846020830189612b86565b612e9160e0830188612c67565b612e9f6101e0830187612bd1565b612ead610200830186612cb2565b612ebb610260830185612c1c565b612ec96102c0830184612c1c565b98975050505050505050565b6000604082019050612eea6000830185612b77565b612ef76020830184612de3565b9392505050565b600061030082019050612f146000830189612b86565b612f2160c0830188612c67565b612f2f6101c0830187612bd1565b612f3d6101e0830186612cb2565b612f4b610240830185612c1c565b612f596102a0830184612c1c565b979650505050505050565b6000602082019050612f796000830184612cfd565b92915050565b6000602082019050612f946000830184612d0c565b92915050565b6000608082019050612faf6000830187612d0c565b612fbc6020830186612df2565b612fc96040830185612d0c565b612fd66060830184612d0c565b95945050505050565b6000602082019050612ff46000830184612d1b565b92915050565b600060608201905061300f6000830184612d2a565b92915050565b600060a08201905061302a6000830184612d6c565b92915050565b60006020820190506130456000830184612dd4565b92915050565b60006020820190506130606000830184612de3565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561308957600080fd5b8060405250919050565b6000819050919050565b6000819050919050565b6000819050919050565b6000819050919050565b6000819050919050565b600060069050919050565b600060019050919050565b600060039050919050565b600060089050919050565b600060039050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b6000819050919050565b600061ffff82169050919050565b6000819050919050565b600060ff82169050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b6000819050919050565b60006131d98261313d565b9050919050565b60006131eb8261313d565b9050919050565b60006131fd8261313d565b9050919050565b600061320f8261313d565b9050919050565b6000819050919050565b600060ff82169050919050565b60006132388261313d565b90509190505600a265627a7a723058204bccc1d4e6e28081e149b6bb35c6a047cbc7c2b40b4af83b259de6dfd44f24a26c6578706572696d656e74616cf5003700000000000000000000000010512440113cb6cb613be403135876d2e0a42c0b",
  "constructorArguments": "00000000000000000000000010512440113cb6cb613be403135876d2e0a42c0b"
}