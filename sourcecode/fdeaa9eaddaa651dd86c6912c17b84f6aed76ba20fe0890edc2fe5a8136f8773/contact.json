{
  "address": "0xe8ae4367415ccaef40bd8c96331561aac7b8080d",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "HivePreSale",
  "compilerVersion": "v0.4.20+commit.3155dd80",
  "optimization": false,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-04-10\n*/\n\npragma solidity ^0.4.18;\n\n\n/**\n * @title ERC20Basic\n * @dev Simpler version of ERC20 interface\n * @dev see https://github.com/ethereum/EIPs/issues/179\n */\ncontract ERC20Basic {\n  function totalSupply() public view returns (uint256);\n  function balanceOf(address who) public view returns (uint256);\n  function transfer(address to, uint256 value) public returns (bool);\n  event Transfer(address indexed from, address indexed to, uint256 value);\n}\n\n\n\nlibrary SafeMath {\n  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n    uint256 c = a * b;\n    assert(a == 0 || c / a == b);\n    return c;\n  }\n\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\n    // assert(b > 0); // Solidity automatically throws when dividing by 0\n    uint256 c = a / b;\n    // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n    return c;\n  }\n\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n    assert(b <= a);\n    return a - b;\n  }\n\n  function add(uint256 a, uint256 b) internal pure returns (uint256) {\n    uint256 c = a + b;\n    assert(c >= a);\n    return c;\n  }\n}\n\n\n\n\n\n\n\n/**\n * @title ERC20 interface\n * @dev see https://github.com/ethereum/EIPs/issues/20\n */\ncontract ERC20 is ERC20Basic {\n  function allowance(address owner, address spender) public view returns (uint256);\n  function transferFrom(address from, address to, uint256 value) public returns (bool);\n  function approve(address spender, uint256 value) public returns (bool);\n  event Approval(address indexed owner, address indexed spender, uint256 value);\n}\n\n\ncontract Hive is ERC20 {\n\n    using SafeMath for uint;\n    string public constant name = \"UHIVE\";\n    string public constant symbol = \"HVE\";    \n    uint256 public constant decimals = 18;\n    uint256 _totalSupply = 80000000000 * (10**decimals);\n\n    mapping (address => bool) public frozenAccount;\n    event FrozenFunds(address target, bool frozen);\n\n    // Balances for each account\n    mapping(address => uint256) balances;\n\n    // Owner of account approves the transfer of an amount to another account\n    mapping(address => mapping (address => uint256)) allowed;\n\n    // Owner of this contract\n    address public owner;\n\n    // Functions with this modifier can only be executed by the owner\n    modifier onlyOwner() {\n        require(msg.sender == owner);\n        _;\n    }\n\n    function changeOwner(address _newOwner) onlyOwner public {\n        require(_newOwner != address(0));\n        owner = _newOwner;\n    }\n\n    function freezeAccount(address target, bool freeze) onlyOwner public {\n        frozenAccount[target] = freeze;\n        FrozenFunds(target, freeze);\n    }\n\n    function isFrozenAccount(address _addr) public constant returns (bool) {\n        return frozenAccount[_addr];\n    }\n\n    function destroyCoins(address addressToDestroy, uint256 amount) onlyOwner public {\n        require(addressToDestroy != address(0));\n        require(amount > 0);\n        require(amount <= balances[addressToDestroy]);\n        balances[addressToDestroy] -= amount;    \n        _totalSupply -= amount;\n    }\n\n    // Constructor\n    function Hive() public {\n        owner = msg.sender;\n        balances[owner] = _totalSupply;\n    }\n\n    function totalSupply() public constant returns (uint256 supply) {\n        supply = _totalSupply;\n    }\n\n    // What is the balance of a particular account?\n    function balanceOf(address _owner) public constant returns (uint256 balance) {\n        return balances[_owner];\n    }\n    \n    // Transfer the balance from owner's account to another account\n    function transfer(address _to, uint256 _value) public returns (bool success) {        \n        if (_to != address(0) && isFrozenAccount(msg.sender) == false && balances[msg.sender] >= _value && _value > 0 && balances[_to].add(_value) > balances[_to]) {\n            balances[msg.sender] = balances[msg.sender].sub(_value);\n            balances[_to] = balances[_to].add(_value);\n            Transfer(msg.sender, _to, _value);\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    // Send _value amount of tokens from address _from to address _to\n    // The transferFrom method is used for a withdraw workflow, allowing contracts to send\n    // tokens on your behalf, for example to \"deposit\" to a contract address and/or to charge\n    // fees in sub-currencies; the command should fail unless the _from account has\n    // deliberately authorized the sender of the message via some mechanism; we propose\n    // these standardized APIs for approval:\n    function transferFrom(address _from,address _to, uint256 _value) public returns (bool success) {\n        if (_to != address(0) && isFrozenAccount(_from) == false && balances[_from] >= _value && allowed[_from][msg.sender] >= _value && _value > 0 && balances[_to].add(_value) > balances[_to]) {\n            balances[_from] = balances[_from].sub(_value);\n            allowed[_from][msg.sender] = allowed[_from][msg.sender].sub(_value);\n            balances[_to] = balances[_to].add(_value);\n            Transfer(_from, _to, _value);\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    // Allow _spender to withdraw from your account, multiple times, up to the _value amount.\n    // If this function is called again it overwrites the current allowance with _value.\n    function approve(address _spender, uint256 _value) public returns (bool success) {\n        allowed[msg.sender][_spender] = _value;\n        Approval(msg.sender, _spender, _value);\n        return true;\n    }\n    \n    function allowance(address _owner, address _spender) public constant returns (uint256 remaining) {\n        return allowed[_owner][_spender];\n    }\n    \n}\n\ncontract HivePreSale {\n\n    using SafeMath for uint256;\n    // The token being sold\n    Hive public token;\n\n    // Address where funds are collected\n    address public vaultWallet;\n\n    // How many token units a buyer gets per wei\n    uint256 public hivePerEther;\n\n    // How much hive cost per USD\n    uint256 public hivePerUSD;\n\n    // Owner of this contract\n    address public owner;\n\n    //Flag paused sale\n    bool public paused;\n\n    uint256 public openingTime;\n    uint256 public closingTime;\n\n    uint256 public minimumWei;\n\n    /**\n    * @dev Reverts if not in crowdsale time range. \n    */\n    modifier onlyWhileOpen {\n        require(now >= openingTime && now <= closingTime && paused == false);\n        _;\n    }\n\n    // Functions with this modifier can only be executed by the owner\n    modifier onlyOwner() {\n        require(msg.sender == owner);\n        _;\n    }\n\n    function HivePreSale(uint256 _hivePerEther, address _vaultWallet, Hive _token, uint256 _openingTime, uint256 _closingTime) public {\n        hivePerEther = _hivePerEther;\n        vaultWallet = _vaultWallet;\n        token = _token;\n        owner = msg.sender;\n        openingTime = _openingTime;\n        closingTime = _closingTime;\n        paused = false;\n        hivePerUSD = 667; //each hive is 0.0015$\n        minimumWei = 100000000000000000; //0.1 Ether\n    }\n\n    function () external payable {\n        buyTokens(msg.sender);\n    }\n    \n    /**\n    * Event for token purchase logging\n    * @param purchaser who paid for the tokens\n    * @param beneficiary who got the tokens\n    * @param value weis paid for purchase\n    * @param amount amount of tokens purchased\n    */\n    event TokenPurchase(address indexed purchaser, address indexed beneficiary, uint256 value, uint256 amount);\n\n    /**\n    * @dev Checks whether the period in which the crowdsale is open has already elapsed.\n    * @return Whether crowdsale period has elapsed\n    */\n    function hasClosed() public view returns (bool) {\n        return now > closingTime;\n    }\n\n\n    /**\n    * @dev low level token purchase ***DO NOT OVERRIDE***\n    * @param _beneficiary Address performing the token purchase\n    */\n    function buyTokens(address _beneficiary) public payable onlyWhileOpen {\n\n        uint256 weiAmount = msg.value;\n        _preValidatePurchase(_beneficiary, weiAmount);\n\n        // calculate token amount to be created\n        uint256 tokens = _getTokenAmount(weiAmount);\n        _verifyAvailability(tokens);\n\n        _processPurchase(_beneficiary, tokens);\n        TokenPurchase(msg.sender, _beneficiary, weiAmount, tokens);\n        _forwardFunds();\n    }\n\n    function changeRate(uint256 _newRate) onlyOwner public {\n        require(_newRate > 0);\n        hivePerEther = _newRate;\n    }\n\n    function changeMinimumWei(uint256 _newMinimumWei) onlyOwner public {        \n        minimumWei = _newMinimumWei;\n    }\n\n    function extendSale(uint256 _newClosingTime) onlyOwner public {\n        require(_newClosingTime > closingTime);\n        closingTime = _newClosingTime;\n    }\n\n    function haltSale() onlyOwner public {\n        paused = true;\n    }\n\n    function resumeSale() onlyOwner public {\n        paused = false;\n    }\n\n    //Called from outside to auto handle BTC and FIAT purchases\n    function forwardTokens(address _beneficiary, uint256 totalTokens) onlyOwner onlyWhileOpen public {        \n        _preValidateTokenTransfer(_beneficiary, totalTokens);\n        _deliverTokens(_beneficiary, totalTokens);\n    }\n\n    function changeOwner(address _newOwner) onlyOwner public {\n        require(_newOwner != address(0));\n        owner = _newOwner;\n    }\n\n    function changeVaultWallet(address _newVaultWallet) onlyOwner public {\n        require(_newVaultWallet != address(0));\n        vaultWallet = _newVaultWallet;\n    }\n\n    //Called after the sale ends to withdraw remaining unsold tokens\n    function withdrawUnsoldTokens() onlyOwner public {    \n        uint256 unsold = token.balanceOf(this);\n        token.transfer(owner, unsold);\n    }\n\n    function terminate() public onlyOwner {\n        selfdestruct(owner);\n    }\n\n    // -----------------------------------------\n    // Internal interface (extensible)\n    // -----------------------------------------\n\n    /**\n    * @dev Validation of an incoming purchase.\n    * @param _beneficiary Address performing the token purchase\n    * @param _weiAmount Value in wei involved in the purchase\n    */\n    function _preValidatePurchase(address _beneficiary, uint256 _weiAmount) internal view {\n        require(hasClosed() == false);\n        require(paused == false);\n        require(_beneficiary != address(0));\n        require(_weiAmount >= minimumWei);\n    }\n\n    /**\n    * @dev Validation of a token transfer, used with BTC purchase.\n    * @param _beneficiary Address performing the token purchase\n    * @param _tokenAmount Number to tokens to transfer\n    */\n    function _preValidateTokenTransfer(address _beneficiary, uint256 _tokenAmount) internal view {\n        require(hasClosed() == false);\n        require(paused == false);\n        require(_beneficiary != address(0));\n        require(_tokenAmount > 0);\n    }\n\n    /**\n    * @dev Source of tokens. Override this method to modify the way in which the crowdsale ultimately gets and sends its tokens.\n    * @param _beneficiary Address performing the token purchase\n    * @param _tokenAmount Number of tokens to be emitted\n    */\n    function _deliverTokens(address _beneficiary, uint256 _tokenAmount) private {\n        token.transfer(_beneficiary, _tokenAmount);\n    }\n\n    /**\n    * @dev Executed when a purchase has been validated and is ready to be executed. Not necessarily emits/sends tokens.\n    * @param _beneficiary Address receiving the tokens\n    * @param _tokenAmount Number of tokens to be purchased\n    */\n    function _processPurchase(address _beneficiary, uint256 _tokenAmount) private {\n        _deliverTokens(_beneficiary, _tokenAmount);\n    }\n  \n\n    /**\n    * @dev Override to extend the way in which ether is converted to tokens.\n    * @param _weiAmount Value in wei to be converted into tokens\n    * @return Number of tokens that can be purchased with the specified _weiAmount\n    */\n    function _getTokenAmount(uint256 _weiAmount) private view returns (uint256) {\n        return _weiAmount.mul(hivePerEther);\n    }\n\n    /**\n    * @dev Determines how ETH is stored/forwarded on purchases.\n    */\n    function _forwardFunds() private {\n        vaultWallet.transfer(msg.value);\n    }\n\n    function _verifyAvailability(uint256 _requestedAmount) private view {\n        uint256 remaining = token.balanceOf(this);\n        require(remaining >= _requestedAmount);\n    }\n}",
  "bytecode": "6060604052341561000f57600080fd5b60405160a080611367833981016040528080519060200190919080519060200190919080519060200190919080519060200190919080519060200190919050508460028190555083600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550826000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600581905550806006819055506000600460146101000a81548160ff02191690831515021790555061029b60038190555067016345785d8a000060078190555050505050506111fa8061016d6000396000f30060606040526004361061011d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630c08bf88146101285780631515bc2b1461013d5780631f1886e41461016a57806333e364cb1461018d57806345e0e412146101a25780634b6753bc146101e45780635c975abb1461020d5780635fbaa3901461023a57806361f1c5ba1461024f57806374e7493b146102a45780637c6db9b5146102c75780638da5cb5b146102ea578063a6f9dae11461033f578063b7a8807c14610378578063c6567835146103a1578063c8bdbfb6146103da578063d22b32e9146103ef578063e0e267e514610418578063ec8ac4d814610441578063f8742a141461046f578063fc0c546a14610498575b610126336104ed565b005b341561013357600080fd5b61013b6105d3565b005b341561014857600080fd5b61015061066a565b604051808215151515815260200191505060405180910390f35b341561017557600080fd5b61018b6004808035906020019091905050610676565b005b341561019857600080fd5b6101a06106ec565b005b34156101ad57600080fd5b6101e2600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610765565b005b34156101ef57600080fd5b6101f7610817565b6040518082815260200191505060405180910390f35b341561021857600080fd5b61022061081d565b604051808215151515815260200191505060405180910390f35b341561024557600080fd5b61024d610830565b005b341561025a57600080fd5b6102626108a9565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156102af57600080fd5b6102c560048080359060200190919050506108cf565b005b34156102d257600080fd5b6102e86004808035906020019091905050610944565b005b34156102f557600080fd5b6102fd6109aa565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561034a57600080fd5b610376600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506109d0565b005b341561038357600080fd5b61038b610aac565b6040518082815260200191505060405180910390f35b34156103ac57600080fd5b6103d8600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610ab2565b005b34156103e557600080fd5b6103ed610b8e565b005b34156103fa57600080fd5b610402610dda565b6040518082815260200191505060405180910390f35b341561042357600080fd5b61042b610de0565b6040518082815260200191505060405180910390f35b61046d600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506104ed565b005b341561047a57600080fd5b610482610de6565b6040518082815260200191505060405180910390f35b34156104a357600080fd5b6104ab610dec565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b600080600554421015801561050457506006544211155b8015610523575060001515600460149054906101000a900460ff161515145b151561052e57600080fd5b34915061053b8383610e11565b61054482610e9e565b905061054f81610ebc565b6105598382610fb2565b8273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f623b3804fa71d67900d064613da8f94b9617215ee90799290593e1745087ad188484604051808381526020018281526020019250505060405180910390a36105ce610fc0565b505050565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561062f57600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b60006006544211905090565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156106d257600080fd5b600654811115156106e257600080fd5b8060068190555050565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561074857600080fd5b6000600460146101000a81548160ff021916908315150217905550565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156107c157600080fd5b60055442101580156107d557506006544211155b80156107f4575060001515600460149054906101000a900460ff161515145b15156107ff57600080fd5b6108098282611024565b61081382826110af565b5050565b60065481565b600460149054906101000a900460ff1681565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561088c57600080fd5b6001600460146101000a81548160ff021916908315150217905550565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561092b57600080fd5b60008111151561093a57600080fd5b8060028190555050565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156109a057600080fd5b8060078190555050565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610a2c57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610a6857600080fd5b80600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60055481565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610b0e57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610b4a57600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610bec57600080fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231306000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1515610cb057600080fd5b6102c65a03f11515610cc157600080fd5b5050506040518051905090506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16836000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b1515610dbb57600080fd5b6102c65a03f11515610dcc57600080fd5b505050604051805190505050565b60025481565b60075481565b60035481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60001515610e1d61066a565b1515141515610e2b57600080fd5b60001515600460149054906101000a900460ff161515141515610e4d57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614151515610e8957600080fd5b6007548110151515610e9a57600080fd5b5050565b6000610eb56002548361119b90919063ffffffff16565b9050919050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231306000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1515610f8257600080fd5b6102c65a03f11515610f9357600080fd5b505050604051805190509050818110151515610fae57600080fd5b5050565b610fbc82826110af565b5050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc349081150290604051600060405180830381858888f19350505050151561102257600080fd5b565b6000151561103061066a565b151514151561103e57600080fd5b60001515600460149054906101000a900460ff16151514151561106057600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561109c57600080fd5b6000811115156110ab57600080fd5b5050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb83836000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b151561117b57600080fd5b6102c65a03f1151561118c57600080fd5b50505060405180519050505050565b600080828402905060008414806111bc57508284828115156111b957fe5b04145b15156111c457fe5b80915050929150505600a165627a7a7230582067f2f1341ddeccc56dfeb691be2f08f35e5c7df62a1ac3d890d270837c6d4062002900000000000000000000000000000000000000000000000000000000000411ab00000000000000000000000084567a1402c103d6310656ea67abd083224cf7e2000000000000000000000000bae94d28610c8cfd2168f7b97bc7cb0589803c6b000000000000000000000000000000000000000000000000000000005acdc080000000000000000000000000000000000000000000000000000000005ae7134f",
  "constructorArguments": "00000000000000000000000000000000000000000000000000000000000411ab00000000000000000000000084567a1402c103d6310656ea67abd083224cf7e2000000000000000000000000bae94d28610c8cfd2168f7b97bc7cb0589803c6b000000000000000000000000000000000000000000000000000000005acdc080000000000000000000000000000000000000000000000000000000005ae7134f"
}