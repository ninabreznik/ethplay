{
  "address": "0xb2125aef2ebf331103e837fe6ccdd59b703ca304",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "SundayLottery",
  "compilerVersion": "v0.5.7+commit.6da8b019",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-04-10\n*/\n\npragma solidity >0.4.99 <0.6.0;\n\nlibrary Zero {\n    function requireNotZero(address addr) internal pure {\n        require(addr != address(0), \"require not zero address\");\n    }\n\n    function requireNotZero(uint val) internal pure {\n        require(val != 0, \"require not zero value\");\n    }\n\n    function notZero(address addr) internal pure returns(bool) {\n        return !(addr == address(0));\n    }\n\n    function isZero(address addr) internal pure returns(bool) {\n        return addr == address(0);\n    }\n\n    function isZero(uint a) internal pure returns(bool) {\n        return a == 0;\n    }\n\n    function notZero(uint a) internal pure returns(bool) {\n        return a != 0;\n    }\n}\n\nlibrary Address {\n    function toAddress(bytes memory source) internal pure returns(address addr) {\n        assembly { addr := mload(add(source,0x14)) }\n        return addr;\n    }\n\n    function isNotContract(address addr) internal view returns(bool) {\n        uint length;\n        assembly { length := extcodesize(addr) }\n        return length == 0;\n    }\n}\n\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that revert on error\n */\nlibrary SafeMath {\n\n    /**\n    * @dev Multiplies two numbers, reverts on overflow.\n    */\n    function mul(uint256 _a, uint256 _b) internal pure returns (uint256) {\n        if (_a == 0) {\n            return 0;\n        }\n\n        uint256 c = _a * _b;\n        require(c / _a == _b);\n\n        return c;\n    }\n\n    /**\n    * @dev Integer division of two numbers truncating the quotient, reverts on division by zero.\n    */\n    function div(uint256 _a, uint256 _b) internal pure returns (uint256) {\n        require(_b > 0); // Solidity only automatically asserts when dividing by 0\n        uint256 c = _a / _b;\n        // assert(_a == _b * c + _a % _b); // There is no case in which this doesn't hold\n\n        return c;\n    }\n\n    /**\n    * @dev Subtracts two numbers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n    */\n    function sub(uint256 _a, uint256 _b) internal pure returns (uint256) {\n        require(_b <= _a);\n        uint256 c = _a - _b;\n\n        return c;\n    }\n\n    /**\n    * @dev Adds two numbers, reverts on overflow.\n    */\n    function add(uint256 _a, uint256 _b) internal pure returns (uint256) {\n        uint256 c = _a + _b;\n        require(c >= _a);\n\n        return c;\n    }\n\n}\n\ncontract Accessibility {\n    address private owner;\n    event OwnerChanged(address indexed previousOwner, address indexed newOwner);\n\n    modifier onlyOwner() {\n        require(msg.sender == owner, \"access denied\");\n        _;\n    }\n\n    constructor() public {\n        owner = msg.sender;\n    }\n\n    function changeOwner(address _newOwner) onlyOwner public {\n        require(_newOwner != address(0));\n        emit OwnerChanged(owner, _newOwner);\n        owner = _newOwner;\n    }\n}\n\n\ncontract TicketsStorage is Accessibility  {\n    using SafeMath for uint;\n\n    struct Ticket {\n        address payable wallet;\n        bool isWinner;\n        uint numberTicket;\n    }\n\n    uint private entropyNumber = 121;\n\n    mapping (uint => uint) private countTickets;\n    // currentRound -> number ticket\n\n    mapping (uint => mapping (uint => Ticket)) private tickets;\n    // currentRound -> number ticket -> Ticket\n\n    mapping (uint => mapping (address => uint)) private balancePlayer;\n    // currentRound -> wallet -> balance player\n\n    mapping (address => mapping (uint => uint)) private balanceWinner;\n    // wallet -> balance winner\n\n    event LogHappyTicket(uint roundLottery, uint happyTicket);\n\n    function checkWinner(uint round, uint numberTicket) public view returns (bool) {\n        return tickets[round][numberTicket].isWinner;\n    }\n\n    function getBalancePlayer(uint round, address wallet) public view returns (uint) {\n        return balancePlayer[round][wallet];\n    }\n\n    function ticketInfo(uint round, uint index) public view returns(address payable wallet, bool isWinner, uint numberTicket) {\n        Ticket memory ticket = tickets[round][index];\n        wallet = ticket.wallet;\n        isWinner = ticket.isWinner;\n        numberTicket = ticket.numberTicket;\n    }\n\n    function newTicket(uint round, address payable wallet, uint priceOfToken) public onlyOwner {\n        countTickets[round]++;\n        Ticket storage ticket = tickets[round][countTickets[round]];\n        ticket.wallet = wallet;\n        ticket.numberTicket = countTickets[round];\n        balancePlayer[round][wallet] = balancePlayer[round][wallet].add(priceOfToken);\n    }\n\n    function clearRound(uint round) public {\n        countTickets[round] = 0;\n        if (entropyNumber == 330) {\n            entropyNumber = 121;\n        }\n    }\n\n    function getCountTickets(uint round) public view returns (uint) {\n        return countTickets[round];\n    }\n\n    function addBalanceWinner(uint round, uint amountPrize, uint happyNumber) public onlyOwner {\n        address walletTicket = tickets[round][happyNumber].wallet;\n        balanceWinner[walletTicket][round] = balanceWinner[walletTicket][round].add(amountPrize);\n        tickets[round][happyNumber].isWinner = true;\n    }\n\n    function getBalanceWinner(address wallet, uint round) public view returns (uint) {\n        return balanceWinner[wallet][round];\n    }\n\n    function findHappyNumber(uint round, uint typeStep) public onlyOwner returns(uint) {\n        require(countTickets[round] > 0, \"number of tickets must be greater than 0\");\n        uint happyNumber = 0;\n        if (typeStep == 3) {\n            happyNumber = getRandomNumber(11);\n        } else if (typeStep == 1) {\n            happyNumber = getRandomNumber(3);\n        } else if (typeStep == 2) {\n            happyNumber = getRandomNumber(6);\n        } else {\n            happyNumber = getRandomNumber(2);\n        }\n        emit LogHappyTicket(round, happyNumber);\n        return happyNumber;\n    }\n\n    function getRandomNumber(uint step) internal returns(uint) {\n        entropyNumber = entropyNumber.add(1);\n        uint randomFirst = maxRandom(block.number, msg.sender).div(now);\n        uint randomNumber = randomFirst.mul(entropyNumber) % (66);\n        randomNumber = randomNumber % step;\n        return randomNumber + 1;\n    }\n\n    function maxRandom(uint blockn, address entropyAddress) internal view returns (uint randomNumber) {\n        return uint(keccak256(\n                abi.encodePacked(\n                    blockhash(blockn),\n                    entropyAddress)\n            ));\n    }\n\n}\n\ncontract SundayLottery is Accessibility {\n    using SafeMath for uint;\n\n    using Address for *;\n    using Zero for *;\n\n    TicketsStorage private m_tickets;\n    mapping (address => bool) private notUnigue;\n\n    enum StepLottery {TWO, THREE, SIX, ELEVEN}\n    StepLottery stepLottery;\n    uint[] private step = [2, 3, 6, 11];\n    uint[] private priceTicket = [0.05 ether, 0.02 ether, 0.01 ether, 0.01 ether];\n    uint[] private prizePool = [0.09 ether, 0.05 ether, 0.05 ether, 0.1 ether];\n\n    address payable public administrationWallet;\n\n    uint private canBuyTickets = 0;\n\n    uint public priceOfToken = 0.01 ether;\n\n    uint private amountPrize;\n\n    uint public currentRound;\n    uint public totalEthRaised;\n    uint public totalTicketBuyed;\n\n    uint public uniquePlayer;\n\n    // more events for easy read from blockchain\n    event LogNewTicket(address indexed addr, uint when, uint round, uint price);\n    event LogBalanceChanged(uint when, uint balance);\n    event LogChangeTime(uint newDate, uint oldDate);\n    event LogRefundEth(address indexed player, uint value);\n    event LogWinnerDefine(uint roundLottery, address indexed wallet, uint happyNumber);\n    event ChangeAddressWallet(address indexed owner, address indexed newAddress, address indexed oldAddress);\n    event SendToAdministrationWallet(uint balanceContract);\n\n    modifier balanceChanged {\n        _;\n        emit LogBalanceChanged(getCurrentDate(), address(this).balance);\n    }\n\n    modifier notFromContract() {\n        require(msg.sender.isNotContract(), \"only externally accounts\");\n        _;\n    }\n\n    constructor(address payable _administrationWallet, uint _step) public {\n        require(_administrationWallet != address(0));\n        administrationWallet = _administrationWallet;\n        //administrationWallet = msg.sender; // for test's\n        m_tickets = new TicketsStorage();\n        currentRound = 1;\n        m_tickets.clearRound(currentRound);\n        setStepLottery(_step);\n    }\n\n    function() external payable {\n        if (msg.value >= priceOfToken) {\n            buyTicket(msg.sender);\n        } else {\n            refundEth(msg.sender, msg.value);\n        }\n    }\n\n    function buyTicket(address payable _addressPlayer) public payable notFromContract balanceChanged returns (uint buyTickets) {\n        uint investment = msg.value;\n        require(investment >= priceOfToken, \"investment must be >= PRICE OF TOKEN\");\n\n        uint tickets = investment.div(priceOfToken);\n        if (tickets > canBuyTickets) {\n            tickets = canBuyTickets;\n            canBuyTickets = 0;\n        } else {\n            canBuyTickets = canBuyTickets.sub(tickets);\n        }\n\n        uint requireEth = tickets.mul(priceOfToken);\n        if (investment > requireEth) {\n            refundEth(msg.sender, investment.sub(requireEth));\n        }\n\n        buyTickets = tickets;\n        if (tickets > 0) {\n            uint currentDate = now;\n            while (tickets != 0) {\n                m_tickets.newTicket(currentRound, _addressPlayer, priceOfToken);\n                emit LogNewTicket(_addressPlayer, currentDate, currentRound, priceOfToken);\n                totalTicketBuyed++;\n                tickets--;\n            }\n        }\n\n        if (!notUnigue[_addressPlayer]) {\n            notUnigue[_addressPlayer] = true;\n            uniquePlayer++;\n        }\n        totalEthRaised = totalEthRaised.add(requireEth);\n\n        if (canBuyTickets.isZero()) {\n            makeTwists();\n        }\n    }\n\n    function makeTwists() internal notFromContract {\n        play(currentRound);\n        sendToAdministration();\n        canBuyTickets = step[getStepLottery()];\n        currentRound++;\n        m_tickets.clearRound(currentRound);\n    }\n\n    function play(uint round) internal {\n        if (address(this).balance >= amountPrize) {\n            uint happyNumber = m_tickets.findHappyNumber(round, getStepLottery());\n            m_tickets.addBalanceWinner(currentRound, amountPrize, happyNumber);\n            (address payable wallet,,) =  m_tickets.ticketInfo(round, happyNumber);\n            wallet.transfer(amountPrize);\n            emit LogWinnerDefine(round, wallet, happyNumber);\n        }\n    }\n\n    function setStepLottery(uint newStep) public onlyOwner {\n        require(uint(StepLottery.ELEVEN) >= newStep);\n        require(getCountTickets(currentRound) == 0);\n        stepLottery = StepLottery(newStep);\n        initCanBuyTicket();\n    }\n\n    function getStepLottery() public view returns (uint currentStep) {\n        currentStep = uint(stepLottery);\n    }\n\n    function initCanBuyTicket() internal {\n        uint currentStepLottery = getStepLottery();\n        canBuyTickets = step[currentStepLottery];\n        priceOfToken = priceTicket[currentStepLottery];\n        amountPrize = prizePool[currentStepLottery];\n    }\n\n    function getTicketInfo(uint round, uint index) public view returns (address payable wallet, bool isWinner, uint numberTicket) {\n        (wallet, isWinner, numberTicket) =  m_tickets.ticketInfo(round, index);\n    }\n\n    function balanceETH() external view returns(uint) {\n        return address(this).balance;\n    }\n\n    function refundEth(address payable _player, uint _value) internal returns (bool) {\n        require(_player.notZero());\n        _player.transfer(_value);\n        emit LogRefundEth(_player, _value);\n    }\n\n    function getBalancePlayer(uint round, address wallet) external view returns (uint) {\n        return m_tickets.getBalancePlayer(round, wallet);\n    }\n\n    function getBalanceWinner(address wallet, uint round) external view returns (uint) {\n        return m_tickets.getBalanceWinner(wallet, round);\n    }\n\n    function checkWinner(uint round, uint numberTicket) public view returns (bool) {\n        return m_tickets.checkWinner(round, numberTicket);\n    }\n\n    function getCurrentDate() public view returns (uint) {\n        return now;\n    }\n\n    function getCountTickets(uint round) public view returns (uint countTickets) {\n        countTickets = m_tickets.getCountTickets(round);\n    }\n\n    function setAdministrationWallet(address payable _newWallet) external onlyOwner {\n        require(_newWallet != address(0));\n        address payable _oldWallet = administrationWallet;\n        administrationWallet = _newWallet;\n        emit ChangeAddressWallet(msg.sender, _newWallet, _oldWallet);\n    }\n\n    function sendToAdministration() internal {\n        require(administrationWallet != address(0), \"address of wallet is 0x0\");\n        uint amount = address(this).balance;\n\n        if (amount > 0) {\n            if (administrationWallet.send(amount)) {\n                emit SendToAdministrationWallet(amount);\n            }\n        }\n    }\n\n}",
  "abi": "[{\"constant\":true,\"inputs\":[{\"name\":\"wallet\",\"type\":\"address\"},{\"name\":\"round\",\"type\":\"uint256\"}],\"name\":\"getBalanceWinner\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newStep\",\"type\":\"uint256\"}],\"name\":\"setStepLottery\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"round\",\"type\":\"uint256\"}],\"name\":\"getCountTickets\",\"outputs\":[{\"name\":\"countTickets\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"priceOfToken\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"round\",\"type\":\"uint256\"},{\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getTicketInfo\",\"outputs\":[{\"name\":\"wallet\",\"type\":\"address\"},{\"name\":\"isWinner\",\"type\":\"bool\"},{\"name\":\"numberTicket\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getStepLottery\",\"outputs\":[{\"name\":\"currentStep\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"uniquePlayer\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"currentRound\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"round\",\"type\":\"uint256\"},{\"name\":\"numberTicket\",\"type\":\"uint256\"}],\"name\":\"checkWinner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getCurrentDate\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalTicketBuyed\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_addressPlayer\",\"type\":\"address\"}],\"name\":\"buyTicket\",\"outputs\":[{\"name\":\"buyTickets\",\"type\":\"uint256\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"changeOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newWallet\",\"type\":\"address\"}],\"name\":\"setAdministrationWallet\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalEthRaised\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"administrationWallet\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"balanceETH\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"round\",\"type\":\"uint256\"},{\"name\":\"wallet\",\"type\":\"address\"}],\"name\":\"getBalancePlayer\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_administrationWallet\",\"type\":\"address\"},{\"name\":\"_step\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"addr\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"when\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"round\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"LogNewTicket\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"when\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"balance\",\"type\":\"uint256\"}],\"name\":\"LogBalanceChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"newDate\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"oldDate\",\"type\":\"uint256\"}],\"name\":\"LogChangeTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"player\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"LogRefundEth\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"roundLottery\",\"type\":\"uint256\"},{\"indexed\":true,\"name\":\"wallet\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"happyNumber\",\"type\":\"uint256\"}],\"name\":\"LogWinnerDefine\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newAddress\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"oldAddress\",\"type\":\"address\"}],\"name\":\"ChangeAddressWallet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"balanceContract\",\"type\":\"uint256\"}],\"name\":\"SendToAdministrationWallet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnerChanged\",\"type\":\"event\"}]",
  "bytecode": "61010060405260026080908152600360a052600660c052600b60e0526200002a90600490816200042b565b506040805160808101825266b1a2bc2ec50000815266470de4df8200006020820152662386f26fc1000091810182905260608101919091526200007290600590600462000480565b506040805160808101825267013fbe85edc90000815266b1a2bc2ec50000602082018190529181019190915267016345785d8a00006060820152620000bc906006906004620004c9565b506000600855662386f26fc10000600955348015620000da57600080fd5b5060405160408062001ff383398101806040526040811015620000fc57600080fd5b508051602090910151600080546001600160a01b031916331790556001600160a01b0382166200012b57600080fd5b600780546001600160a01b0319166001600160a01b038416179055604051620001549062000512565b604051809103906000f08015801562000171573d6000803e3d6000fd5b50600180546001600160a01b0319166001600160a01b0392831617808255600b829055604080517f81a15af40000000000000000000000000000000000000000000000000000000081526004810193909352519216916381a15af49160248082019260009290919082900301818387803b158015620001ef57600080fd5b505af115801562000204573d6000803e3d6000fd5b5050505062000219816200022160201b60201c565b505062000540565b6000546001600160a01b031633146200029b57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600d60248201527f6163636573732064656e69656400000000000000000000000000000000000000604482015290519081900360640190fd5b8060031015620002aa57600080fd5b620002bd600b546200030360201b60201c565b15620002c857600080fd5b806003811115620002d557fe5b6003805460ff191660018383811115620002eb57fe5b0217905550620003006200039d60201b60201c565b50565b600154604080517f166bd2310000000000000000000000000000000000000000000000000000000081526004810184905290516000926001600160a01b03169163166bd231916024808301926020929190829003018186803b1580156200036957600080fd5b505afa1580156200037e573d6000803e3d6000fd5b505050506040513d60208110156200039557600080fd5b505192915050565b6000620003af6200040f60201b60201c565b905060048181548110620003bf57fe5b906000526020600020015460088190555060058181548110620003de57fe5b906000526020600020015460098190555060068181548110620003fd57fe5b600091825260209091200154600a5550565b6003805460009160ff909116908111156200042657fe5b905090565b8280548282559060005260206000209081019282156200046e579160200282015b828111156200046e578251829060ff169055916020019190600101906200044c565b506200047c92915062000520565b5090565b8280548282559060005260206000209081019282156200046e579160200282015b828111156200046e578251829066ffffffffffffff16905591602001919060010190620004a1565b8280548282559060005260206000209081019282156200046e579160200282015b828111156200046e57825182906001600160401b0316905591602001919060010190620004ea565b61090d80620016e683390190565b6200053d91905b808211156200047c576000815560010162000527565b90565b61119680620005506000396000f3fe6080604052600436106101095760003560e01c80639254d77211610095578063c23596b411610064578063c23596b414610341578063c9e904be14610374578063cc33a77214610389578063ecbdbb32146103ba578063fd81717c146103cf57610109565b80639254d772146102be578063a3759f06146102d3578063a5f8cdbb146102e8578063a6f9dae11461030e57610109565b80636b0d0329116100dc5780636b0d0329146101e35780638245f6af1461023b578063860c2ee3146102505780638a19c8bc1461026557806391e85aff1461027a57610109565b80630224e3dd1461012f578063116d3fb21461017a578063166bd231146101a45780631b9cbdfb146101ce575b60095434106101215761011b33610408565b5061012d565b61012b33346106f6565b505b005b34801561013b57600080fd5b506101686004803603604081101561015257600080fd5b506001600160a01b03813516906020013561078f565b60408051918252519081900360200190f35b34801561018657600080fd5b5061012d6004803603602081101561019d57600080fd5b503561081f565b3480156101b057600080fd5b50610168600480360360208110156101c757600080fd5b50356108c8565b3480156101da57600080fd5b50610168610949565b3480156101ef57600080fd5b506102136004803603604081101561020657600080fd5b508035906020013561094f565b604080516001600160a01b039094168452911515602084015282820152519081900360600190f35b34801561024757600080fd5b506101686109f1565b34801561025c57600080fd5b50610168610a0c565b34801561027157600080fd5b50610168610a12565b34801561028657600080fd5b506102aa6004803603604081101561029d57600080fd5b5080359060200135610a18565b604080519115158252519081900360200190f35b3480156102ca57600080fd5b50610168610a6e565b3480156102df57600080fd5b50610168610a72565b610168600480360360208110156102fe57600080fd5b50356001600160a01b0316610408565b34801561031a57600080fd5b5061012d6004803603602081101561033157600080fd5b50356001600160a01b0316610a78565b34801561034d57600080fd5b5061012d6004803603602081101561036457600080fd5b50356001600160a01b0316610b3b565b34801561038057600080fd5b50610168610bf6565b34801561039557600080fd5b5061039e610bfc565b604080516001600160a01b039092168252519081900360200190f35b3480156103c657600080fd5b50610168610c0b565b3480156103db57600080fd5b50610168600480360360408110156103f257600080fd5b50803590602001356001600160a01b0316610c10565b600061041333610c6b565b6104675760408051600160e51b62461bcd02815260206004820152601860248201527f6f6e6c792065787465726e616c6c79206163636f756e74730000000000000000604482015290519081900360640190fd5b60095434908110156104ad57604051600160e51b62461bcd0281526004018080602001828103825260248152602001806111476024913960400191505060405180910390fd5b60006104c460095483610c7090919063ffffffff16565b90506008548111156104df57506008805460009091556104f6565b6008546104f2908263ffffffff610c9216565b6008555b600061050d60095483610ca790919063ffffffff16565b905080831115610532576105303361052b858463ffffffff610c9216565b6106f6565b505b819350600082111561062f57425b821561062d57600154600b5460095460408051600160e01b63479ae77902815260048101939093526001600160a01b038a8116602485015260448401929092525192169163479ae7799160648082019260009290919082900301818387803b1580156105ab57600080fd5b505af11580156105bf573d6000803e3d6000fd5b50505050856001600160a01b03167f9d56b4ac77aa076e5e689243e55ffae76459e659cfad5dd1588248b4c534229582600b5460095460405180848152602001838152602001828152602001935050505060405180910390a2600d8054600101905560001990920191610540565b505b6001600160a01b03851660009081526002602052604090205460ff1661067f576001600160a01b0385166000908152600260205260409020805460ff19166001908117909155600e805490910190555b600c54610692908263ffffffff610cd516565b600c556008546106a190610ce7565b156106ae576106ae610ceb565b5050507f32367fddaa1baa1c6a0fc5c3e8284df724bacc7b50e847c32c9f9765f9f961376106da610a6e565b60408051918252303160208301528051918290030190a1919050565b600061070a836001600160a01b0316610ded565b61071357600080fd5b6040516001600160a01b0384169083156108fc029084906000818181858888f19350505050158015610749573d6000803e3d6000fd5b506040805183815290516001600160a01b038516917f56c1e6ca6eaf3c363cc21453d447980d7ed65dc65a451314658daad5557e4b4c919081900360200190a292915050565b60015460408051600160e01b630224e3dd0281526001600160a01b0385811660048301526024820185905291516000939290921691630224e3dd91604480820192602092909190829003018186803b1580156107ea57600080fd5b505afa1580156107fe573d6000803e3d6000fd5b505050506040513d602081101561081457600080fd5b505190505b92915050565b6000546001600160a01b031633146108745760408051600160e51b62461bcd02815260206004820152600d60248201526001609a1b6c1858d8d95cdcc819195b9a595902604482015290519081900360640190fd5b806003101561088257600080fd5b61088d600b546108c8565b1561089757600080fd5b8060038111156108a357fe5b6003805460ff1916600183838111156108b857fe5b02179055506108c5610dfb565b50565b60015460408051600160e01b63166bd2310281526004810184905290516000926001600160a01b03169163166bd231916024808301926020929190829003018186803b15801561091757600080fd5b505afa15801561092b573d6000803e3d6000fd5b505050506040513d602081101561094157600080fd5b505192915050565b60095481565b60015460408051600160e01b63b85cd94102815260048101859052602481018490529051600092839283926001600160a01b039092169163b85cd94191604480820192606092909190829003018186803b1580156109ac57600080fd5b505afa1580156109c0573d6000803e3d6000fd5b505050506040513d60608110156109d657600080fd5b50805160208201516040909201519097919650945092505050565b6003805460009160ff90911690811115610a0757fe5b905090565b600e5481565b600b5481565b60015460408051600160e01b6391e85aff028152600481018590526024810184905290516000926001600160a01b0316916391e85aff916044808301926020929190829003018186803b1580156107ea57600080fd5b4290565b600d5481565b6000546001600160a01b03163314610acd5760408051600160e51b62461bcd02815260206004820152600d60248201526001609a1b6c1858d8d95cdcc819195b9a595902604482015290519081900360640190fd5b6001600160a01b038116610ae057600080fd5b600080546040516001600160a01b03808516939216917fb532073b38c83145e3e5135377a08bf9aab55bc0fd7c1179cd4fb995d2a5159c91a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000546001600160a01b03163314610b905760408051600160e51b62461bcd02815260206004820152600d60248201526001609a1b6c1858d8d95cdcc819195b9a595902604482015290519081900360640190fd5b6001600160a01b038116610ba357600080fd5b600780546001600160a01b038381166001600160a01b031983168117909355604051911691829133907f670c5841a438bdba1d0b33bc57b8124beea019900cd34307f3f049821f7d0fed90600090a45050565b600c5481565b6007546001600160a01b031681565b303190565b60015460408051600160e21b633f605c5f028152600481018590526001600160a01b0384811660248301529151600093929092169163fd81717c91604480820192602092909190829003018186803b1580156107ea57600080fd5b3b1590565b6000808211610c7e57600080fd5b6000828481610c8957fe5b04949350505050565b600082821115610ca157600080fd5b50900390565b600082610cb657506000610819565b82820282848281610cc357fe5b0414610cce57600080fd5b9392505050565b600082820183811015610cce57600080fd5b1590565b610cf433610c6b565b610d485760408051600160e51b62461bcd02815260206004820152601860248201527f6f6e6c792065787465726e616c6c79206163636f756e74730000000000000000604482015290519081900360640190fd5b610d53600b54610e62565b610d5b61107a565b6004610d656109f1565b81548110610d6f57fe5b6000918252602082200154600855600b80546001908101918290555460408051600160e21b63206856bd0281526004810193909352516001600160a01b03909116926381a15af4926024808201939182900301818387803b158015610dd357600080fd5b505af1158015610de7573d6000803e3d6000fd5b50505050565b6001600160a01b0316151590565b6000610e056109f1565b905060048181548110610e1457fe5b906000526020600020015460088190555060058181548110610e3257fe5b906000526020600020015460098190555060068181548110610e5057fe5b600091825260209091200154600a5550565b600a543031106108c5576001546000906001600160a01b0316636973e8bf83610e896109f1565b6040518363ffffffff1660e01b81526004018083815260200182815260200192505050602060405180830381600087803b158015610ec657600080fd5b505af1158015610eda573d6000803e3d6000fd5b505050506040513d6020811015610ef057600080fd5b5051600154600b54600a5460408051600160e01b6310d9aa8d0281526004810193909352602483019190915260448201849052519293506001600160a01b03909116916310d9aa8d9160648082019260009290919082900301818387803b158015610f5a57600080fd5b505af1158015610f6e573d6000803e3d6000fd5b505060015460408051600160e01b63b85cd94102815260048101879052602481018690529051600094506001600160a01b03909216925063b85cd941916044808301926060929190829003018186803b158015610fca57600080fd5b505afa158015610fde573d6000803e3d6000fd5b505050506040513d6060811015610ff457600080fd5b5051600a546040519192506001600160a01b0383169181156108fc0291906000818181858888f19350505050158015611031573d6000803e3d6000fd5b50604080518481526020810184905281516001600160a01b038416927fd0f6c3f76e90fe7ee8d029daac019f61afdbf403a4d12e52529d7fd1444bbccc928290030190a2505050565b6007546001600160a01b03166110da5760408051600160e51b62461bcd02815260206004820152601860248201527f61646472657373206f662077616c6c6574206973203078300000000000000000604482015290519081900360640190fd5b303180156108c5576007546040516001600160a01b039091169082156108fc029083906000818181858888f19350505050156108c5576040805182815290517fae783cb8646d9f54d3419f1dda96d3af888c04758f5a8e6273c184cb15ff4a9c9181900360200190a15056fe696e766573746d656e74206d757374206265203e3d205052494345204f4620544f4b454ea165627a7a723058209838b03f5e15a29a75955cb3226d0254e8872b214f23e4c308b2c36449a7726d002960806040526079600155600080546001600160a01b031916331790556108e38061002a6000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c806381a15af41161006657806381a15af41461017e57806391e85aff1461019b578063a6f9dae1146101d2578063b85cd941146101f8578063fd81717c146102435761009e565b80630224e3dd146100a357806310d9aa8d146100e1578063166bd2311461010c578063479ae779146101295780636973e8bf1461015b575b600080fd5b6100cf600480360360408110156100b957600080fd5b506001600160a01b03813516906020013561026f565b60408051918252519081900360200190f35b61010a600480360360608110156100f757600080fd5b508035906020810135906040013561029a565b005b6100cf6004803603602081101561012257600080fd5b5035610395565b61010a6004803603606081101561013f57600080fd5b508035906001600160a01b0360208201351690604001356103a7565b6100cf6004803603604081101561017157600080fd5b5080359060200135610494565b61010a6004803603602081101561019457600080fd5b50356105c8565b6101be600480360360408110156101b157600080fd5b50803590602001356105ec565b604080519115158252519081900360200190f35b61010a600480360360208110156101e857600080fd5b50356001600160a01b0316610613565b61021b6004803603604081101561020e57600080fd5b50803590602001356106d6565b604080516001600160a01b039094168452911515602084015282820152519081900360600190f35b6100cf6004803603604081101561025957600080fd5b50803590602001356001600160a01b031661073a565b6001600160a01b03821660009081526005602090815260408083208484529091529020545b92915050565b6000546001600160a01b031633146102ef5760408051600160e51b62461bcd02815260206004820152600d60248201526001609a1b6c1858d8d95cdcc819195b9a595902604482015290519081900360640190fd5b60008381526003602090815260408083208484528252808320546001600160a01b03168084526005835281842087855290925290912054610336908463ffffffff61076216565b6001600160a01b039091166000908152600560209081526040808320968352958152858220929092556003825284812092815291905291909120805474ff00000000000000000000000000000000000000001916600160a01b17905550565b60009081526002602052604090205490565b6000546001600160a01b031633146103fc5760408051600160e51b62461bcd02815260206004820152600d60248201526001609a1b6c1858d8d95cdcc819195b9a595902604482015290519081900360640190fd5b60008381526002602090815260408083208054600190810180835560038552838620908652845282852080546001600160a01b0319166001600160a01b0389169081178255898752925491810191909155600484528285209185529252909120546104679083610762565b60009485526004602090815260408087206001600160a01b03909616875294905292909320919091555050565b600080546001600160a01b031633146104ea5760408051600160e51b62461bcd02815260206004820152600d60248201526001609a1b6c1858d8d95cdcc819195b9a595902604482015290519081900360640190fd5b60008381526002602052604090205461053757604051600160e51b62461bcd0281526004018080602001828103825260288152602001806108906028913960400191505060405180910390fd5b600060038314156105535761054c600b61077b565b9050610586565b82600114156105665761054c600361077b565b82600214156105795761054c600661077b565b610583600261077b565b90505b604080518581526020810183905281517fc46de452ce3730c43ec8cf719ea5206bb8821295780d3027f20e6b42a6393ac6929181900390910190a19392505050565b60008181526002602052604081205560015461014a14156105e95760796001555b50565b6000918252600360209081526040808420928452919052902054600160a01b900460ff1690565b6000546001600160a01b031633146106685760408051600160e51b62461bcd02815260206004820152600d60248201526001609a1b6c1858d8d95cdcc819195b9a595902604482015290519081900360640190fd5b6001600160a01b03811661067b57600080fd5b600080546040516001600160a01b03808516939216917fb532073b38c83145e3e5135377a08bf9aab55bc0fd7c1179cd4fb995d2a5159c91a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b60008060006106e361086f565b50505060009283525060036020908152604080842092845291815291819020815160608101835281546001600160a01b038116808352600160a01b90910460ff161515948201859052600190920154920182905292565b60009182526004602090815260408084206001600160a01b0393909316845291905290205490565b60008282018381101561077457600080fd5b9392505050565b60006107926001805461076290919063ffffffff16565b60015560006107b1426107a543336107eb565b9063ffffffff61082616565b9050600060426107cc6001548461084890919063ffffffff16565b816107d357fe5b0690508381816107df57fe5b06600101949350505050565b6040805192406020808501919091526001600160a01b039290921660601b838201528051808403603401815260549093019052815191012090565b600080821161083457600080fd5b600082848161083f57fe5b04949350505050565b60008261085757506000610294565b8282028284828161086457fe5b041461077457600080fd5b60408051606081018252600080825260208201819052918101919091529056fe6e756d626572206f66207469636b657473206d7573742062652067726561746572207468616e2030a165627a7a723058206fb017da54b494041920961d9b6a1cf7413a93dbf51f2479561176bae8aa12db002900000000000000000000000009c9ab524379b0e426ac71a060a04b4fc52a58a50000000000000000000000000000000000000000000000000000000000000003",
  "constructorArguments": "00000000000000000000000009c9ab524379b0e426ac71a060a04b4fc52a58a50000000000000000000000000000000000000000000000000000000000000003"
}