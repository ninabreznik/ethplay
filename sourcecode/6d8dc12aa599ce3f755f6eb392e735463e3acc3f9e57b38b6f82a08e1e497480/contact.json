{
  "address": "0x02a9bb92365b72fb735364af2af55ebfa9eb02c2",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "TAOFactory",
  "compilerVersion": "v0.5.4+commit.9549d8ff",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-06-04\n*/\n\npragma solidity >=0.5.4 <0.6.0;\n\ninterface tokenRecipient { function receiveApproval(address _from, uint256 _value, address _token, bytes calldata _extraData) external; }\n\n\ncontract TheAO {\n\taddress public theAO;\n\taddress public nameTAOPositionAddress;\n\n\t// Check whether an address is whitelisted and granted access to transact\n\t// on behalf of others\n\tmapping (address => bool) public whitelist;\n\n\tconstructor() public {\n\t\ttheAO = msg.sender;\n\t}\n\n\t/**\n\t * @dev Checks if msg.sender is in whitelist.\n\t */\n\tmodifier inWhitelist() {\n\t\trequire (whitelist[msg.sender] == true);\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Transfer ownership of The AO to new address\n\t * @param _theAO The new address to be transferred\n\t */\n\tfunction transferOwnership(address _theAO) public {\n\t\trequire (msg.sender == theAO);\n\t\trequire (_theAO != address(0));\n\t\ttheAO = _theAO;\n\t}\n\n\t/**\n\t * @dev Whitelist `_account` address to transact on behalf of others\n\t * @param _account The address to whitelist\n\t * @param _whitelist Either to whitelist or not\n\t */\n\tfunction setWhitelist(address _account, bool _whitelist) public {\n\t\trequire (msg.sender == theAO);\n\t\trequire (_account != address(0));\n\t\twhitelist[_account] = _whitelist;\n\t}\n}\n\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that throw on error\n */\nlibrary SafeMath {\n\n\t/**\n\t * @dev Multiplies two numbers, throws on overflow.\n\t */\n\tfunction mul(uint256 a, uint256 b) internal pure returns (uint256 c) {\n\t\t// Gas optimization: this is cheaper than asserting 'a' not being zero, but the\n\t\t// benefit is lost if 'b' is also tested.\n\t\t// See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n\t\tif (a == 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tc = a * b;\n\t\tassert(c / a == b);\n\t\treturn c;\n\t}\n\n\t/**\n\t * @dev Integer division of two numbers, truncating the quotient.\n\t */\n\tfunction div(uint256 a, uint256 b) internal pure returns (uint256) {\n\t\t// assert(b > 0); // Solidity automatically throws when dividing by 0\n\t\t// uint256 c = a / b;\n\t\t// assert(a == b * c + a % b); // There is no case in which this doesn't hold\n\t\treturn a / b;\n\t}\n\n\t/**\n\t * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n\t */\n\tfunction sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\t\tassert(b <= a);\n\t\treturn a - b;\n\t}\n\n\t/**\n\t * @dev Adds two numbers, throws on overflow.\n\t */\n\tfunction add(uint256 a, uint256 b) internal pure returns (uint256 c) {\n\t\tc = a + b;\n\t\tassert(c >= a);\n\t\treturn c;\n\t}\n}\n\n\ninterface INameTAOPosition {\n\tfunction senderIsAdvocate(address _sender, address _id) external view returns (bool);\n\tfunction senderIsListener(address _sender, address _id) external view returns (bool);\n\tfunction senderIsSpeaker(address _sender, address _id) external view returns (bool);\n\tfunction senderIsPosition(address _sender, address _id) external view returns (bool);\n\tfunction getAdvocate(address _id) external view returns (address);\n\tfunction nameIsAdvocate(address _nameId, address _id) external view returns (bool);\n\tfunction nameIsPosition(address _nameId, address _id) external view returns (bool);\n\tfunction initialize(address _id, address _advocateId, address _listenerId, address _speakerId) external returns (bool);\n\tfunction determinePosition(address _sender, address _id) external view returns (uint256);\n}\n\n\n\n\ncontract TokenERC20 {\n\t// Public variables of the token\n\tstring public name;\n\tstring public symbol;\n\tuint8 public decimals = 18;\n\t// 18 decimals is the strongly suggested default, avoid changing it\n\tuint256 public totalSupply;\n\n\t// This creates an array with all balances\n\tmapping (address => uint256) public balanceOf;\n\tmapping (address => mapping (address => uint256)) public allowance;\n\n\t// This generates a public event on the blockchain that will notify clients\n\tevent Transfer(address indexed from, address indexed to, uint256 value);\n\n\t// This generates a public event on the blockchain that will notify clients\n\tevent Approval(address indexed _owner, address indexed _spender, uint256 _value);\n\n\t// This notifies clients about the amount burnt\n\tevent Burn(address indexed from, uint256 value);\n\n\t/**\n\t * Constructor function\n\t *\n\t * Initializes contract with initial supply tokens to the creator of the contract\n\t */\n\tconstructor (uint256 initialSupply, string memory tokenName, string memory tokenSymbol) public {\n\t\ttotalSupply = initialSupply * 10 ** uint256(decimals);  // Update total supply with the decimal amount\n\t\tbalanceOf[msg.sender] = totalSupply;                // Give the creator all initial tokens\n\t\tname = tokenName;                                   // Set the name for display purposes\n\t\tsymbol = tokenSymbol;                               // Set the symbol for display purposes\n\t}\n\n\t/**\n\t * Internal transfer, only can be called by this contract\n\t */\n\tfunction _transfer(address _from, address _to, uint _value) internal {\n\t\t// Prevent transfer to 0x0 address. Use burn() instead\n\t\trequire(_to != address(0));\n\t\t// Check if the sender has enough\n\t\trequire(balanceOf[_from] >= _value);\n\t\t// Check for overflows\n\t\trequire(balanceOf[_to] + _value > balanceOf[_to]);\n\t\t// Save this for an assertion in the future\n\t\tuint previousBalances = balanceOf[_from] + balanceOf[_to];\n\t\t// Subtract from the sender\n\t\tbalanceOf[_from] -= _value;\n\t\t// Add the same to the recipient\n\t\tbalanceOf[_to] += _value;\n\t\temit Transfer(_from, _to, _value);\n\t\t// Asserts are used to use static analysis to find bugs in your code. They should never fail\n\t\tassert(balanceOf[_from] + balanceOf[_to] == previousBalances);\n\t}\n\n\t/**\n\t * Transfer tokens\n\t *\n\t * Send `_value` tokens to `_to` from your account\n\t *\n\t * @param _to The address of the recipient\n\t * @param _value the amount to send\n\t */\n\tfunction transfer(address _to, uint256 _value) public returns (bool success) {\n\t\t_transfer(msg.sender, _to, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Transfer tokens from other address\n\t *\n\t * Send `_value` tokens to `_to` in behalf of `_from`\n\t *\n\t * @param _from The address of the sender\n\t * @param _to The address of the recipient\n\t * @param _value the amount to send\n\t */\n\tfunction transferFrom(address _from, address _to, uint256 _value) public returns (bool success) {\n\t\trequire(_value <= allowance[_from][msg.sender]);     // Check allowance\n\t\tallowance[_from][msg.sender] -= _value;\n\t\t_transfer(_from, _to, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Set allowance for other address\n\t *\n\t * Allows `_spender` to spend no more than `_value` tokens in your behalf\n\t *\n\t * @param _spender The address authorized to spend\n\t * @param _value the max amount they can spend\n\t */\n\tfunction approve(address _spender, uint256 _value) public returns (bool success) {\n\t\tallowance[msg.sender][_spender] = _value;\n\t\temit Approval(msg.sender, _spender, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Set allowance for other address and notify\n\t *\n\t * Allows `_spender` to spend no more than `_value` tokens in your behalf, and then ping the contract about it\n\t *\n\t * @param _spender The address authorized to spend\n\t * @param _value the max amount they can spend\n\t * @param _extraData some extra information to send to the approved contract\n\t */\n\tfunction approveAndCall(address _spender, uint256 _value, bytes memory _extraData) public returns (bool success) {\n\t\ttokenRecipient spender = tokenRecipient(_spender);\n\t\tif (approve(_spender, _value)) {\n\t\t\tspender.receiveApproval(msg.sender, _value, address(this), _extraData);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/**\n\t * Destroy tokens\n\t *\n\t * Remove `_value` tokens from the system irreversibly\n\t *\n\t * @param _value the amount of money to burn\n\t */\n\tfunction burn(uint256 _value) public returns (bool success) {\n\t\trequire(balanceOf[msg.sender] >= _value);   // Check if the sender has enough\n\t\tbalanceOf[msg.sender] -= _value;            // Subtract from the sender\n\t\ttotalSupply -= _value;                      // Updates totalSupply\n\t\temit Burn(msg.sender, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Destroy tokens from other account\n\t *\n\t * Remove `_value` tokens from the system irreversibly on behalf of `_from`.\n\t *\n\t * @param _from the address of the sender\n\t * @param _value the amount of money to burn\n\t */\n\tfunction burnFrom(address _from, uint256 _value) public returns (bool success) {\n\t\trequire(balanceOf[_from] >= _value);                // Check if the targeted balance is enough\n\t\trequire(_value <= allowance[_from][msg.sender]);    // Check allowance\n\t\tbalanceOf[_from] -= _value;                         // Subtract from the targeted balance\n\t\tallowance[_from][msg.sender] -= _value;             // Subtract from the sender's allowance\n\t\ttotalSupply -= _value;                              // Update totalSupply\n\t\temit Burn(_from, _value);\n\t\treturn true;\n\t}\n}\n\n\n\ninterface INameAccountRecovery {\n\tfunction isCompromised(address _id) external view returns (bool);\n}\n\n\ninterface INameFactory {\n\tfunction nonces(address _nameId) external view returns (uint256);\n\tfunction incrementNonce(address _nameId) external returns (uint256);\n\tfunction ethAddressToNameId(address _ethAddress) external view returns (address);\n\tfunction setNameNewAddress(address _id, address _newAddress) external returns (bool);\n\tfunction nameIdToEthAddress(address _nameId) external view returns (address);\n}\n\n\ninterface ITAOPool {\n\tfunction createPool(address _taoId, bool _ethosCapStatus, uint256 _ethosCapAmount) external returns (bool);\n}\n\n\ninterface IAOSetting {\n\tfunction getSettingValuesByTAOName(address _taoId, string calldata _settingName) external view returns (uint256, bool, address, bytes32, string memory);\n\tfunction getSettingTypes() external view returns (uint8, uint8, uint8, uint8, uint8);\n\n\tfunction settingTypeLookup(uint256 _settingId) external view returns (uint8);\n}\n\n\ninterface ITAOAncestry {\n\tfunction initialize(address _id, address _parentId, uint256 _childMinLogos) external returns (bool);\n\n\tfunction getAncestryById(address _id) external view returns (address, uint256, uint256);\n\n\tfunction addChild(address _taoId, address _childId) external returns (bool);\n\n\tfunction isChild(address _taoId, address _childId) external view returns (bool);\n}\n\n\ninterface INameTAOLookup {\n\tfunction isExist(string calldata _name) external view returns (bool);\n\n\tfunction initialize(string calldata _name, address _nameTAOId, uint256 _typeId, string calldata _parentName, address _parentId, uint256 _parentTypeId) external returns (bool);\n\n\tfunction getById(address _id) external view returns (string memory, address, uint256, string memory, address, uint256);\n\n\tfunction getIdByName(string calldata _name) external view returns (address);\n}\n\n\ninterface ITAOFactory {\n\tfunction nonces(address _taoId) external view returns (uint256);\n\tfunction incrementNonce(address _taoId) external returns (uint256);\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @title TAO\n */\ncontract TAO {\n\tusing SafeMath for uint256;\n\n\taddress public vaultAddress;\n\tstring public name;\t\t\t\t// the name for this TAO\n\taddress public originId;\t\t// the ID of the Name that created this TAO. If Name, it's the eth address\n\n\t// TAO's data\n\tstring public datHash;\n\tstring public database;\n\tstring public keyValue;\n\tbytes32 public contentId;\n\n\t/**\n\t * 0 = TAO\n\t * 1 = Name\n\t */\n\tuint8 public typeId;\n\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor (string memory _name,\n\t\taddress _originId,\n\t\tstring memory _datHash,\n\t\tstring memory _database,\n\t\tstring memory _keyValue,\n\t\tbytes32 _contentId,\n\t\taddress _vaultAddress\n\t) public {\n\t\tname = _name;\n\t\toriginId = _originId;\n\t\tdatHash = _datHash;\n\t\tdatabase = _database;\n\t\tkeyValue = _keyValue;\n\t\tcontentId = _contentId;\n\n\t\t// Creating TAO\n\t\ttypeId = 0;\n\n\t\tvaultAddress = _vaultAddress;\n\t}\n\n\t/**\n\t * @dev Checks if calling address is Vault contract\n\t */\n\tmodifier onlyVault {\n\t\trequire (msg.sender == vaultAddress);\n\t\t_;\n\t}\n\n\t/**\n\t * Will receive any ETH sent\n\t */\n\tfunction () external payable {\n\t}\n\n\t/**\n\t * @dev Allows Vault to transfer `_amount` of ETH from this TAO to `_recipient`\n\t * @param _recipient The recipient address\n\t * @param _amount The amount to transfer\n\t * @return true on success\n\t */\n\tfunction transferEth(address payable _recipient, uint256 _amount) public onlyVault returns (bool) {\n\t\t_recipient.transfer(_amount);\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev Allows Vault to transfer `_amount` of ERC20 Token from this TAO to `_recipient`\n\t * @param _erc20TokenAddress The address of ERC20 Token\n\t * @param _recipient The recipient address\n\t * @param _amount The amount to transfer\n\t * @return true on success\n\t */\n\tfunction transferERC20(address _erc20TokenAddress, address _recipient, uint256 _amount) public onlyVault returns (bool) {\n\t\tTokenERC20 _erc20 = TokenERC20(_erc20TokenAddress);\n\t\t_erc20.transfer(_recipient, _amount);\n\t\treturn true;\n\t}\n}\n\n\n/**\n * @title Name\n */\ncontract Name is TAO {\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor (string memory _name, address _originId, string memory _datHash, string memory _database, string memory _keyValue, bytes32 _contentId, address _vaultAddress)\n\t\tTAO (_name, _originId, _datHash, _database, _keyValue, _contentId, _vaultAddress) public {\n\t\t// Creating Name\n\t\ttypeId = 1;\n\t}\n}\n\n\n\n/**\n * @title AOLibrary\n */\nlibrary AOLibrary {\n\tusing SafeMath for uint256;\n\n\tuint256 constant private _MULTIPLIER_DIVISOR = 10 ** 6; // 1000000 = 1\n\tuint256 constant private _PERCENTAGE_DIVISOR = 10 ** 6; // 100% = 1000000\n\n\t/**\n\t * @dev Check whether or not the given TAO ID is a TAO\n\t * @param _taoId The ID of the TAO\n\t * @return true if yes. false otherwise\n\t */\n\tfunction isTAO(address _taoId) public view returns (bool) {\n\t\treturn (_taoId != address(0) && bytes(TAO(address(uint160(_taoId))).name()).length > 0 && TAO(address(uint160(_taoId))).originId() != address(0) && TAO(address(uint160(_taoId))).typeId() == 0);\n\t}\n\n\t/**\n\t * @dev Check whether or not the given Name ID is a Name\n\t * @param _nameId The ID of the Name\n\t * @return true if yes. false otherwise\n\t */\n\tfunction isName(address _nameId) public view returns (bool) {\n\t\treturn (_nameId != address(0) && bytes(TAO(address(uint160(_nameId))).name()).length > 0 && Name(address(uint160(_nameId))).originId() != address(0) && Name(address(uint160(_nameId))).typeId() == 1);\n\t}\n\n\t/**\n\t * @dev Check if `_tokenAddress` is a valid ERC20 Token address\n\t * @param _tokenAddress The ERC20 Token address to check\n\t */\n\tfunction isValidERC20TokenAddress(address _tokenAddress) public view returns (bool) {\n\t\tif (_tokenAddress == address(0)) {\n\t\t\treturn false;\n\t\t}\n\t\tTokenERC20 _erc20 = TokenERC20(_tokenAddress);\n\t\treturn (_erc20.totalSupply() >= 0 && bytes(_erc20.name()).length > 0 && bytes(_erc20.symbol()).length > 0);\n\t}\n\n\t/**\n\t * @dev Checks if the calling contract address is The AO\n\t *\t\tOR\n\t *\t\tIf The AO is set to a Name/TAO, then check if calling address is the Advocate\n\t * @param _sender The address to check\n\t * @param _theAO The AO address\n\t * @param _nameTAOPositionAddress The address of NameTAOPosition\n\t * @return true if yes, false otherwise\n\t */\n\tfunction isTheAO(address _sender, address _theAO, address _nameTAOPositionAddress) public view returns (bool) {\n\t\treturn (_sender == _theAO ||\n\t\t\t(\n\t\t\t\t(isTAO(_theAO) || isName(_theAO)) &&\n\t\t\t\t_nameTAOPositionAddress != address(0) &&\n\t\t\t\tINameTAOPosition(_nameTAOPositionAddress).senderIsAdvocate(_sender, _theAO)\n\t\t\t)\n\t\t);\n\t}\n\n\t/**\n\t * @dev Return the divisor used to correctly calculate percentage.\n\t *\t\tPercentage stored throughout AO contracts covers 4 decimals,\n\t *\t\tso 1% is 10000, 1.25% is 12500, etc\n\t */\n\tfunction PERCENTAGE_DIVISOR() public pure returns (uint256) {\n\t\treturn _PERCENTAGE_DIVISOR;\n\t}\n\n\t/**\n\t * @dev Return the divisor used to correctly calculate multiplier.\n\t *\t\tMultiplier stored throughout AO contracts covers 6 decimals,\n\t *\t\tso 1 is 1000000, 0.023 is 23000, etc\n\t */\n\tfunction MULTIPLIER_DIVISOR() public pure returns (uint256) {\n\t\treturn _MULTIPLIER_DIVISOR;\n\t}\n\n\t/**\n\t * @dev deploy a TAO\n\t * @param _name The name of the TAO\n\t * @param _originId The Name ID the creates the TAO\n\t * @param _datHash The datHash of this TAO\n\t * @param _database The database for this TAO\n\t * @param _keyValue The key/value pair to be checked on the database\n\t * @param _contentId The contentId related to this TAO\n\t * @param _nameTAOVaultAddress The address of NameTAOVault\n\t */\n\tfunction deployTAO(string memory _name,\n\t\taddress _originId,\n\t\tstring memory _datHash,\n\t\tstring memory _database,\n\t\tstring memory _keyValue,\n\t\tbytes32 _contentId,\n\t\taddress _nameTAOVaultAddress\n\t\t) public returns (TAO _tao) {\n\t\t_tao = new TAO(_name, _originId, _datHash, _database, _keyValue, _contentId, _nameTAOVaultAddress);\n\t}\n\n\t/**\n\t * @dev deploy a Name\n\t * @param _name The name of the Name\n\t * @param _originId The eth address the creates the Name\n\t * @param _datHash The datHash of this Name\n\t * @param _database The database for this Name\n\t * @param _keyValue The key/value pair to be checked on the database\n\t * @param _contentId The contentId related to this Name\n\t * @param _nameTAOVaultAddress The address of NameTAOVault\n\t */\n\tfunction deployName(string memory _name,\n\t\taddress _originId,\n\t\tstring memory _datHash,\n\t\tstring memory _database,\n\t\tstring memory _keyValue,\n\t\tbytes32 _contentId,\n\t\taddress _nameTAOVaultAddress\n\t\t) public returns (Name _myName) {\n\t\t_myName = new Name(_name, _originId, _datHash, _database, _keyValue, _contentId, _nameTAOVaultAddress);\n\t}\n\n\t/**\n\t * @dev Calculate the new weighted multiplier when adding `_additionalPrimordialAmount` at `_additionalWeightedMultiplier` to the current `_currentPrimordialBalance` at `_currentWeightedMultiplier`\n\t * @param _currentWeightedMultiplier Account's current weighted multiplier\n\t * @param _currentPrimordialBalance Account's current primordial ion balance\n\t * @param _additionalWeightedMultiplier The weighted multiplier to be added\n\t * @param _additionalPrimordialAmount The primordial ion amount to be added\n\t * @return the new primordial weighted multiplier\n\t */\n\tfunction calculateWeightedMultiplier(uint256 _currentWeightedMultiplier, uint256 _currentPrimordialBalance, uint256 _additionalWeightedMultiplier, uint256 _additionalPrimordialAmount) public pure returns (uint256) {\n\t\tif (_currentWeightedMultiplier > 0) {\n\t\t\tuint256 _totalWeightedIons = (_currentWeightedMultiplier.mul(_currentPrimordialBalance)).add(_additionalWeightedMultiplier.mul(_additionalPrimordialAmount));\n\t\t\tuint256 _totalIons = _currentPrimordialBalance.add(_additionalPrimordialAmount);\n\t\t\treturn _totalWeightedIons.div(_totalIons);\n\t\t} else {\n\t\t\treturn _additionalWeightedMultiplier;\n\t\t}\n\t}\n\n\t/**\n\t * @dev Calculate the primordial ion multiplier on a given lot\n\t *\t\tTotal Primordial Mintable = T\n\t *\t\tTotal Primordial Minted = M\n\t *\t\tStarting Multiplier = S\n\t *\t\tEnding Multiplier = E\n\t *\t\tTo Purchase = P\n\t *\t\tMultiplier for next Lot of Amount = (1 - ((M + P/2) / T)) x (S-E)\n\t *\n\t * @param _purchaseAmount The amount of primordial ion intended to be purchased\n\t * @param _totalPrimordialMintable Total Primordial ion mintable\n\t * @param _totalPrimordialMinted Total Primordial ion minted so far\n\t * @param _startingMultiplier The starting multiplier in (10 ** 6)\n\t * @param _endingMultiplier The ending multiplier in (10 ** 6)\n\t * @return The multiplier in (10 ** 6)\n\t */\n\tfunction calculatePrimordialMultiplier(uint256 _purchaseAmount, uint256 _totalPrimordialMintable, uint256 _totalPrimordialMinted, uint256 _startingMultiplier, uint256 _endingMultiplier) public pure returns (uint256) {\n\t\tif (_purchaseAmount > 0 && _purchaseAmount <= _totalPrimordialMintable.sub(_totalPrimordialMinted)) {\n\t\t\t/**\n\t\t\t * Let temp = M + (P/2)\n\t\t\t * Multiplier = (1 - (temp / T)) x (S-E)\n\t\t\t */\n\t\t\tuint256 temp = _totalPrimordialMinted.add(_purchaseAmount.div(2));\n\n\t\t\t/**\n\t\t\t * Multiply multiplier with _MULTIPLIER_DIVISOR/_MULTIPLIER_DIVISOR to account for 6 decimals\n\t\t\t * so, Multiplier = (_MULTIPLIER_DIVISOR/_MULTIPLIER_DIVISOR) * (1 - (temp / T)) * (S-E)\n\t\t\t * Multiplier = ((_MULTIPLIER_DIVISOR * (1 - (temp / T))) * (S-E)) / _MULTIPLIER_DIVISOR\n\t\t\t * Multiplier = ((_MULTIPLIER_DIVISOR - ((_MULTIPLIER_DIVISOR * temp) / T)) * (S-E)) / _MULTIPLIER_DIVISOR\n\t\t\t * Take out the division by _MULTIPLIER_DIVISOR for now and include in later calculation\n\t\t\t * Multiplier = (_MULTIPLIER_DIVISOR - ((_MULTIPLIER_DIVISOR * temp) / T)) * (S-E)\n\t\t\t */\n\t\t\tuint256 multiplier = (_MULTIPLIER_DIVISOR.sub(_MULTIPLIER_DIVISOR.mul(temp).div(_totalPrimordialMintable))).mul(_startingMultiplier.sub(_endingMultiplier));\n\t\t\t/**\n\t\t\t * Since _startingMultiplier and _endingMultiplier are in 6 decimals\n\t\t\t * Need to divide multiplier by _MULTIPLIER_DIVISOR\n\t\t\t */\n\t\t\treturn multiplier.div(_MULTIPLIER_DIVISOR);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t/**\n\t * @dev Calculate the bonus percentage of network ion on a given lot\n\t *\t\tTotal Primordial Mintable = T\n\t *\t\tTotal Primordial Minted = M\n\t *\t\tStarting Network Bonus Multiplier = Bs\n\t *\t\tEnding Network Bonus Multiplier = Be\n\t *\t\tTo Purchase = P\n\t *\t\tAO Bonus % = B% = (1 - ((M + P/2) / T)) x (Bs-Be)\n\t *\n\t * @param _purchaseAmount The amount of primordial ion intended to be purchased\n\t * @param _totalPrimordialMintable Total Primordial ion intable\n\t * @param _totalPrimordialMinted Total Primordial ion minted so far\n\t * @param _startingMultiplier The starting Network ion bonus multiplier\n\t * @param _endingMultiplier The ending Network ion bonus multiplier\n\t * @return The bonus percentage\n\t */\n\tfunction calculateNetworkBonusPercentage(uint256 _purchaseAmount, uint256 _totalPrimordialMintable, uint256 _totalPrimordialMinted, uint256 _startingMultiplier, uint256 _endingMultiplier) public pure returns (uint256) {\n\t\tif (_purchaseAmount > 0 && _purchaseAmount <= _totalPrimordialMintable.sub(_totalPrimordialMinted)) {\n\t\t\t/**\n\t\t\t * Let temp = M + (P/2)\n\t\t\t * B% = (1 - (temp / T)) x (Bs-Be)\n\t\t\t */\n\t\t\tuint256 temp = _totalPrimordialMinted.add(_purchaseAmount.div(2));\n\n\t\t\t/**\n\t\t\t * Multiply B% with _PERCENTAGE_DIVISOR/_PERCENTAGE_DIVISOR to account for 6 decimals\n\t\t\t * so, B% = (_PERCENTAGE_DIVISOR/_PERCENTAGE_DIVISOR) * (1 - (temp / T)) * (Bs-Be)\n\t\t\t * B% = ((_PERCENTAGE_DIVISOR * (1 - (temp / T))) * (Bs-Be)) / _PERCENTAGE_DIVISOR\n\t\t\t * B% = ((_PERCENTAGE_DIVISOR - ((_PERCENTAGE_DIVISOR * temp) / T)) * (Bs-Be)) / _PERCENTAGE_DIVISOR\n\t\t\t * Take out the division by _PERCENTAGE_DIVISOR for now and include in later calculation\n\t\t\t * B% = (_PERCENTAGE_DIVISOR - ((_PERCENTAGE_DIVISOR * temp) / T)) * (Bs-Be)\n\t\t\t * But since Bs and Be are in 6 decimals, need to divide by _PERCENTAGE_DIVISOR\n\t\t\t * B% = (_PERCENTAGE_DIVISOR - ((_PERCENTAGE_DIVISOR * temp) / T)) * (Bs-Be) / _PERCENTAGE_DIVISOR\n\t\t\t */\n\t\t\tuint256 bonusPercentage = (_PERCENTAGE_DIVISOR.sub(_PERCENTAGE_DIVISOR.mul(temp).div(_totalPrimordialMintable))).mul(_startingMultiplier.sub(_endingMultiplier)).div(_PERCENTAGE_DIVISOR);\n\t\t\treturn bonusPercentage;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t/**\n\t * @dev Calculate the bonus amount of network ion on a given lot\n\t *\t\tAO Bonus Amount = B% x P\n\t *\n\t * @param _purchaseAmount The amount of primordial ion intended to be purchased\n\t * @param _totalPrimordialMintable Total Primordial ion intable\n\t * @param _totalPrimordialMinted Total Primordial ion minted so far\n\t * @param _startingMultiplier The starting Network ion bonus multiplier\n\t * @param _endingMultiplier The ending Network ion bonus multiplier\n\t * @return The bonus percentage\n\t */\n\tfunction calculateNetworkBonusAmount(uint256 _purchaseAmount, uint256 _totalPrimordialMintable, uint256 _totalPrimordialMinted, uint256 _startingMultiplier, uint256 _endingMultiplier) public pure returns (uint256) {\n\t\tuint256 bonusPercentage = calculateNetworkBonusPercentage(_purchaseAmount, _totalPrimordialMintable, _totalPrimordialMinted, _startingMultiplier, _endingMultiplier);\n\t\t/**\n\t\t * Since bonusPercentage is in _PERCENTAGE_DIVISOR format, need to divide it with _PERCENTAGE DIVISOR\n\t\t * when calculating the network ion bonus amount\n\t\t */\n\t\tuint256 networkBonus = bonusPercentage.mul(_purchaseAmount).div(_PERCENTAGE_DIVISOR);\n\t\treturn networkBonus;\n\t}\n\n\t/**\n\t * @dev Calculate the maximum amount of Primordial an account can burn\n\t *\t\t_primordialBalance = P\n\t *\t\t_currentWeightedMultiplier = M\n\t *\t\t_maximumMultiplier = S\n\t *\t\t_amountToBurn = B\n\t *\t\tB = ((S x P) - (P x M)) / S\n\t *\n\t * @param _primordialBalance Account's primordial ion balance\n\t * @param _currentWeightedMultiplier Account's current weighted multiplier\n\t * @param _maximumMultiplier The maximum multiplier of this account\n\t * @return The maximum burn amount\n\t */\n\tfunction calculateMaximumBurnAmount(uint256 _primordialBalance, uint256 _currentWeightedMultiplier, uint256 _maximumMultiplier) public pure returns (uint256) {\n\t\treturn (_maximumMultiplier.mul(_primordialBalance).sub(_primordialBalance.mul(_currentWeightedMultiplier))).div(_maximumMultiplier);\n\t}\n\n\t/**\n\t * @dev Calculate the new multiplier after burning primordial ion\n\t *\t\t_primordialBalance = P\n\t *\t\t_currentWeightedMultiplier = M\n\t *\t\t_amountToBurn = B\n\t *\t\t_newMultiplier = E\n\t *\t\tE = (P x M) / (P - B)\n\t *\n\t * @param _primordialBalance Account's primordial ion balance\n\t * @param _currentWeightedMultiplier Account's current weighted multiplier\n\t * @param _amountToBurn The amount of primordial ion to burn\n\t * @return The new multiplier\n\t */\n\tfunction calculateMultiplierAfterBurn(uint256 _primordialBalance, uint256 _currentWeightedMultiplier, uint256 _amountToBurn) public pure returns (uint256) {\n\t\treturn _primordialBalance.mul(_currentWeightedMultiplier).div(_primordialBalance.sub(_amountToBurn));\n\t}\n\n\t/**\n\t * @dev Calculate the new multiplier after converting network ion to primordial ion\n\t *\t\t_primordialBalance = P\n\t *\t\t_currentWeightedMultiplier = M\n\t *\t\t_amountToConvert = C\n\t *\t\t_newMultiplier = E\n\t *\t\tE = (P x M) / (P + C)\n\t *\n\t * @param _primordialBalance Account's primordial ion balance\n\t * @param _currentWeightedMultiplier Account's current weighted multiplier\n\t * @param _amountToConvert The amount of network ion to convert\n\t * @return The new multiplier\n\t */\n\tfunction calculateMultiplierAfterConversion(uint256 _primordialBalance, uint256 _currentWeightedMultiplier, uint256 _amountToConvert) public pure returns (uint256) {\n\t\treturn _primordialBalance.mul(_currentWeightedMultiplier).div(_primordialBalance.add(_amountToConvert));\n\t}\n\n\t/**\n\t * @dev count num of digits\n\t * @param number uint256 of the nuumber to be checked\n\t * @return uint8 num of digits\n\t */\n\tfunction numDigits(uint256 number) public pure returns (uint8) {\n\t\tuint8 digits = 0;\n\t\twhile(number != 0) {\n\t\t\tnumber = number.div(10);\n\t\t\tdigits++;\n\t\t}\n\t\treturn digits;\n\t}\n}\n\n\n\n\n\n/**\n * @title TAOController\n */\ncontract TAOController is TheAO {\n\taddress public nameFactoryAddress;\n\taddress public nameAccountRecoveryAddress;\n\n\tINameFactory internal _nameFactory;\n\tINameTAOPosition internal _nameTAOPosition;\n\tINameAccountRecovery internal _nameAccountRecovery;\n\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor(address _nameFactoryAddress) public {\n\t\tsetNameFactoryAddress(_nameFactoryAddress);\n\t}\n\n\t/**\n\t * @dev Checks if the calling contract address is The AO\n\t *\t\tOR\n\t *\t\tIf The AO is set to a Name/TAO, then check if calling address is the Advocate\n\t */\n\tmodifier onlyTheAO {\n\t\trequire (AOLibrary.isTheAO(msg.sender, theAO, nameTAOPositionAddress));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if `_taoId` is a TAO\n\t */\n\tmodifier isTAO(address _taoId) {\n\t\trequire (AOLibrary.isTAO(_taoId));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if `_nameId` is a Name\n\t */\n\tmodifier isName(address _nameId) {\n\t\trequire (AOLibrary.isName(_nameId));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if `_id` is a Name or a TAO\n\t */\n\tmodifier isNameOrTAO(address _id) {\n\t\trequire (AOLibrary.isName(_id) || AOLibrary.isTAO(_id));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check is msg.sender address is a Name\n\t */\n\t modifier senderIsName() {\n\t\trequire (_nameFactory.ethAddressToNameId(msg.sender) != address(0));\n\t\t_;\n\t }\n\n\t/**\n\t * @dev Check if msg.sender is the current advocate of TAO ID\n\t */\n\tmodifier onlyAdvocate(address _id) {\n\t\trequire (_nameTAOPosition.senderIsAdvocate(msg.sender, _id));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Only allowed if sender's Name is not compromised\n\t */\n\tmodifier senderNameNotCompromised() {\n\t\trequire (!_nameAccountRecovery.isCompromised(_nameFactory.ethAddressToNameId(msg.sender)));\n\t\t_;\n\t}\n\n\t/***** The AO ONLY METHODS *****/\n\t/**\n\t * @dev Transfer ownership of The AO to new address\n\t * @param _theAO The new address to be transferred\n\t */\n\tfunction transferOwnership(address _theAO) public onlyTheAO {\n\t\trequire (_theAO != address(0));\n\t\ttheAO = _theAO;\n\t}\n\n\t/**\n\t * @dev Whitelist `_account` address to transact on behalf of others\n\t * @param _account The address to whitelist\n\t * @param _whitelist Either to whitelist or not\n\t */\n\tfunction setWhitelist(address _account, bool _whitelist) public onlyTheAO {\n\t\trequire (_account != address(0));\n\t\twhitelist[_account] = _whitelist;\n\t}\n\n\t/**\n\t * @dev The AO sets NameFactory address\n\t * @param _nameFactoryAddress The address of NameFactory\n\t */\n\tfunction setNameFactoryAddress(address _nameFactoryAddress) public onlyTheAO {\n\t\trequire (_nameFactoryAddress != address(0));\n\t\tnameFactoryAddress = _nameFactoryAddress;\n\t\t_nameFactory = INameFactory(_nameFactoryAddress);\n\t}\n\n\t/**\n\t * @dev The AO sets NameTAOPosition address\n\t * @param _nameTAOPositionAddress The address of NameTAOPosition\n\t */\n\tfunction setNameTAOPositionAddress(address _nameTAOPositionAddress) public onlyTheAO {\n\t\trequire (_nameTAOPositionAddress != address(0));\n\t\tnameTAOPositionAddress = _nameTAOPositionAddress;\n\t\t_nameTAOPosition = INameTAOPosition(_nameTAOPositionAddress);\n\t}\n\n\t/**\n\t * @dev The AO set the NameAccountRecovery Address\n\t * @param _nameAccountRecoveryAddress The address of NameAccountRecovery\n\t */\n\tfunction setNameAccountRecoveryAddress(address _nameAccountRecoveryAddress) public onlyTheAO {\n\t\trequire (_nameAccountRecoveryAddress != address(0));\n\t\tnameAccountRecoveryAddress = _nameAccountRecoveryAddress;\n\t\t_nameAccountRecovery = INameAccountRecovery(nameAccountRecoveryAddress);\n\t}\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @title TAOCurrency\n */\ncontract TAOCurrency is TheAO {\n\tusing SafeMath for uint256;\n\n\t// Public variables of the contract\n\tstring public name;\n\tstring public symbol;\n\tuint8 public decimals;\n\n\t// To differentiate denomination of TAO Currency\n\tuint256 public powerOfTen;\n\n\tuint256 public totalSupply;\n\n\t// This creates an array with all balances\n\t// address is the address of nameId, not the eth public address\n\tmapping (address => uint256) public balanceOf;\n\n\t// This generates a public event on the blockchain that will notify clients\n\t// address is the address of TAO/Name Id, not eth public address\n\tevent Transfer(address indexed from, address indexed to, uint256 value);\n\n\t// This notifies clients about the amount burnt\n\t// address is the address of TAO/Name Id, not eth public address\n\tevent Burn(address indexed from, uint256 value);\n\n\t/**\n\t * Constructor function\n\t *\n\t * Initializes contract with initial supply TAOCurrency to the creator of the contract\n\t */\n\tconstructor (string memory _name, string memory _symbol, address _nameTAOPositionAddress) public {\n\t\tname = _name;\t\t// Set the name for display purposes\n\t\tsymbol = _symbol;\t// Set the symbol for display purposes\n\n\t\tpowerOfTen = 0;\n\t\tdecimals = 0;\n\n\t\tsetNameTAOPositionAddress(_nameTAOPositionAddress);\n\t}\n\n\t/**\n\t * @dev Checks if the calling contract address is The AO\n\t *\t\tOR\n\t *\t\tIf The AO is set to a Name/TAO, then check if calling address is the Advocate\n\t */\n\tmodifier onlyTheAO {\n\t\trequire (AOLibrary.isTheAO(msg.sender, theAO, nameTAOPositionAddress));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if `_id` is a Name or a TAO\n\t */\n\tmodifier isNameOrTAO(address _id) {\n\t\trequire (AOLibrary.isName(_id) || AOLibrary.isTAO(_id));\n\t\t_;\n\t}\n\n\t/***** The AO ONLY METHODS *****/\n\t/**\n\t * @dev Transfer ownership of The AO to new address\n\t * @param _theAO The new address to be transferred\n\t */\n\tfunction transferOwnership(address _theAO) public onlyTheAO {\n\t\trequire (_theAO != address(0));\n\t\ttheAO = _theAO;\n\t}\n\n\t/**\n\t * @dev Whitelist `_account` address to transact on behalf of others\n\t * @param _account The address to whitelist\n\t * @param _whitelist Either to whitelist or not\n\t */\n\tfunction setWhitelist(address _account, bool _whitelist) public onlyTheAO {\n\t\trequire (_account != address(0));\n\t\twhitelist[_account] = _whitelist;\n\t}\n\n\t/**\n\t * @dev The AO set the NameTAOPosition Address\n\t * @param _nameTAOPositionAddress The address of NameTAOPosition\n\t */\n\tfunction setNameTAOPositionAddress(address _nameTAOPositionAddress) public onlyTheAO {\n\t\trequire (_nameTAOPositionAddress != address(0));\n\t\tnameTAOPositionAddress = _nameTAOPositionAddress;\n\t}\n\n\t/***** PUBLIC METHODS *****/\n\t/**\n\t * @dev transfer TAOCurrency from other address\n\t *\n\t * Send `_value` TAOCurrency to `_to` in behalf of `_from`\n\t *\n\t * @param _from The address of the sender\n\t * @param _to The address of the recipient\n\t * @param _value the amount to send\n\t */\n\tfunction transferFrom(address _from, address _to, uint256 _value) public inWhitelist isNameOrTAO(_from) isNameOrTAO(_to) returns (bool) {\n\t\t_transfer(_from, _to, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev Create `mintedAmount` TAOCurrency and send it to `target`\n\t * @param target Address to receive TAOCurrency\n\t * @param mintedAmount The amount of TAOCurrency it will receive\n\t * @return true on success\n\t */\n\tfunction mint(address target, uint256 mintedAmount) public inWhitelist isNameOrTAO(target) returns (bool) {\n\t\t_mint(target, mintedAmount);\n\t\treturn true;\n\t}\n\n\t/**\n\t *\n\t * @dev Whitelisted address remove `_value` TAOCurrency from the system irreversibly on behalf of `_from`.\n\t *\n\t * @param _from the address of the sender\n\t * @param _value the amount of money to burn\n\t */\n\tfunction whitelistBurnFrom(address _from, uint256 _value) public inWhitelist isNameOrTAO(_from) returns (bool success) {\n\t\trequire(balanceOf[_from] >= _value);                // Check if the targeted balance is enough\n\t\tbalanceOf[_from] = balanceOf[_from].sub(_value);    // Subtract from the targeted balance\n\t\ttotalSupply = totalSupply.sub(_value);              // Update totalSupply\n\t\temit Burn(_from, _value);\n\t\treturn true;\n\t}\n\n\t/***** INTERNAL METHODS *****/\n\t/**\n\t * @dev Send `_value` TAOCurrency from `_from` to `_to`\n\t * @param _from The address of sender\n\t * @param _to The address of the recipient\n\t * @param _value The amount to send\n\t */\n\tfunction _transfer(address _from, address _to, uint256 _value) internal {\n\t\trequire (_to != address(0));\t\t\t\t\t\t\t// Prevent transfer to 0x0 address. Use burn() instead\n\t\trequire (balanceOf[_from] >= _value);\t\t\t\t\t// Check if the sender has enough\n\t\trequire (balanceOf[_to].add(_value) >= balanceOf[_to]); // Check for overflows\n\t\tuint256 previousBalances = balanceOf[_from].add(balanceOf[_to]);\n\t\tbalanceOf[_from] = balanceOf[_from].sub(_value);        // Subtract from the sender\n\t\tbalanceOf[_to] = balanceOf[_to].add(_value);            // Add the same to the recipient\n\t\temit Transfer(_from, _to, _value);\n\t\tassert(balanceOf[_from].add(balanceOf[_to]) == previousBalances);\n\t}\n\n\t/**\n\t * @dev Create `mintedAmount` TAOCurrency and send it to `target`\n\t * @param target Address to receive TAOCurrency\n\t * @param mintedAmount The amount of TAOCurrency it will receive\n\t */\n\tfunction _mint(address target, uint256 mintedAmount) internal {\n\t\tbalanceOf[target] = balanceOf[target].add(mintedAmount);\n\t\ttotalSupply = totalSupply.add(mintedAmount);\n\t\temit Transfer(address(0), address(this), mintedAmount);\n\t\temit Transfer(address(this), target, mintedAmount);\n\t}\n}\n\n\n\n\n\ncontract Logos is TAOCurrency {\n\taddress public nameFactoryAddress;\n\taddress public nameAccountRecoveryAddress;\n\n\tINameFactory internal _nameFactory;\n\tINameTAOPosition internal _nameTAOPosition;\n\tINameAccountRecovery internal _nameAccountRecovery;\n\n\t// Mapping of a Name ID to the amount of Logos positioned by others to itself\n\t// address is the address of nameId, not the eth public address\n\tmapping (address => uint256) public positionFromOthers;\n\n\t// Mapping of Name ID to other Name ID and the amount of Logos positioned by itself\n\tmapping (address => mapping(address => uint256)) public positionOnOthers;\n\n\t// Mapping of a Name ID to the total amount of Logos positioned by itself on others\n\tmapping (address => uint256) public totalPositionOnOthers;\n\n\t// Mapping of Name ID to it's advocated TAO ID and the amount of Logos earned\n\tmapping (address => mapping(address => uint256)) public advocatedTAOLogos;\n\n\t// Mapping of a Name ID to the total amount of Logos earned from advocated TAO\n\tmapping (address => uint256) public totalAdvocatedTAOLogos;\n\n\t// Event broadcasted to public when `from` address position `value` Logos to `to`\n\tevent PositionFrom(address indexed from, address indexed to, uint256 value);\n\n\t// Event broadcasted to public when `from` address unposition `value` Logos from `to`\n\tevent UnpositionFrom(address indexed from, address indexed to, uint256 value);\n\n\t// Event broadcasted to public when `nameId` receives `amount` of Logos from advocating `taoId`\n\tevent AddAdvocatedTAOLogos(address indexed nameId, address indexed taoId, uint256 amount);\n\n\t// Event broadcasted to public when Logos from advocating `taoId` is transferred from `fromNameId` to `toNameId`\n\tevent TransferAdvocatedTAOLogos(address indexed fromNameId, address indexed toNameId, address indexed taoId, uint256 amount);\n\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor(string memory _name, string memory _symbol, address _nameFactoryAddress, address _nameTAOPositionAddress)\n\t\tTAOCurrency(_name, _symbol, _nameTAOPositionAddress) public {\n\t\tsetNameFactoryAddress(_nameFactoryAddress);\n\t\tsetNameTAOPositionAddress(_nameTAOPositionAddress);\n\t}\n\n\t/**\n\t * @dev Check if `_taoId` is a TAO\n\t */\n\tmodifier isTAO(address _taoId) {\n\t\trequire (AOLibrary.isTAO(_taoId));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if `_nameId` is a Name\n\t */\n\tmodifier isName(address _nameId) {\n\t\trequire (AOLibrary.isName(_nameId));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if msg.sender is the current advocate of _id\n\t */\n\tmodifier onlyAdvocate(address _id) {\n\t\trequire (_nameTAOPosition.senderIsAdvocate(msg.sender, _id));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Only allowed if Name is not compromised\n\t */\n\tmodifier nameNotCompromised(address _id) {\n\t\trequire (!_nameAccountRecovery.isCompromised(_id));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Only allowed if sender's Name is not compromised\n\t */\n\tmodifier senderNameNotCompromised() {\n\t\trequire (!_nameAccountRecovery.isCompromised(_nameFactory.ethAddressToNameId(msg.sender)));\n\t\t_;\n\t}\n\n\t/***** THE AO ONLY METHODS *****/\n\t/**\n\t * @dev The AO sets NameFactory address\n\t * @param _nameFactoryAddress The address of NameFactory\n\t */\n\tfunction setNameFactoryAddress(address _nameFactoryAddress) public onlyTheAO {\n\t\trequire (_nameFactoryAddress != address(0));\n\t\tnameFactoryAddress = _nameFactoryAddress;\n\t\t_nameFactory = INameFactory(_nameFactoryAddress);\n\t}\n\n\t/**\n\t * @dev The AO set the NameTAOPosition Address\n\t * @param _nameTAOPositionAddress The address of NameTAOPosition\n\t */\n\tfunction setNameTAOPositionAddress(address _nameTAOPositionAddress) public onlyTheAO {\n\t\trequire (_nameTAOPositionAddress != address(0));\n\t\tnameTAOPositionAddress = _nameTAOPositionAddress;\n\t\t_nameTAOPosition = INameTAOPosition(_nameTAOPositionAddress);\n\t}\n\n\t/**\n\t * @dev The AO set the NameAccountRecovery Address\n\t * @param _nameAccountRecoveryAddress The address of NameAccountRecovery\n\t */\n\tfunction setNameAccountRecoveryAddress(address _nameAccountRecoveryAddress) public onlyTheAO {\n\t\trequire (_nameAccountRecoveryAddress != address(0));\n\t\tnameAccountRecoveryAddress = _nameAccountRecoveryAddress;\n\t\t_nameAccountRecovery = INameAccountRecovery(nameAccountRecoveryAddress);\n\t}\n\n\t/***** PUBLIC METHODS *****/\n\t/**\n\t * @dev Get the total sum of Logos for an address\n\t * @param _target The address to check\n\t * @return The total sum of Logos (own + positioned + advocated TAOs)\n\t */\n\tfunction sumBalanceOf(address _target) public isName(_target) view returns (uint256) {\n\t\treturn balanceOf[_target].add(positionFromOthers[_target]).add(totalAdvocatedTAOLogos[_target]);\n\t}\n\n\t/**\n\t * @dev Return the amount of Logos that are available to be positioned on other\n\t * @param _sender The sender address to check\n\t * @return The amount of Logos that are available to be positioned on other\n\t */\n\tfunction availableToPositionAmount(address _sender) public isName(_sender) view returns (uint256) {\n\t\treturn balanceOf[_sender].sub(totalPositionOnOthers[_sender]);\n\t}\n\n\t/**\n\t * @dev `_from` Name position `_value` Logos onto `_to` Name\n\t *\n\t * @param _from The address of the sender\n\t * @param _to The address of the recipient\n\t * @param _value the amount to position\n\t * @return true on success\n\t */\n\tfunction positionFrom(address _from, address _to, uint256 _value) public isName(_from) isName(_to) nameNotCompromised(_from) nameNotCompromised(_to) onlyAdvocate(_from) senderNameNotCompromised returns (bool) {\n\t\trequire (_from != _to);\t// Can't position Logos to itself\n\t\trequire (availableToPositionAmount(_from) >= _value); // should have enough balance to position\n\t\trequire (positionFromOthers[_to].add(_value) >= positionFromOthers[_to]); // check for overflows\n\n\t\tpositionOnOthers[_from][_to] = positionOnOthers[_from][_to].add(_value);\n\t\ttotalPositionOnOthers[_from] = totalPositionOnOthers[_from].add(_value);\n\t\tpositionFromOthers[_to] = positionFromOthers[_to].add(_value);\n\n\t\temit PositionFrom(_from, _to, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev `_from` Name unposition `_value` Logos from `_to` Name\n\t *\n\t * @param _from The address of the sender\n\t * @param _to The address of the recipient\n\t * @param _value the amount to unposition\n\t * @return true on success\n\t */\n\tfunction unpositionFrom(address _from, address _to, uint256 _value) public isName(_from) isName(_to) nameNotCompromised(_from) nameNotCompromised(_to) onlyAdvocate(_from) senderNameNotCompromised returns (bool) {\n\t\trequire (_from != _to);\t// Can't unposition Logos to itself\n\t\trequire (positionOnOthers[_from][_to] >= _value);\n\n\t\tpositionOnOthers[_from][_to] = positionOnOthers[_from][_to].sub(_value);\n\t\ttotalPositionOnOthers[_from] = totalPositionOnOthers[_from].sub(_value);\n\t\tpositionFromOthers[_to] = positionFromOthers[_to].sub(_value);\n\n\t\temit UnpositionFrom(_from, _to, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev Add `_amount` logos earned from advocating a TAO `_taoId` to its Advocate\n\t * @param _taoId The ID of the advocated TAO\n\t * @param _amount the amount to reward\n\t * @return true on success\n\t */\n\tfunction addAdvocatedTAOLogos(address _taoId, uint256 _amount) public inWhitelist isTAO(_taoId) returns (bool) {\n\t\trequire (_amount > 0);\n\t\taddress _nameId = _nameTAOPosition.getAdvocate(_taoId);\n\n\t\tadvocatedTAOLogos[_nameId][_taoId] = advocatedTAOLogos[_nameId][_taoId].add(_amount);\n\t\ttotalAdvocatedTAOLogos[_nameId] = totalAdvocatedTAOLogos[_nameId].add(_amount);\n\n\t\temit AddAdvocatedTAOLogos(_nameId, _taoId, _amount);\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev Transfer logos earned from advocating a TAO `_taoId` from `_fromNameId` to the Advocate of `_taoId`\n\t * @param _fromNameId The ID of the Name that sends the Logos\n\t * @param _taoId The ID of the advocated TAO\n\t * @return true on success\n\t */\n\tfunction transferAdvocatedTAOLogos(address _fromNameId, address _taoId) public inWhitelist isName(_fromNameId) isTAO(_taoId) returns (bool) {\n\t\taddress _toNameId = _nameTAOPosition.getAdvocate(_taoId);\n\t\trequire (_fromNameId != _toNameId);\n\t\trequire (totalAdvocatedTAOLogos[_fromNameId] >= advocatedTAOLogos[_fromNameId][_taoId]);\n\n\t\tuint256 _amount = advocatedTAOLogos[_fromNameId][_taoId];\n\t\tadvocatedTAOLogos[_fromNameId][_taoId] = 0;\n\t\ttotalAdvocatedTAOLogos[_fromNameId] = totalAdvocatedTAOLogos[_fromNameId].sub(_amount);\n\t\tadvocatedTAOLogos[_toNameId][_taoId] = advocatedTAOLogos[_toNameId][_taoId].add(_amount);\n\t\ttotalAdvocatedTAOLogos[_toNameId] = totalAdvocatedTAOLogos[_toNameId].add(_amount);\n\n\t\temit TransferAdvocatedTAOLogos(_fromNameId, _toNameId, _taoId, _amount);\n\t\treturn true;\n\t}\n}\n\n\n\n/**\n * @title TAOFactory\n *\n * The purpose of this contract is to allow node to create TAO\n */\ncontract TAOFactory is TAOController, ITAOFactory {\n\tusing SafeMath for uint256;\n\n\taddress[] internal taos;\n\n\taddress public nameTAOLookupAddress;\n\taddress public aoSettingAddress;\n\taddress public logosAddress;\n\taddress public nameTAOVaultAddress;\n\taddress public taoAncestryAddress;\n\taddress public settingTAOId;\n\taddress public taoPoolAddress;\n\n\tINameTAOLookup internal _nameTAOLookup;\n\tIAOSetting internal _aoSetting;\n\tLogos internal _logos;\n\tITAOAncestry internal _taoAncestry;\n\tITAOPool internal _taoPool;\n\n\t// Mapping from TAO ID to its nonce\n\tmapping (address => uint256) internal _nonces;\n\n\t// Event to be broadcasted to public when Advocate creates a TAO\n\tevent CreateTAO(address indexed advocateId, address taoId, uint256 index, string name, address parent, uint8 parentTypeId);\n\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor(address _nameFactoryAddress)\n\t\tTAOController(_nameFactoryAddress) public {}\n\n\t/**\n\t * @dev Checks if calling address can update TAO's nonce\n\t */\n\tmodifier canUpdateNonce {\n\t\trequire (msg.sender == nameTAOPositionAddress || msg.sender == taoAncestryAddress || msg.sender == taoPoolAddress);\n\t\t_;\n\t}\n\n\t/***** The AO ONLY METHODS *****/\n\t/**\n\t * @dev The AO set the NameTAOLookup Address\n\t * @param _nameTAOLookupAddress The address of NameTAOLookup\n\t */\n\tfunction setNameTAOLookupAddress(address _nameTAOLookupAddress) public onlyTheAO {\n\t\trequire (_nameTAOLookupAddress != address(0));\n\t\tnameTAOLookupAddress = _nameTAOLookupAddress;\n\t\t_nameTAOLookup = INameTAOLookup(_nameTAOLookupAddress);\n\t}\n\n\t/**\n\t * @dev The AO set the AOSetting Address\n\t * @param _aoSettingAddress The address of AOSetting\n\t */\n\tfunction setAOSettingAddress(address _aoSettingAddress) public onlyTheAO {\n\t\trequire (_aoSettingAddress != address(0));\n\t\taoSettingAddress = _aoSettingAddress;\n\t\t_aoSetting = IAOSetting(_aoSettingAddress);\n\t}\n\n\t/**\n\t * @dev The AO set the Logos Address\n\t * @param _logosAddress The address of Logos\n\t */\n\tfunction setLogosAddress(address _logosAddress) public onlyTheAO {\n\t\trequire (_logosAddress != address(0));\n\t\tlogosAddress = _logosAddress;\n\t\t_logos = Logos(_logosAddress);\n\t}\n\n\t/**\n\t * @dev The AO set the NameTAOVault Address\n\t * @param _nameTAOVaultAddress The address of NameTAOVault\n\t */\n\tfunction setNameTAOVaultAddress(address _nameTAOVaultAddress) public onlyTheAO {\n\t\trequire (_nameTAOVaultAddress != address(0));\n\t\tnameTAOVaultAddress = _nameTAOVaultAddress;\n\t}\n\n\t/**\n\t * @dev The AO set the TAOAncestry Address\n\t * @param _taoAncestryAddress The address of TAOAncestry\n\t */\n\tfunction setTAOAncestryAddress(address _taoAncestryAddress) public onlyTheAO {\n\t\trequire (_taoAncestryAddress != address(0));\n\t\ttaoAncestryAddress = _taoAncestryAddress;\n\t\t_taoAncestry = ITAOAncestry(taoAncestryAddress);\n\t}\n\n\t/**\n\t * @dev The AO set settingTAOId (The TAO ID that holds the setting values)\n\t * @param _settingTAOId The address of settingTAOId\n\t */\n\tfunction setSettingTAOId(address _settingTAOId) public onlyTheAO isTAO(_settingTAOId) {\n\t\tsettingTAOId = _settingTAOId;\n\t}\n\n\t/**\n\t * @dev The AO set the TAOPool Address\n\t * @param _taoPoolAddress The address of TAOPool\n\t */\n\tfunction setTAOPoolAddress(address _taoPoolAddress) public onlyTheAO {\n\t\trequire (_taoPoolAddress != address(0));\n\t\ttaoPoolAddress = _taoPoolAddress;\n\t\t_taoPool = ITAOPool(taoPoolAddress);\n\t}\n\n\t/***** PUBLIC METHODS *****/\n\t/**\n\t * @dev Get the nonce given a TAO ID\n\t * @param _taoId The TAO ID to check\n\t * @return The nonce of the TAO\n\t */\n\tfunction nonces(address _taoId) external view returns (uint256) {\n\t\treturn _nonces[_taoId];\n\t}\n\n\t/**\n\t * @dev Increment the nonce of a TAO\n\t * @param _taoId The ID of the TAO\n\t * @return current nonce\n\t */\n\tfunction incrementNonce(address _taoId) external canUpdateNonce returns (uint256) {\n\t\t// Check if _taoId exist\n\t\trequire (_nonces[_taoId] > 0);\n\t\t_nonces[_taoId]++;\n\t\treturn _nonces[_taoId];\n\t}\n\n\t/**\n\t * @dev Name creates a TAO\n\t * @param _name The name of the TAO\n\t * @param _datHash The datHash of this TAO\n\t * @param _database The database for this TAO\n\t * @param _keyValue The key/value pair to be checked on the database\n\t * @param _contentId The contentId related to this TAO\n\t * @param _parentId The parent of this TAO (has to be a Name or TAO)\n\t * @param _childMinLogos The min required Logos to create a child from this TAO\n\t */\n\tfunction createTAO(\n\t\tstring memory _name,\n\t\tstring memory _datHash,\n\t\tstring memory _database,\n\t\tstring memory _keyValue,\n\t\tbytes32 _contentId,\n\t\taddress _parentId,\n\t\tuint256 _childMinLogos,\n\t\tbool _ethosCapStatus,\n\t\tuint256 _ethosCapAmount\n\t) public senderIsName senderNameNotCompromised isNameOrTAO(_parentId) {\n\t\trequire (bytes(_name).length > 0);\n\t\trequire (!_nameTAOLookup.isExist(_name));\n\n\t\tuint256 _nameSumLogos = _logos.sumBalanceOf(_nameFactory.ethAddressToNameId(msg.sender));\n\t\tif (AOLibrary.isTAO(_parentId)) {\n\t\t\t(, uint256 _parentCreateChildTAOMinLogos,) = _taoAncestry.getAncestryById(_parentId);\n\t\t\trequire (_nameSumLogos >= _parentCreateChildTAOMinLogos);\n\t\t} else {\n\t\t\trequire (_nameSumLogos >= _getCreateChildTAOMinLogos());\n\t\t}\n\n\t\t// Create the TAO\n\t\trequire (_createTAO(_name, _nameFactory.ethAddressToNameId(msg.sender), _datHash, _database, _keyValue, _contentId, _parentId, _childMinLogos, _ethosCapStatus, _ethosCapAmount));\n\t}\n\n\t/**\n\t * @dev Get TAO information\n\t * @param _taoId The ID of the TAO to be queried\n\t * @return The name of the TAO\n\t * @return The origin Name ID that created the TAO\n\t * @return The name of Name that created the TAO\n\t * @return The datHash of the TAO\n\t * @return The database of the TAO\n\t * @return The keyValue of the TAO\n\t * @return The contentId of the TAO\n\t * @return The typeId of the TAO\n\t */\n\tfunction getTAO(address _taoId) public view returns (string memory, address, string memory, string memory, string memory, string memory, bytes32, uint8) {\n\t\tTAO _tao = TAO(address(uint160(_taoId)));\n\t\treturn (\n\t\t\t_tao.name(),\n\t\t\t_tao.originId(),\n\t\t\tName(address(uint160(_tao.originId()))).name(),\n\t\t\t_tao.datHash(),\n\t\t\t_tao.database(),\n\t\t\t_tao.keyValue(),\n\t\t\t_tao.contentId(),\n\t\t\t_tao.typeId()\n\t\t);\n\t}\n\n\t/**\n\t * @dev Get total TAOs count\n\t * @return total TAOs count\n\t */\n\tfunction getTotalTAOsCount() public view returns (uint256) {\n\t\treturn taos.length;\n\t}\n\n\t/**\n\t * @dev Get list of TAO IDs\n\t * @param _from The starting index\n\t * @param _to The ending index\n\t * @return list of TAO IDs\n\t */\n\tfunction getTAOIds(uint256 _from, uint256 _to) public view returns (address[] memory) {\n\t\trequire (_from >= 0 && _to >= _from);\n\t\trequire (taos.length > 0);\n\n\t\taddress[] memory _taos = new address[](_to.sub(_from).add(1));\n\t\tif (_to > taos.length.sub(1)) {\n\t\t\t_to = taos.length.sub(1);\n\t\t}\n\t\tfor (uint256 i = _from; i <= _to; i++) {\n\t\t\t_taos[i.sub(_from)] = taos[i];\n\t\t}\n\t\treturn _taos;\n\t}\n\n\t/**\n\t * @dev Check whether or not the signature is valid\n\t * @param _data The signed string data\n\t * @param _nonce The signed uint256 nonce (should be TAO's current nonce + 1)\n\t * @param _validateAddress The ETH address to be validated (optional)\n\t * @param _name The Name of the TAO\n\t * @param _signatureV The V part of the signature\n\t * @param _signatureR The R part of the signature\n\t * @param _signatureS The S part of the signature\n\t * @return true if valid. false otherwise\n\t * @return The name of the Name that created the signature\n\t * @return The Position of the Name that created the signature.\n\t *\t\t\t0 == unknown. 1 == Advocate. 2 == Listener. 3 == Speaker\n\t */\n\tfunction validateTAOSignature(\n\t\tstring memory _data,\n\t\tuint256 _nonce,\n\t\taddress _validateAddress,\n\t\tstring memory _name,\n\t\tuint8 _signatureV,\n\t\tbytes32 _signatureR,\n\t\tbytes32 _signatureS\n\t) public isTAO(_getTAOIdByName(_name)) view returns (bool, string memory, uint256) {\n\t\taddress _signatureAddress = _getValidateSignatureAddress(_data, _nonce, _signatureV, _signatureR, _signatureS);\n\t\tif (_isTAOSignatureAddressValid(_validateAddress, _signatureAddress, _getTAOIdByName(_name), _nonce)) {\n\t\t\treturn (true, Name(address(uint160(_nameFactory.ethAddressToNameId(_signatureAddress)))).name(), _nameTAOPosition.determinePosition(_signatureAddress, _getTAOIdByName(_name)));\n\t\t} else {\n\t\t\treturn (false, \"\", 0);\n\t\t}\n\t}\n\n\t/***** INTERNAL METHOD *****/\n\t/**\n\t * @dev Actual creating the TAO\n\t * @param _name The name of the TAO\n\t * @param _nameId The ID of the Name that creates this TAO\n\t * @param _datHash The datHash of this TAO\n\t * @param _database The database for this TAO\n\t * @param _keyValue The key/value pair to be checked on the database\n\t * @param _contentId The contentId related to this TAO\n\t * @param _parentId The parent of this TAO (has to be a Name or TAO)\n\t * @param _childMinLogos The min required Logos to create a child from this TAO\n\t * @return true on success\n\t */\n\tfunction _createTAO(\n\t\tstring memory _name,\n\t\taddress _nameId,\n\t\tstring memory _datHash,\n\t\tstring memory _database,\n\t\tstring memory _keyValue,\n\t\tbytes32 _contentId,\n\t\taddress _parentId,\n\t\tuint256 _childMinLogos,\n\t\tbool _ethosCapStatus,\n\t\tuint256 _ethosCapAmount\n\t) internal returns (bool) {\n\t\t// Create the TAO\n\t\taddress taoId = address(AOLibrary.deployTAO(_name, _nameId, _datHash, _database, _keyValue, _contentId, nameTAOVaultAddress));\n\n\t\t// Increment the nonce\n\t\t_nonces[taoId]++;\n\n\t\t// Store the name lookup information\n\t\trequire (_nameTAOLookup.initialize(_name, taoId, 0, TAO(address(uint160(_parentId))).name(), _parentId, uint256(TAO(address(uint160(_parentId))).typeId())));\n\n\t\t// Store the Advocate/Listener/Speaker information\n\t\trequire (_nameTAOPosition.initialize(taoId, _nameId, _nameId, _nameId));\n\n\t\t// Store the \"Ancestry\" info of this TAO\n\t\trequire (_taoAncestry.initialize(taoId, _parentId, _childMinLogos));\n\n\t\t// Creat a Pool so that public can stake Ethos/Pathos on it\n\t\trequire (_taoPool.createPool(taoId, _ethosCapStatus, _ethosCapAmount));\n\n\t\ttaos.push(taoId);\n\n\t\temit CreateTAO(_nameId, taoId, taos.length.sub(1), _name, _parentId, TAO(address(uint160(_parentId))).typeId());\n\n\t\tif (AOLibrary.isTAO(_parentId)) {\n\t\t\trequire (_taoAncestry.addChild(_parentId, taoId));\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev Check whether or not the address recovered from the signature is valid\n\t * @param _validateAddress The ETH address to be validated (optional)\n\t * @param _signatureAddress The address recovered from the signature\n\t * @param _taoId The ID of the TAO\n\t * @param _nonce The signed uint256 nonce\n\t * @return true if valid. false otherwise\n\t */\n\tfunction _isTAOSignatureAddressValid(\n\t\taddress _validateAddress,\n\t\taddress _signatureAddress,\n\t\taddress _taoId,\n\t\tuint256 _nonce\n\t) internal view returns (bool) {\n\t\tif (_validateAddress != address(0)) {\n\t\t\treturn (_nonce == _nonces[_taoId].add(1) &&\n\t\t\t\t_signatureAddress == _validateAddress &&\n\t\t\t\t_nameTAOPosition.senderIsPosition(_validateAddress, _taoId)\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t_nonce == _nonces[_taoId].add(1) &&\n\t\t\t\t_nameTAOPosition.senderIsPosition(_signatureAddress, _taoId)\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * @dev Internal function to get the TAO Id by name\n\t * @param _name The name of the TAO\n\t * @return the TAO ID\n\t */\n\tfunction _getTAOIdByName(string memory _name) internal view returns (address) {\n\t\treturn _nameTAOLookup.getIdByName(_name);\n\t}\n\n\t/**\n\t * @dev Get createChildTAOMinLogos setting\n\t * @return createChildTAOMinLogos The minimum required Logos to create a TAO\n\t */\n\tfunction _getCreateChildTAOMinLogos() internal view returns (uint256) {\n\t\t(uint256 createChildTAOMinLogos,,,,) = _aoSetting.getSettingValuesByTAOName(settingTAOId, 'createChildTAOMinLogos');\n\t\treturn createChildTAOMinLogos;\n\t}\n\n\t/**\n\t * @dev Return the address that signed the data and nonce when validating signature\n\t * @param _data the data that was signed\n\t * @param _nonce The signed uint256 nonce\n\t * @param _v part of the signature\n\t * @param _r part of the signature\n\t * @param _s part of the signature\n\t * @return the address that signed the message\n\t */\n\tfunction _getValidateSignatureAddress(string memory _data, uint256 _nonce, uint8 _v, bytes32 _r, bytes32 _s) internal view returns (address) {\n\t\tbytes32 _hash = keccak256(abi.encodePacked(address(this), _data, _nonce));\n\t\treturn ecrecover(_hash, _v, _r, _s);\n\t}\n}",
  "abi": "[{\"constant\":false,\"inputs\":[{\"name\":\"_aoSettingAddress\",\"type\":\"address\"}],\"name\":\"setAOSettingAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"aoSettingAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nameAccountRecoveryAddress\",\"type\":\"address\"}],\"name\":\"setNameAccountRecoveryAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"taoPoolAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nameTAOVaultAddress\",\"type\":\"address\"}],\"name\":\"setNameTAOVaultAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"logosAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nameTAOPositionAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_account\",\"type\":\"address\"},{\"name\":\"_whitelist\",\"type\":\"bool\"}],\"name\":\"setWhitelist\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nameTAOPositionAddress\",\"type\":\"address\"}],\"name\":\"setNameTAOPositionAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_taoAncestryAddress\",\"type\":\"address\"}],\"name\":\"setTAOAncestryAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"}],\"name\":\"nonces\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_taoPoolAddress\",\"type\":\"address\"}],\"name\":\"setTAOPoolAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nameFactoryAddress\",\"type\":\"address\"}],\"name\":\"setNameFactoryAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"whitelist\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTotalTAOsCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nameAccountRecoveryAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"theAO\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"taoAncestryAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nameTAOVaultAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nameFactoryAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_datHash\",\"type\":\"string\"},{\"name\":\"_database\",\"type\":\"string\"},{\"name\":\"_keyValue\",\"type\":\"string\"},{\"name\":\"_contentId\",\"type\":\"bytes32\"},{\"name\":\"_parentId\",\"type\":\"address\"},{\"name\":\"_childMinLogos\",\"type\":\"uint256\"},{\"name\":\"_ethosCapStatus\",\"type\":\"bool\"},{\"name\":\"_ethosCapAmount\",\"type\":\"uint256\"}],\"name\":\"createTAO\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_settingTAOId\",\"type\":\"address\"}],\"name\":\"setSettingTAOId\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_from\",\"type\":\"uint256\"},{\"name\":\"_to\",\"type\":\"uint256\"}],\"name\":\"getTAOIds\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"}],\"name\":\"getTAO\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"bytes32\"},{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nameTAOLookupAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"settingTAOId\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_data\",\"type\":\"string\"},{\"name\":\"_nonce\",\"type\":\"uint256\"},{\"name\":\"_validateAddress\",\"type\":\"address\"},{\"name\":\"_name\",\"type\":\"string\"},{\"name\":\"_signatureV\",\"type\":\"uint8\"},{\"name\":\"_signatureR\",\"type\":\"bytes32\"},{\"name\":\"_signatureS\",\"type\":\"bytes32\"}],\"name\":\"validateTAOSignature\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_theAO\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"}],\"name\":\"incrementNonce\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nameTAOLookupAddress\",\"type\":\"address\"}],\"name\":\"setNameTAOLookupAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_logosAddress\",\"type\":\"address\"}],\"name\":\"setLogosAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_nameFactoryAddress\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"advocateId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"taoId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"parent\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"parentTypeId\",\"type\":\"uint8\"}],\"name\":\"CreateTAO\",\"type\":\"event\"}]",
  "bytecode": "60806040523480156200001157600080fd5b5060405160208062003ab0833981018060405260208110156200003357600080fd5b505160008054600160a060020a03191633179055806200005c8164010000000062000064810204565b505062000169565b600054600154604080517ff66afcac000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b158015620000ed57600080fd5b505af415801562000102573d6000803e3d6000fd5b505050506040513d60208110156200011957600080fd5b505115156200012757600080fd5b600160a060020a03811615156200013d57600080fd5b60038054600160a060020a03909216600160a060020a0319928316811790915560058054909216179055565b61393780620001796000396000f3fe608060405234801561001057600080fd5b50600436106101e95760003560e060020a90048063a4e5fad211610113578063da8ad6b6116100a6578063f2fde38b11610075578063f2fde38b14610b47578063f5743c4c14610b6d578063fc86202714610b93578063ff3781c614610bb9576101e9565b8063da8ad6b6146106fd578063df2721f014610960578063e7c5018514610968578063ed9c7c1114610970576101e9565b8063bc406206116100e2578063bc406206146103fe578063cd2e322a14610406578063d6830af314610664578063da3986e41461068a576101e9565b8063a4e5fad2146103de578063a9b6b38e146103e6578063af6ddc10146103ee578063afb2dd87146103f6576101e9565b806353d6fd591161018b57806381a468931161015a57806381a46893146103505780638c924361146103765780639b19251a1461039c5780639d0e0cd3146103d6576101e9565b806353d6fd591461029e5780635cfaf2ef146102cc5780637767d034146102f25780637ecebe0014610318576101e9565b8063213beccb116101c7578063213beccb146102605780633670832e1461026857806338da7de71461028e5780634ef033f014610296576101e9565b806306fd7088146101ee5780631d0138ff146102165780631dfde2bd1461023a575b600080fd5b6102146004803603602081101561020457600080fd5b5035600160a060020a0316610bdf565b005b61021e610cc9565b60408051600160a060020a039092168252519081900360200190f35b6102146004803603602081101561025057600080fd5b5035600160a060020a0316610cd8565b61021e610dc5565b6102146004803603602081101561027e57600080fd5b5035600160a060020a0316610dd4565b61021e610eb4565b61021e610ec3565b610214600480360360408110156102b457600080fd5b50600160a060020a0381351690602001351515610ed2565b610214600480360360208110156102e257600080fd5b5035600160a060020a0316610fbb565b6102146004803603602081101561030857600080fd5b5035600160a060020a03166110a5565b61033e6004803603602081101561032e57600080fd5b5035600160a060020a0316611192565b60408051918252519081900360200190f35b6102146004803603602081101561036657600080fd5b5035600160a060020a03166111ad565b6102146004803603602081101561038c57600080fd5b5035600160a060020a031661129a565b6103c2600480360360208110156103b257600080fd5b5035600160a060020a0316611384565b604080519115158252519081900360200190f35b61033e611399565b61021e61139f565b61021e6113ae565b61021e6113bd565b61021e6113cc565b61021e6113db565b610214600480360361012081101561041d57600080fd5b81019060208101813564010000000081111561043857600080fd5b82018360208201111561044a57600080fd5b8035906020019184600183028401116401000000008311171561046c57600080fd5b91908080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092959493602081019350359150506401000000008111156104bf57600080fd5b8201836020820111156104d157600080fd5b803590602001918460018302840111640100000000831117156104f357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929594936020810193503591505064010000000081111561054657600080fd5b82018360208201111561055857600080fd5b8035906020019184600183028401116401000000008311171561057a57600080fd5b91908080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092959493602081019350359150506401000000008111156105cd57600080fd5b8201836020820111156105df57600080fd5b8035906020019184600183028401116401000000008311171561060157600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550508235935050600160a060020a0360208301351691604081013591506060810135151590608001356113ea565b6102146004803603602081101561067a57600080fd5b5035600160a060020a0316611a99565b6106ad600480360360408110156106a057600080fd5b5080359060200135611c01565b60408051602080825283518183015283519192839290830191858101910280838360005b838110156106e95781810151838201526020016106d1565b505050509050019250505060405180910390f35b6107236004803603602081101561071357600080fd5b5035600160a060020a0316611d1e565b604051808060200189600160a060020a0316600160a060020a03168152602001806020018060200180602001806020018881526020018760ff1660ff16815260200186810386528e818151815260200191508051906020019080838360005b8381101561079a578181015183820152602001610782565b50505050905090810190601f1680156107c75780820380516001836020036101000a031916815260200191505b5086810385528c5181528c516020918201918e019080838360005b838110156107fa5781810151838201526020016107e2565b50505050905090810190601f1680156108275780820380516001836020036101000a031916815260200191505b5086810384528b5181528b516020918201918d019080838360005b8381101561085a578181015183820152602001610842565b50505050905090810190601f1680156108875780820380516001836020036101000a031916815260200191505b5086810383528a5181528a516020918201918c019080838360005b838110156108ba5781810151838201526020016108a2565b50505050905090810190601f1680156108e75780820380516001836020036101000a031916815260200191505b5086810382528951815289516020918201918b019080838360005b8381101561091a578181015183820152602001610902565b50505050905090810190601f1680156109475780820380516001836020036101000a031916815260200191505b509d505050505050505050505050505060405180910390f35b61021e612327565b61021e612336565b610ac0600480360360e081101561098657600080fd5b8101906020810181356401000000008111156109a157600080fd5b8201836020820111156109b357600080fd5b803590602001918460018302840111640100000000831117156109d557600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295843595600160a060020a0360208701351695919450925060608101915060400135640100000000811115610a3d57600080fd5b820183602082011115610a4f57600080fd5b80359060200191846001830284011164010000000083111715610a7157600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295505060ff8335169350505060208101359060400135612345565b604080518415158152908101829052606060208083018281528551928401929092528451608084019186019080838360005b83811015610b0a578181015183820152602001610af2565b50505050905090810190601f168015610b375780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b61021460048036036020811015610b5d57600080fd5b5035600160a060020a0316612656565b61033e60048036036020811015610b8357600080fd5b5035600160a060020a0316612736565b61021460048036036020811015610ba957600080fd5b5035600160a060020a03166127c3565b61021460048036036020811015610bcf57600080fd5b5035600160a060020a03166128ad565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b158015610c5157600080fd5b505af4158015610c65573d6000803e3d6000fd5b505050506040513d6020811015610c7b57600080fd5b50511515610c8857600080fd5b600160a060020a0381161515610c9d57600080fd5b600a8054600160a060020a03909216600160a060020a0319928316811790915560118054909216179055565b600a54600160a060020a031681565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b158015610d4a57600080fd5b505af4158015610d5e573d6000803e3d6000fd5b505050506040513d6020811015610d7457600080fd5b50511515610d8157600080fd5b600160a060020a0381161515610d9657600080fd5b60048054600160a060020a0319908116600160a060020a03938416179182905560078054929093169116179055565b600f54600160a060020a031681565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b158015610e4657600080fd5b505af4158015610e5a573d6000803e3d6000fd5b505050506040513d6020811015610e7057600080fd5b50511515610e7d57600080fd5b600160a060020a0381161515610e9257600080fd5b600c8054600160a060020a031916600160a060020a0392909216919091179055565b600b54600160a060020a031681565b600154600160a060020a031681565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b158015610f4457600080fd5b505af4158015610f58573d6000803e3d6000fd5b505050506040513d6020811015610f6e57600080fd5b50511515610f7b57600080fd5b600160a060020a0382161515610f9057600080fd5b600160a060020a03919091166000908152600260205260409020805460ff1916911515919091179055565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b15801561102d57600080fd5b505af4158015611041573d6000803e3d6000fd5b505050506040513d602081101561105757600080fd5b5051151561106457600080fd5b600160a060020a038116151561107957600080fd5b60018054600160a060020a03909216600160a060020a0319928316811790915560068054909216179055565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b15801561111757600080fd5b505af415801561112b573d6000803e3d6000fd5b505050506040513d602081101561114157600080fd5b5051151561114e57600080fd5b600160a060020a038116151561116357600080fd5b600d8054600160a060020a0319908116600160a060020a03938416179182905560138054929093169116179055565b600160a060020a031660009081526015602052604090205490565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b15801561121f57600080fd5b505af4158015611233573d6000803e3d6000fd5b505050506040513d602081101561124957600080fd5b5051151561125657600080fd5b600160a060020a038116151561126b57600080fd5b600f8054600160a060020a0319908116600160a060020a03938416179182905560148054929093169116179055565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b15801561130c57600080fd5b505af4158015611320573d6000803e3d6000fd5b505050506040513d602081101561133657600080fd5b5051151561134357600080fd5b600160a060020a038116151561135857600080fd5b60038054600160a060020a03909216600160a060020a0319928316811790915560058054909216179055565b60026020526000908152604090205460ff1681565b60085490565b600454600160a060020a031681565b600054600160a060020a031681565b600d54600160a060020a031681565b600c54600160a060020a031681565b600354600160a060020a031681565b6005546040805160e060020a63029b7d530281523360048201529051600092600160a060020a03169163029b7d53916024808301926020929190829003018186803b15801561143857600080fd5b505afa15801561144c573d6000803e3d6000fd5b505050506040513d602081101561146257600080fd5b5051600160a060020a0316141561147857600080fd5b6007546005546040805160e060020a63029b7d530281523360048201529051600160a060020a0393841693633ebc2ab393169163029b7d53916024808301926020929190829003018186803b1580156114d057600080fd5b505afa1580156114e4573d6000803e3d6000fd5b505050506040513d60208110156114fa57600080fd5b50516040805160e060020a63ffffffff8516028152600160a060020a039092166004830152516024808301926020929190829003018186803b15801561153f57600080fd5b505afa158015611553573d6000803e3d6000fd5b505050506040513d602081101561156957600080fd5b50511561157557600080fd5b83731150d53299abb7de27464d01b626728f5c840229632d706a34826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b1580156115da57600080fd5b505af41580156115ee573d6000803e3d6000fd5b505050506040513d602081101561160457600080fd5b50518061169657506040805160e260020a630bf29505028152600160a060020a03831660048201529051731150d53299abb7de27464d01b626728f5c84022991632fca5414916024808301926020929190829003018186803b15801561166957600080fd5b505af415801561167d573d6000803e3d6000fd5b505050506040513d602081101561169357600080fd5b50515b15156116a157600080fd5b89516000106116af57600080fd5b6010546040517f4d3d096b0000000000000000000000000000000000000000000000000000000081526020600482018181528d5160248401528d51600160a060020a0390941693634d3d096b938f9383926044909201919085019080838360005b83811015611728578181015183820152602001611710565b50505050905090810190601f1680156117555780820380516001836020036101000a031916815260200191505b509250505060206040518083038186803b15801561177257600080fd5b505afa158015611786573d6000803e3d6000fd5b505050506040513d602081101561179c57600080fd5b5051156117a857600080fd5b6012546005546040805160e060020a63029b7d530281523360048201529051600093600160a060020a039081169363985e4cd09391169163029b7d5391602480820192602092909190829003018186803b15801561180557600080fd5b505afa158015611819573d6000803e3d6000fd5b505050506040513d602081101561182f57600080fd5b50516040805160e060020a63ffffffff8516028152600160a060020a039092166004830152516024808301926020929190829003018186803b15801561187457600080fd5b505afa158015611888573d6000803e3d6000fd5b505050506040513d602081101561189e57600080fd5b50516040805160e260020a630bf29505028152600160a060020a03891660048201529051919250731150d53299abb7de27464d01b626728f5c84022991632fca541491602480820192602092909190829003018186803b15801561190157600080fd5b505af4158015611915573d6000803e3d6000fd5b505050506040513d602081101561192b57600080fd5b5051156119e057601354604080517f7b23a437000000000000000000000000000000000000000000000000000000008152600160a060020a03898116600483015291516000939290921691637b23a43791602480820192606092909190829003018186803b15801561199c57600080fd5b505afa1580156119b0573d6000803e3d6000fd5b505050506040513d60608110156119c657600080fd5b50602001519050808210156119da57600080fd5b506119f4565b6119e8612997565b8110156119f457600080fd5b6005546040805160e060020a63029b7d530281523360048201529051611a81928e92600160a060020a039091169163029b7d5391602480820192602092909190829003018186803b158015611a4857600080fd5b505afa158015611a5c573d6000803e3d6000fd5b505050506040513d6020811015611a7257600080fd5b50518c8c8c8c8c8c8c8c612ae5565b1515611a8c57600080fd5b5050505050505050505050565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b158015611b0b57600080fd5b505af4158015611b1f573d6000803e3d6000fd5b505050506040513d6020811015611b3557600080fd5b50511515611b4257600080fd5b80731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b158015611ba757600080fd5b505af4158015611bbb573d6000803e3d6000fd5b505050506040513d6020811015611bd157600080fd5b50511515611bde57600080fd5b50600e8054600160a060020a031916600160a060020a0392909216919091179055565b606060008310158015611c145750828210155b1515611c1f57600080fd5b600854600010611c2e57600080fd5b6060611c516001611c45858763ffffffff61354116565b9063ffffffff61355316565b604051908082528060200260200182016040528015611c7a578160200160208202803883390190505b50600854909150611c9290600163ffffffff61354116565b831115611cb057600854611cad90600163ffffffff61354116565b92505b835b838111611d16576008805482908110611cc757fe5b600091825260209091200154600160a060020a031682611ced838863ffffffff61354116565b81518110611cf757fe5b600160a060020a03909216602092830290910190910152600101611cb2565b509392505050565b60606000606080606080600080600089905080600160a060020a03166306fdde036040518163ffffffff1660e060020a02815260040160006040518083038186803b158015611d6c57600080fd5b505afa158015611d80573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015611da957600080fd5b810190808051640100000000811115611dc157600080fd5b82016020810184811115611dd457600080fd5b8151640100000000811182820187101715611dee57600080fd5b505092919050505081600160a060020a03166313866efa6040518163ffffffff1660e060020a02815260040160206040518083038186803b158015611e3257600080fd5b505afa158015611e46573d6000803e3d6000fd5b505050506040513d6020811015611e5c57600080fd5b5051604080517f13866efa0000000000000000000000000000000000000000000000000000000081529051600160a060020a038516916313866efa916004808301926020929190829003018186803b158015611eb757600080fd5b505afa158015611ecb573d6000803e3d6000fd5b505050506040513d6020811015611ee157600080fd5b5051604080517f06fdde030000000000000000000000000000000000000000000000000000000081529051600160a060020a03909216916306fdde0391600480820192600092909190829003018186803b158015611f3e57600080fd5b505afa158015611f52573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015611f7b57600080fd5b810190808051640100000000811115611f9357600080fd5b82016020810184811115611fa657600080fd5b8151640100000000811182820187101715611fc057600080fd5b505092919050505083600160a060020a031663056847906040518163ffffffff1660e060020a02815260040160006040518083038186803b15801561200457600080fd5b505afa158015612018573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561204157600080fd5b81019080805164010000000081111561205957600080fd5b8201602081018481111561206c57600080fd5b815164010000000081118282018710171561208657600080fd5b505092919050505084600160a060020a031663713b563f6040518163ffffffff1660e060020a02815260040160006040518083038186803b1580156120ca57600080fd5b505afa1580156120de573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561210757600080fd5b81019080805164010000000081111561211f57600080fd5b8201602081018481111561213257600080fd5b815164010000000081118282018710171561214c57600080fd5b505092919050505085600160a060020a031663a727be576040518163ffffffff1660e060020a02815260040160006040518083038186803b15801561219057600080fd5b505afa1580156121a4573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405260208110156121cd57600080fd5b8101908080516401000000008111156121e557600080fd5b820160208101848111156121f857600080fd5b815164010000000081118282018710171561221257600080fd5b505092919050505086600160a060020a031663d97aa9776040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561225657600080fd5b505afa15801561226a573d6000803e3d6000fd5b505050506040513d602081101561228057600080fd5b5051604080517f8f940f630000000000000000000000000000000000000000000000000000000081529051600160a060020a038a1691638f940f63916004808301926020929190829003018186803b1580156122db57600080fd5b505afa1580156122ef573d6000803e3d6000fd5b505050506040513d602081101561230557600080fd5b5051969f50949d50929b50909950975095509350915050919395975091939597565b600954600160a060020a031681565b600e54600160a060020a031681565b60006060600061235487613566565b6040805160e260020a630bf29505028152600160a060020a03831660048201529051731150d53299abb7de27464d01b626728f5c84022991632fca5414916024808301926020929190829003018186803b1580156123b157600080fd5b505af41580156123c5573d6000803e3d6000fd5b505050506040513d60208110156123db57600080fd5b505115156123e857600080fd5b60006123f78c8c8a8a8a613659565b905061240d8a826124078c613566565b8e61375f565b1561262f576005546040805160e060020a63029b7d53028152600160a060020a0384811660048301529151600193929092169163029b7d5391602480820192602092909190829003018186803b15801561246657600080fd5b505afa15801561247a573d6000803e3d6000fd5b505050506040513d602081101561249057600080fd5b5051604080517f06fdde030000000000000000000000000000000000000000000000000000000081529051600160a060020a03909216916306fdde0391600480820192600092909190829003018186803b1580156124ed57600080fd5b505afa158015612501573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561252a57600080fd5b81019080805164010000000081111561254257600080fd5b8201602081018481111561255557600080fd5b815164010000000081118282018710171561256f57600080fd5b5050600654909350600160a060020a03169150637a1d66dd9050846125938e613566565b6040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182600160a060020a0316600160a060020a031681526020019250505060206040518083038186803b1580156125f557600080fd5b505afa158015612609573d6000803e3d6000fd5b505050506040513d602081101561261f57600080fd5b5051919650945092506126489050565b5060408051602081019091526000808252945092508391505b509750975097945050505050565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b1580156126c857600080fd5b505af41580156126dc573d6000803e3d6000fd5b505050506040513d60208110156126f257600080fd5b505115156126ff57600080fd5b600160a060020a038116151561271457600080fd5b60008054600160a060020a031916600160a060020a0392909216919091179055565b600154600090600160a060020a031633148061275c5750600d54600160a060020a031633145b806127715750600f54600160a060020a031633145b151561277c57600080fd5b600160a060020a0382166000908152601560205260408120541161279f57600080fd5b50600160a060020a0316600090815260156020526040902080546001019081905590565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b15801561283557600080fd5b505af4158015612849573d6000803e3d6000fd5b505050506040513d602081101561285f57600080fd5b5051151561286c57600080fd5b600160a060020a038116151561288157600080fd5b60098054600160a060020a03909216600160a060020a0319928316811790915560108054909216179055565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b15801561291f57600080fd5b505af4158015612933573d6000803e3d6000fd5b505050506040513d602081101561294957600080fd5b5051151561295657600080fd5b600160a060020a038116151561296b57600080fd5b600b8054600160a060020a03909216600160a060020a0319928316811790915560128054909216179055565b601154600e54604080517f7065bedc000000000000000000000000000000000000000000000000000000008152600160a060020a03928316600482015260248101829052601660448201527f6372656174654368696c6454414f4d696e4c6f676f73000000000000000000006064820152905160009384931691637065bedc9160848083019286929190829003018186803b158015612a3557600080fd5b505afa158015612a49573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405260a0811015612a7257600080fd5b815160208301516040840151606085015160808601805194969395929491939283019291640100000000811115612aa857600080fd5b82016020810184811115612abb57600080fd5b8151640100000000811182820187101715612ad557600080fd5b5097995050505050505050505090565b600080731150d53299abb7de27464d01b626728f5c84022963b49ec3e18d8d8d8d8d8d600c60009054906101000a9004600160a060020a03166040518863ffffffff1660e060020a028152600401808060200188600160a060020a0316600160a060020a0316815260200180602001806020018060200187815260200186600160a060020a0316600160a060020a0316815260200185810385528c818151815260200191508051906020019080838360005b83811015612baf578181015183820152602001612b97565b50505050905090810190601f168015612bdc5780820380516001836020036101000a031916815260200191505b5085810384528a5181528a516020918201918c019080838360005b83811015612c0f578181015183820152602001612bf7565b50505050905090810190601f168015612c3c5780820380516001836020036101000a031916815260200191505b5085810383528951815289516020918201918b019080838360005b83811015612c6f578181015183820152602001612c57565b50505050905090810190601f168015612c9c5780820380516001836020036101000a031916815260200191505b5085810382528851815288516020918201918a019080838360005b83811015612ccf578181015183820152602001612cb7565b50505050905090810190601f168015612cfc5780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060206040518083038186803b158015612d2257600080fd5b505af4158015612d36573d6000803e3d6000fd5b505050506040513d6020811015612d4c57600080fd5b810190808051906020019092919050505090506015600082600160a060020a0316600160a060020a0316815260200190815260200160002060008154809291906001019190505550601060009054906101000a9004600160a060020a0316600160a060020a031663aaa9165a8d8360008a600160a060020a03166306fdde036040518163ffffffff1660e060020a02815260040160006040518083038186803b158015612df857600080fd5b505afa158015612e0c573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015612e3557600080fd5b810190808051640100000000811115612e4d57600080fd5b82016020810184811115612e6057600080fd5b8151640100000000811182820187101715612e7a57600080fd5b50509291905050508b8c600160a060020a0316638f940f636040518163ffffffff1660e060020a02815260040160206040518083038186803b158015612ebf57600080fd5b505afa158015612ed3573d6000803e3d6000fd5b505050506040513d6020811015612ee957600080fd5b505160405160e060020a63ffffffff8916028152600160a060020a038087166024830152604482018690528316608482015260ff90911660a4820181905260c060048301908152875160c48401528751919290918291606481019160e49091019060208b019080838360005b83811015612f6d578181015183820152602001612f55565b50505050905090810190601f168015612f9a5780820380516001836020036101000a031916815260200191505b50838103825286518152865160209182019188019080838360005b83811015612fcd578181015183820152602001612fb5565b50505050905090810190601f168015612ffa5780820380516001836020036101000a031916815260200191505b5098505050505050505050602060405180830381600087803b15801561301f57600080fd5b505af1158015613033573d6000803e3d6000fd5b505050506040513d602081101561304957600080fd5b5051151561305657600080fd5b600654604080517ff8c8765e000000000000000000000000000000000000000000000000000000008152600160a060020a0384811660048301528e8116602483018190526044830181905260648301529151919092169163f8c8765e9160848083019260209291908290030181600087803b1580156130d457600080fd5b505af11580156130e8573d6000803e3d6000fd5b505050506040513d60208110156130fe57600080fd5b5051151561310b57600080fd5b601354604080517f1794bb3c000000000000000000000000000000000000000000000000000000008152600160a060020a03848116600483015289811660248301526044820189905291519190921691631794bb3c9160648083019260209291908290030181600087803b15801561318257600080fd5b505af1158015613196573d6000803e3d6000fd5b505050506040513d60208110156131ac57600080fd5b505115156131b957600080fd5b601454604080517f698b7764000000000000000000000000000000000000000000000000000000008152600160a060020a0384811660048301528715156024830152604482018790529151919092169163698b77649160648083019260209291908290030181600087803b15801561323057600080fd5b505af1158015613244573d6000803e3d6000fd5b505050506040513d602081101561325a57600080fd5b5051151561326757600080fd5b600880546001808201835560008390527ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee39091018054600160a060020a031916600160a060020a03858116919091179091559154918d16917fb697896750ac1a99a4124cef2a6414383c846012e3ff18b232ae5d91230a9e329184916132ec91613541565b8f8a8b600160a060020a0316638f940f636040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561332a57600080fd5b505afa15801561333e573d6000803e3d6000fd5b505050506040513d602081101561335457600080fd5b505160408051600160a060020a0380881682526020828101889052908516606083015260ff8416608083015260a0928201838152865193830193909352855191929160c084019187019080838360005b838110156133bc5781810151838201526020016133a4565b50505050905090810190601f1680156133e95780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a26040805160e260020a630bf29505028152600160a060020a03881660048201529051731150d53299abb7de27464d01b626728f5c84022991632fca5414916024808301926020929190829003018186803b15801561345757600080fd5b505af415801561346b573d6000803e3d6000fd5b505050506040513d602081101561348157600080fd5b50511561352f57601354604080517f8bd0ba67000000000000000000000000000000000000000000000000000000008152600160a060020a038981166004830152848116602483015291519190921691638bd0ba679160448083019260209291908290030181600087803b1580156134f857600080fd5b505af115801561350c573d6000803e3d6000fd5b505050506040513d602081101561352257600080fd5b5051151561352f57600080fd5b5060019b9a5050505050505050505050565b60008282111561354d57fe5b50900390565b8181018281101561356057fe5b92915050565b6010546040517f1367944b000000000000000000000000000000000000000000000000000000008152602060048201818152845160248401528451600094600160a060020a031693631367944b938793928392604401918501908083838b5b838110156135dd5781810151838201526020016135c5565b50505050905090810190601f16801561360a5780820380516001836020036101000a031916815260200191505b509250505060206040518083038186803b15801561362757600080fd5b505afa15801561363b573d6000803e3d6000fd5b505050506040513d602081101561365157600080fd5b505192915050565b6000803087876040516020018084600160a060020a0316600160a060020a03166c0100000000000000000000000002815260140183805190602001908083835b602083106136b85780518252601f199092019160209182019101613699565b51815160209384036101000a6000190180199092169116179052920193845250604080518085038152848301808352815191840191909120600090915281850180835281905260ff8c166060860152608085018b905260a085018a905290519096506001955060c080850195509193601f198201935081900390910190855afa158015613749573d6000803e3d6000fd5b5050604051601f19015198975050505050505050565b6000600160a060020a0385161561386257600160a060020a03831660009081526015602052604090205461379a90600163ffffffff61355316565b821480156137b9575084600160a060020a031684600160a060020a0316145b801561385b5750600654604080517fe2c8e54a000000000000000000000000000000000000000000000000000000008152600160a060020a03888116600483015286811660248301529151919092169163e2c8e54a916044808301926020929190829003018186803b15801561382e57600080fd5b505afa158015613842573d6000803e3d6000fd5b505050506040513d602081101561385857600080fd5b50515b9050613903565b600160a060020a03831660009081526015602052604090205461388c90600163ffffffff61355316565b8214801561385b5750600654604080517fe2c8e54a000000000000000000000000000000000000000000000000000000008152600160a060020a03878116600483015286811660248301529151919092169163e2c8e54a916044808301926020929190829003018186803b15801561382e57600080fd5b94935050505056fea165627a7a723058205ac5725af6ddc394b3547372f4a6d953145c2406528f1f7760c15ad4f8055b9e002900000000000000000000000010fbf61e4cce57d72eed8b5d9728134ce374bd82",
  "constructorArguments": "00000000000000000000000010fbf61e4cce57d72eed8b5d9728134ce374bd82",
  "libraries": [
    {
      "name": "AOLibrary",
      "address": "0x1150d53299Abb7DE27464D01B626728f5c840229"
    }
  ]
}