{
  "address": "0xb79afd748d6c9c6eef9e40cc601004843108d89a",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "Swaps",
  "compilerVersion": "v0.5.7+commit.6da8b019",
  "optimization": true,
  "runs": "200",
  "evmVersion": "byzantium",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-05-06\n*/\n\n/*\n * This file was generated by MyWish Platform (https://mywish.io/)\n * The complete code could be found at https://github.com/MyWishPlatform/\n * Copyright (C) 2018 MyWish\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\npragma solidity ^0.5.7;\n\n/**\n * @title Ownable\n * @dev The Ownable contract has an owner address, and provides basic authorization control\n * functions, this simplifies the implementation of \"user permissions\".\n */\ncontract Ownable {\n    address private _owner;\n\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n    /**\n     * @dev The Ownable constructor sets the original `owner` of the contract to the sender\n     * account.\n     */\n    constructor () internal {\n        _owner = msg.sender;\n        emit OwnershipTransferred(address(0), _owner);\n    }\n\n    /**\n     * @return the address of the owner.\n     */\n    function owner() public view returns (address) {\n        return _owner;\n    }\n\n    /**\n     * @dev Throws if called by any account other than the owner.\n     */\n    modifier onlyOwner() {\n        require(isOwner());\n        _;\n    }\n\n    /**\n     * @return true if `msg.sender` is the owner of the contract.\n     */\n    function isOwner() public view returns (bool) {\n        return msg.sender == _owner;\n    }\n\n    /**\n     * @dev Allows the current owner to relinquish control of the contract.\n     * It will not be possible to call the functions with the `onlyOwner`\n     * modifier anymore.\n     * @notice Renouncing ownership will leave the contract without an owner,\n     * thereby removing any functionality that is only available to the owner.\n     */\n    function renounceOwnership() public onlyOwner {\n        emit OwnershipTransferred(_owner, address(0));\n        _owner = address(0);\n    }\n\n    /**\n     * @dev Allows the current owner to transfer control of the contract to a newOwner.\n     * @param newOwner The address to transfer ownership to.\n     */\n    function transferOwnership(address newOwner) public onlyOwner {\n        _transferOwnership(newOwner);\n    }\n\n    /**\n     * @dev Transfers control of the contract to a newOwner.\n     * @param newOwner The address to transfer ownership to.\n     */\n    function _transferOwnership(address newOwner) internal {\n        require(newOwner != address(0));\n        emit OwnershipTransferred(_owner, newOwner);\n        _owner = newOwner;\n    }\n}\n\n\n/**\n * @title ERC20 interface without bool returns\n * @dev see https://eips.ethereum.org/EIPS/eip-20\n */\ninterface IERC20 {\n    function transfer(address to, uint256 value) external;\n\n    function approve(address spender, uint256 value) external;\n\n    function transferFrom(address from, address to, uint256 value) external;\n\n    function totalSupply() external view returns (uint256);\n\n    function balanceOf(address who) external view returns (uint256);\n\n    function allowance(address owner, address spender) external view returns (uint256);\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n}\n\n\n/**\n * @title Helps contracts guard against reentrancy attacks.\n * @author Remco Bloemen <[email protected]π.com>, Eenae <[email protected]>\n * @dev If you mark a function `nonReentrant`, you should also\n * mark it `external`.\n */\ncontract ReentrancyGuard {\n    /// @dev counter to allow mutex lock with only one SSTORE operation\n    uint256 private _guardCounter;\n\n    constructor () internal {\n        // The counter starts at one to prevent changing it from zero to a non-zero\n        // value, which is a more expensive operation.\n        _guardCounter = 1;\n    }\n\n    /**\n     * @dev Prevents a contract from calling itself, directly or indirectly.\n     * Calling a `nonReentrant` function from another `nonReentrant`\n     * function is not supported. It is possible to prevent this from happening\n     * by making the `nonReentrant` function external, and make it call a\n     * `private` function that does the actual work.\n     */\n    modifier nonReentrant() {\n        _guardCounter += 1;\n        uint256 localCounter = _guardCounter;\n        _;\n        require(localCounter == _guardCounter);\n    }\n}\n\n\n/**\n * @title SafeMath\n * @dev Unsigned math operations with safety checks that revert on error\n */\nlibrary SafeMath {\n    /**\n     * @dev Multiplies two unsigned integers, reverts on overflow.\n     */\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n        // benefit is lost if 'b' is also tested.\n        // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n        if (a == 0) {\n            return 0;\n        }\n\n        uint256 c = a * b;\n        require(c / a == b);\n\n        return c;\n    }\n\n    /**\n     * @dev Integer division of two unsigned integers truncating the quotient, reverts on division by zero.\n     */\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n        // Solidity only automatically asserts when dividing by 0\n        require(b > 0);\n        uint256 c = a / b;\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n\n        return c;\n    }\n\n    /**\n     * @dev Subtracts two unsigned integers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n     */\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n        require(b <= a);\n        uint256 c = a - b;\n\n        return c;\n    }\n\n    /**\n     * @dev Adds two unsigned integers, reverts on overflow.\n     */\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n        uint256 c = a + b;\n        require(c >= a);\n\n        return c;\n    }\n\n    /**\n     * @dev Divides two unsigned integers and returns the remainder (unsigned integer modulo),\n     * reverts when dividing by zero.\n     */\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n        require(b != 0);\n        return a % b;\n    }\n}\n\n\ninterface ISwaps {\n    function createOrder(\n        bytes32 _id,\n        address _baseAddress,\n        address _quoteAddress,\n        uint _baseLimit,\n        uint _quoteLimit,\n        uint _expirationTimestamp,\n        address _baseOnlyInvestor,\n        uint _minBaseInvestment,\n        uint _minQuoteInvestment\n    ) external;\n\n    function deposit(\n        bytes32 _id,\n        address _token,\n        uint _amount\n    ) payable external;\n\n    function cancel(bytes32 _id) external;\n\n    function refund(bytes32 _id, address _token) external;\n}\n\n\ncontract Vault is Ownable {\n    address public swaps;\n\n    modifier onlySwaps() {\n        require(msg.sender == swaps);\n        _;\n    }\n\n    function () external payable {\n    }\n\n    function tokenFallback(address, uint, bytes calldata) external {\n    }\n\n    function setSwaps(address _swaps) public onlyOwner {\n        swaps = _swaps;\n    }\n\n    function withdraw(address _token, address _receiver, uint _amount) public onlySwaps {\n        if (_token == address(0)) {\n            address(uint160(_receiver)).transfer(_amount);\n        } else {\n            IERC20(_token).transfer(_receiver, _amount);\n        }\n    }\n}\n\n\ncontract Swaps is Ownable, ISwaps, ReentrancyGuard {\n    using SafeMath for uint;\n\n    uint public MAX_INVESTORS = 10;\n\n    Vault public vault;\n    mapping (bytes32 => address) public baseOnlyInvestor;\n    mapping (bytes32 => address) public owners;\n    mapping (bytes32 => address) public baseAddresses;\n    mapping (bytes32 => address) public quoteAddresses;\n    mapping (bytes32 => uint) public expirationTimestamps;\n    mapping (bytes32 => bool) public isSwapped;\n    mapping (bytes32 => bool) public isCancelled;\n    mapping (bytes32 => mapping (address => uint)) public limits;\n    mapping (bytes32 => mapping (address => uint)) public raised;\n    mapping (bytes32 => mapping (address => address[])) public investors;\n    mapping (bytes32 => mapping (address => mapping (address => uint))) public investments;\n    mapping (bytes32 => mapping (address => uint)) public minInvestments;\n\n    modifier onlyInvestor(bytes32 _id, address _token) {\n        require(_isInvestor(_id, _token, msg.sender), \"Allowed only for investors\");\n        _;\n    }\n\n    modifier onlyWhenVaultDefined() {\n        require(address(vault) != address(0), \"Vault is not defined\");\n        _;\n    }\n\n    modifier onlyOrderOwner(bytes32 _id) {\n        require(msg.sender == owners[_id], \"Allowed only for owner\");\n        _;\n    }\n\n    modifier onlyWhenOrderExists(bytes32 _id) {\n        require(owners[_id] != address(0), \"Order doesn't exist\");\n        _;\n    }\n\n    event OrderCreated(\n        bytes32 id,\n        address owner,\n        address baseAddress,\n        address quoteAddress,\n        uint baseLimit,\n        uint quoteLimit,\n        uint expirationTimestamp,\n        address baseOnlyInvestor,\n        uint minBaseInvestment,\n        uint minQuoteInvestment\n    );\n\n    event OrderCancelled(bytes32 id);\n\n    event Deposit(\n        bytes32 id,\n        address token,\n        address user,\n        uint amount,\n        uint balance\n    );\n\n    event Refund(\n        bytes32 id,\n        address token,\n        address user,\n        uint amount\n    );\n\n    event OrderSwapped(\n        bytes32 id,\n        address byUser\n    );\n\n    event SwapSend(\n        bytes32 id,\n        address token,\n        address user,\n        uint amount\n    );\n\n    function tokenFallback(address, uint, bytes calldata) external {\n    }\n\n    function createOrder(\n        bytes32 _id,\n        address _baseAddress,\n        address _quoteAddress,\n        uint _baseLimit,\n        uint _quoteLimit,\n        uint _expirationTimestamp,\n        address _baseOnlyInvestor,\n        uint _minBaseInvestment,\n        uint _minQuoteInvestment\n    )\n        external\n        nonReentrant\n        onlyWhenVaultDefined\n    {\n        require(owners[_id] == address(0), \"Order already exists\");\n        require(_baseAddress != _quoteAddress, \"Exchanged tokens must be different\");\n        require(_baseLimit > 0, \"Base limit must be positive\");\n        require(_quoteLimit > 0, \"Quote limit must be positive\");\n        require(_expirationTimestamp > now, \"Expiration time must be in future\");\n\n        owners[_id] = msg.sender;\n        baseAddresses[_id] = _baseAddress;\n        quoteAddresses[_id] = _quoteAddress;\n        expirationTimestamps[_id] = _expirationTimestamp;\n        limits[_id][_baseAddress] = _baseLimit;\n        limits[_id][_quoteAddress] = _quoteLimit;\n        baseOnlyInvestor[_id] = _baseOnlyInvestor;\n        minInvestments[_id][_baseAddress] = _minBaseInvestment;\n        minInvestments[_id][_quoteAddress] = _minQuoteInvestment;\n\n        emit OrderCreated(\n            _id,\n            msg.sender,\n            _baseAddress,\n            _quoteAddress,\n            _baseLimit,\n            _quoteLimit,\n            _expirationTimestamp,\n            _baseOnlyInvestor,\n            _minBaseInvestment,\n            _minQuoteInvestment\n        );\n    }\n\n    function deposit(\n        bytes32 _id,\n        address _token,\n        uint _amount\n    )\n        payable\n        external\n        nonReentrant\n        onlyWhenVaultDefined\n        onlyWhenOrderExists(_id)\n    {\n        if (_token == address(0)) {\n            require(msg.value == _amount, \"Payable value should be equals value\");\n            address(vault).transfer(msg.value);\n        } else {\n            require(msg.value == 0, \"Payable not allowed here\");\n            uint allowance = IERC20(_token).allowance(msg.sender, address(this));\n            require(_amount <= allowance, \"Allowance should be not less than amount\");\n            IERC20(_token).transferFrom(msg.sender, address(vault), _amount);\n        }\n        _deposit(_id, _token, msg.sender, _amount);\n    }\n\n    function cancel(bytes32 _id)\n        external\n        nonReentrant\n        onlyOrderOwner(_id)\n        onlyWhenVaultDefined\n        onlyWhenOrderExists(_id)\n    {\n        require(!isCancelled[_id], \"Already cancelled\");\n        require(!isSwapped[_id], \"Already swapped\");\n\n        address[2] memory tokens = [baseAddresses[_id], quoteAddresses[_id]];\n        for (uint t = 0; t < tokens.length; t++) {\n            address token = tokens[t];\n            for (uint u = 0; u < investors[_id][token].length; u++) {\n                address user = investors[_id][token][u];\n                uint userInvestment = investments[_id][token][user];\n                vault.withdraw(token, user, userInvestment);\n            }\n        }\n\n        isCancelled[_id] = true;\n        emit OrderCancelled(_id);\n    }\n\n    function refund(bytes32 _id, address _token)\n        external\n        nonReentrant\n        onlyInvestor(_id, _token)\n        onlyWhenVaultDefined\n        onlyWhenOrderExists(_id)\n    {\n        require(!isSwapped[_id], \"Already swapped\");\n        address user = msg.sender;\n        uint investment = investments[_id][_token][user];\n        if (investment > 0) {\n            delete investments[_id][_token][user];\n        }\n\n        _removeInvestor(investors[_id][_token], user);\n\n        if (investment > 0) {\n            raised[_id][_token] = raised[_id][_token].sub(investment);\n            vault.withdraw(_token, user, investment);\n        }\n\n        emit Refund(_id, _token, user, investment);\n    }\n\n    function setVault(Vault _vault) external onlyOwner {\n        vault = _vault;\n    }\n\n    function createKey(address _owner)\n        public\n        view\n        returns (bytes32 result)\n    {\n        uint creationTime = now;\n        result = 0x0000000000000000000000000000000000000000000000000000000000000000;\n        assembly {\n            result := or(result, mul(_owner, 0x1000000000000000000000000))\n            result := or(result, and(creationTime, 0xffffffffffffffffffffffff))\n        }\n    }\n\n    function baseLimit(bytes32 _id)\n        public\n        view\n        returns (uint)\n    {\n        return limits[_id][baseAddresses[_id]];\n    }\n\n    function quoteLimit(bytes32 _id)\n        public\n        view\n        returns (uint)\n    {\n        return limits[_id][quoteAddresses[_id]];\n    }\n\n    function baseRaised(bytes32 _id)\n        public\n        view\n        returns (uint)\n    {\n        return raised[_id][baseAddresses[_id]];\n    }\n\n    function quoteRaised(bytes32 _id)\n        public\n        view\n        returns (uint)\n    {\n        return raised[_id][quoteAddresses[_id]];\n    }\n\n    function isBaseFilled(bytes32 _id)\n        public\n        view\n        returns (bool)\n    {\n        return raised[_id][baseAddresses[_id]] == limits[_id][baseAddresses[_id]];\n    }\n\n    function isQuoteFilled(bytes32 _id)\n        public\n        view\n        returns (bool)\n    {\n        return raised[_id][quoteAddresses[_id]] == limits[_id][quoteAddresses[_id]];\n    }\n\n    function baseInvestors(bytes32 _id)\n        public\n        view\n        returns (address[] memory)\n    {\n        return investors[_id][baseAddresses[_id]];\n    }\n\n    function quoteInvestors(bytes32 _id)\n        public\n        view\n        returns (address[] memory)\n    {\n        return investors[_id][quoteAddresses[_id]];\n    }\n\n    function baseUserInvestment(bytes32 _id, address _user)\n        public\n        view\n        returns (uint)\n    {\n        return investments[_id][baseAddresses[_id]][_user];\n    }\n\n    function quoteUserInvestment(bytes32 _id, address _user)\n        public\n        view\n        returns (uint)\n    {\n        return investments[_id][quoteAddresses[_id]][_user];\n    }\n\n    function _swap(bytes32 _id) internal {\n        require(!isSwapped[_id], \"Already swapped\");\n        require(!isCancelled[_id], \"Already cancelled\");\n        require(isBaseFilled(_id), \"Base tokens not filled\");\n        require(isQuoteFilled(_id), \"Quote tokens not filled\");\n        require(now <= expirationTimestamps[_id], \"Contract expired\");\n\n        _distribute(_id, baseAddresses[_id], quoteAddresses[_id]);\n        _distribute(_id, quoteAddresses[_id], baseAddresses[_id]);\n\n        isSwapped[_id] = true;\n        emit OrderSwapped(_id, msg.sender);\n    }\n\n    function _distribute(bytes32 _id, address _aSide, address _bSide) internal {\n        uint remainder = raised[_id][_bSide];\n        for (uint i = 0; i < investors[_id][_aSide].length; i++) {\n            address user = investors[_id][_aSide][i];\n            uint toPay;\n            // last\n            if (i + 1 == investors[_id][_aSide].length) {\n                toPay = remainder;\n            } else {\n                uint aSideRaised = raised[_id][_aSide];\n                uint userInvestment = investments[_id][_aSide][user];\n                uint bSideRaised = raised[_id][_bSide];\n                toPay = userInvestment.mul(bSideRaised).div(aSideRaised);\n                remainder = remainder.sub(toPay);\n            }\n\n            vault.withdraw(_bSide, user, toPay);\n            emit SwapSend(_id, _bSide, user, toPay);\n        }\n    }\n\n    function _removeInvestor(address[] storage _array, address _investor) internal {\n        uint idx = _array.length - 1;\n        for (uint i = 0; i < _array.length - 1; i++) {\n            if (_array[i] == _investor) {\n                idx = i;\n                break;\n            }\n        }\n\n        _array[idx] = _array[_array.length - 1];\n        delete _array[_array.length - 1];\n        _array.length--;\n    }\n\n    function _deposit(\n        bytes32 _id,\n        address _token,\n        address _from,\n        uint _amount\n    ) internal {\n        uint amount = _amount;\n        require(baseAddresses[_id] == _token || quoteAddresses[_id] == _token, \"You can deposit only base or quote currency\");\n        require(raised[_id][_token] < limits[_id][_token], \"Limit already reached\");\n        require(now <= expirationTimestamps[_id], \"Contract expired\");\n        if (baseAddresses[_id] == _token && baseOnlyInvestor[_id] != address(0)) {\n            require(msg.sender == baseOnlyInvestor[_id], \"Allowed only for specified address\");\n        }\n        if (limits[_id][_token].sub(raised[_id][_token]) > minInvestments[_id][_token]) {\n            require(_amount >= minInvestments[_id][_token], \"Should not be less than minimum value\");\n        }\n\n        if (!_isInvestor(_id, _token, _from)) {\n            require(investors[_id][_token].length < MAX_INVESTORS, \"Too many investors\");\n            investors[_id][_token].push(_from);\n        }\n\n        uint raisedWithOverflow = raised[_id][_token].add(amount);\n        if (raisedWithOverflow > limits[_id][_token]) {\n            uint overflow = raisedWithOverflow.sub(limits[_id][_token]);\n            vault.withdraw(_token, _from, overflow);\n            amount = amount.sub(overflow);\n        }\n\n        investments[_id][_token][_from] = investments[_id][_token][_from].add(amount);\n\n        raised[_id][_token] = raised[_id][_token].add(amount);\n        emit Deposit(\n            _id,\n            _token,\n            _from,\n            amount,\n            investments[_id][_token][_from]\n        );\n\n        if (isBaseFilled(_id) && isQuoteFilled(_id)) {\n            _swap(_id);\n        }\n    }\n\n    function _isInvestor(\n        bytes32 _id,\n        address _token,\n        address _who\n    )\n        internal\n        view\n        returns (bool)\n    {\n        return investments[_id][_token][_who] > 0;\n    }\n}",
  "bytecode": "60806040819052600a60025560008054600160a060020a0319163317808255600160a060020a0316917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a360018055612cb7806100606000396000f3fe608060405260043610610221576000357c01000000000000000000000000000000000000000000000000000000009004806398285aad11610135578063ccc109e2116100bd578063d954863c1161008c578063d954863c14610893578063e63bc8c0146108c5578063f2fde38b146108ef578063fb8ad6ff14610922578063fbfa77cf1461094c57610221565b8063ccc109e2146107b6578063ce997f88146107ef578063d3cd2cd814610830578063d53713671461085a57610221565b8063b1ebc0d611610104578063b1ebc0d614610673578063c0ee0b8a1461069d578063c3b038591461072f578063c4d252f514610759578063ca54f06d1461078357610221565b806398285aad1461058a5780639a5d4407146105f5578063a8a4a9631461061f578063ae760c5c1461064957610221565b80636707bb06116101b8578063715018a611610187578063715018a6146104d3578063844ab3f8146104e857806389584c27146105275780638da5cb5b146105605780638f32d59b1461057557610221565b80636707bb06146104285780636817031b146104615780636a29f539146104945780636a34480b146104be57610221565b80632fc29c66116101f45780632fc29c661461031f5780633e6fa6bb1461034957806345b4032c146103c35780635dde3df2146103fe57610221565b8063073a0f9214610226578063196c3fbf1461027157806325008c97146102af578063250b6048146102f5575b600080fd5b34801561023257600080fd5b5061025f6004803603604081101561024957600080fd5b5080359060200135600160a060020a0316610961565b60408051918252519081900360200190f35b34801561027d57600080fd5b5061029b6004803603602081101561029457600080fd5b503561097e565b604080519115158252519081900360200190f35b3480156102bb57600080fd5b506102d9600480360360208110156102d257600080fd5b5035610993565b60408051600160a060020a039092168252519081900360200190f35b34801561030157600080fd5b5061025f6004803603602081101561031857600080fd5b50356109ae565b34801561032b57600080fd5b506102d96004803603602081101561034257600080fd5b50356109c0565b34801561035557600080fd5b506103736004803603602081101561036c57600080fd5b50356109db565b60408051602080825283518183015283519192839290830191858101910280838360005b838110156103af578181015183820152602001610397565b505050509050019250505060405180910390f35b3480156103cf57600080fd5b506103fc600480360360408110156103e657600080fd5b5080359060200135600160a060020a0316610a5f565b005b34801561040a57600080fd5b5061025f6004803603602081101561042157600080fd5b5035610db0565b34801561043457600080fd5b5061025f6004803603604081101561044b57600080fd5b5080359060200135600160a060020a0316610ddd565b34801561046d57600080fd5b506103fc6004803603602081101561048457600080fd5b5035600160a060020a0316610dfa565b3480156104a057600080fd5b5061029b600480360360208110156104b757600080fd5b5035610e3a565b3480156104ca57600080fd5b5061025f610e7d565b3480156104df57600080fd5b506103fc610e83565b3480156104f457600080fd5b506102d96004803603606081101561050b57600080fd5b50803590600160a060020a036020820135169060400135610eeb565b34801561053357600080fd5b5061025f6004803603604081101561054a57600080fd5b5080359060200135600160a060020a0316610f2d565b34801561056c57600080fd5b506102d9610f4a565b34801561058157600080fd5b5061029b610f5a565b34801561059657600080fd5b506103fc60048036036101208110156105ae57600080fd5b50803590600160a060020a036020820135811691604081013582169160608201359160808101359160a08201359160c08101359091169060e0810135906101000135610f6b565b34801561060157600080fd5b5061029b6004803603602081101561061857600080fd5b503561143a565b34801561062b57600080fd5b5061025f6004803603602081101561064257600080fd5b503561144f565b34801561065557600080fd5b506103736004803603602081101561066c57600080fd5b503561147c565b34801561067f57600080fd5b5061025f6004803603602081101561069657600080fd5b50356114fe565b3480156106a957600080fd5b506103fc600480360360608110156106c057600080fd5b600160a060020a03823516916020810135918101906060810160408201356401000000008111156106f057600080fd5b82018360208201111561070257600080fd5b8035906020019184600183028401116401000000008311171561072457600080fd5b50909250905061152b565b34801561073b57600080fd5b5061025f6004803603602081101561075257600080fd5b5035611531565b34801561076557600080fd5b506103fc6004803603602081101561077c57600080fd5b503561155e565b34801561078f57600080fd5b5061025f600480360360208110156107a657600080fd5b5035600160a060020a0316611946565b3480156107c257600080fd5b5061025f600480360360408110156107d957600080fd5b5080359060200135600160a060020a0316611968565b3480156107fb57600080fd5b5061025f6004803603606081101561081257600080fd5b50803590600160a060020a03602082013581169160400135166119a6565b34801561083c57600080fd5b5061029b6004803603602081101561085357600080fd5b50356119c9565b34801561086657600080fd5b5061025f6004803603604081101561087d57600080fd5b5080359060200135600160a060020a0316611a0c565b6103fc600480360360608110156108a957600080fd5b50803590600160a060020a036020820135169060400135611a45565b3480156108d157600080fd5b506102d9600480360360208110156108e857600080fd5b5035611d71565b3480156108fb57600080fd5b506103fc6004803603602081101561091257600080fd5b5035600160a060020a0316611d8c565b34801561092e57600080fd5b506102d96004803603602081101561094557600080fd5b5035611da9565b34801561095857600080fd5b506102d9611dc4565b600c60209081526000928352604080842090915290825290205481565b60096020526000908152604090205460ff1681565b600760205260009081526040902054600160a060020a031681565b60086020526000908152604090205481565b600460205260009081526040902054600160a060020a031681565b6000818152600d602090815260408083206007835281842054600160a060020a03168452825291829020805483518184028101840190945280845260609392830182828015610a5357602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311610a35575b50505050509050919050565b600180548101908190558282610a76828233611dd3565b610aca576040805160e560020a62461bcd02815260206004820152601a60248201527f416c6c6f776564206f6e6c7920666f7220696e766573746f7273000000000000604482015290519081900360640190fd5b600354600160a060020a0316610b18576040805160e560020a62461bcd0281526020600482015260146024820152600080516020612bb4833981519152604482015290519081900360640190fd5b6000858152600560205260409020548590600160a060020a0316610b86576040805160e560020a62461bcd02815260206004820152601360248201527f4f7264657220646f65736e277420657869737400000000000000000000000000604482015290519081900360640190fd5b60008681526009602052604090205460ff1615610bed576040805160e560020a62461bcd02815260206004820152600f60248201527f416c726561647920737761707065640000000000000000000000000000000000604482015290519081900360640190fd5b6000868152600e60209081526040808320600160a060020a03891684528252808320338085529252909120548015610c4f576000888152600e60209081526040808320600160a060020a03808c16855290835281842090861684529091528120555b6000888152600d60209081526040808320600160a060020a038b1684529091529020610c7b9083611e05565b8015610d48576000888152600c60209081526040808320600160a060020a038b168452909152902054610cb4908263ffffffff611f1716565b6000898152600c60209081526040808320600160a060020a03808d168086529190935281842094909455600354815160e160020a636ce576890281526004810195909552868316602486015260448501869052905191169263d9caed1292606480830193919282900301818387803b158015610d2f57600080fd5b505af1158015610d43573d6000803e3d6000fd5b505050505b60408051898152600160a060020a03808a1660208301528416818301526060810183905290517f5b2a5a92e7e0aa7bcf044d10a942ae5f1213049cacda790715f50bb32f503fa79181900360800190a150505050506001548114610dab57600080fd5b505050565b6000908152600c602090815260408083206007835281842054600160a060020a0316845290915290205490565b600b60209081526000928352604080842090915290825290205481565b610e02610f5a565b610e0b57600080fd5b6003805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6000818152600b602090815260408083206007835281842054600160a060020a031680855290835281842054948452600c83528184209084529091529020541490565b60025481565b610e8b610f5a565b610e9457600080fd5b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600d6020528260005260406000206020528160005260406000208181548110610f1057fe5b600091825260209091200154600160a060020a0316925083915050565b600f60209081526000928352604080842090915290825290205481565b600054600160a060020a03165b90565b600054600160a060020a0316331490565b60018054810190819055600354600160a060020a0316610fc3576040805160e560020a62461bcd0281526020600482015260146024820152600080516020612bb4833981519152604482015290519081900360640190fd5b60008a815260056020526040902054600160a060020a031615611030576040805160e560020a62461bcd02815260206004820152601460248201527f4f7264657220616c726561647920657869737473000000000000000000000000604482015290519081900360640190fd5b87600160a060020a031689600160a060020a031614156110845760405160e560020a62461bcd028152600401808060200182810382526022815260200180612c6a6022913960400191505060405180910390fd5b600087116110dc576040805160e560020a62461bcd02815260206004820152601b60248201527f42617365206c696d6974206d75737420626520706f7369746976650000000000604482015290519081900360640190fd5b60008611611134576040805160e560020a62461bcd02815260206004820152601c60248201527f51756f7465206c696d6974206d75737420626520706f73697469766500000000604482015290519081900360640190fd5b4285116111755760405160e560020a62461bcd028152600401808060200182810382526021815260200180612b936021913960400191505060405180910390fd5b33600560008c815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a0316021790555088600660008c815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a0316021790555087600760008c815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a0316021790555084600860008c81526020019081526020016000208190555086600b60008c815260200190815260200160002060008b600160a060020a0316600160a060020a031681526020019081526020016000208190555085600b60008c815260200190815260200160002060008a600160a060020a0316600160a060020a031681526020019081526020016000208190555083600460008c815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a0316021790555082600f60008c815260200190815260200160002060008b600160a060020a0316600160a060020a031681526020019081526020016000208190555081600f60008c815260200190815260200160002060008a600160a060020a0316600160a060020a03168152602001908152602001600020819055507fe2cd050c0379c0cb14e606b00e50adbc91d6aecf9a688eea56fa93684b8b43108a338b8b8b8b8b8b8b8b604051808b81526020018a600160a060020a0316600160a060020a0316815260200189600160a060020a0316600160a060020a0316815260200188600160a060020a0316600160a060020a0316815260200187815260200186815260200185815260200184600160a060020a0316600160a060020a031681526020018381526020018281526020019a505050505050505050505060405180910390a1600154811461142e57600080fd5b50505050505050505050565b600a6020526000908152604090205460ff1681565b6000908152600b602090815260408083206006835281842054600160a060020a0316845290915290205490565b6000818152600d602090815260408083206006835281842054600160a060020a03168452825291829020805483518184028101840190945280845260609392830182828015610a5357602002820191906000526020600020908154600160a060020a03168152600190910190602001808311610a355750505050509050919050565b6000908152600c602090815260408083206006835281842054600160a060020a0316845290915290205490565b50505050565b6000908152600b602090815260408083206007835281842054600160a060020a0316845290915290205490565b600180548101908190556000828152600560205260409020548290600160a060020a031633146115d8576040805160e560020a62461bcd02815260206004820152601660248201527f416c6c6f776564206f6e6c7920666f72206f776e657200000000000000000000604482015290519081900360640190fd5b600354600160a060020a0316611626576040805160e560020a62461bcd0281526020600482015260146024820152600080516020612bb4833981519152604482015290519081900360640190fd5b6000838152600560205260409020548390600160a060020a0316611694576040805160e560020a62461bcd02815260206004820152601360248201527f4f7264657220646f65736e277420657869737400000000000000000000000000604482015290519081900360640190fd5b6000848152600a602052604090205460ff16156116fb576040805160e560020a62461bcd02815260206004820152601160248201527f416c72656164792063616e63656c6c6564000000000000000000000000000000604482015290519081900360640190fd5b60008481526009602052604090205460ff1615611762576040805160e560020a62461bcd02815260206004820152600f60248201527f416c726561647920737761707065640000000000000000000000000000000000604482015290519081900360640190fd5b61176a612b0f565b5060408051808201825260008681526006602090815283822054600160a060020a039081168452888352600782529382205490931692820192909252905b60028110156118e25760008282600281106117bf57fe5b6020020151905060005b6000888152600d60209081526040808320600160a060020a03861684529091529020548110156118d8576000888152600d60209081526040808320600160a060020a0386168452909152812080548390811061182157fe5b60009182526020808320909101548b8352600e82526040808420600160a060020a038881168087529185528286209381168087529390945281852054600354835160e160020a636ce5768902815260048101939093526024830185905260448301829052925193965094919093169263d9caed12926064808301939282900301818387803b1580156118b257600080fd5b505af11580156118c6573d6000803e3d6000fd5b5050600190940193506117c992505050565b50506001016117a8565b506000858152600a6020908152604091829020805460ff19166001179055815187815291517f5152abf959f6564662358c2e52b702259b78bac5ee7842a0f01937e670efcc7d9281900390910190a1505050600154811461194257600080fd5b5050565b6c0100000000000000000000000002426bffffffffffffffffffffffff161790565b6000828152600e602090815260408083206006835281842054600160a060020a03908116855290835281842090851684529091529020545b92915050565b600e60209081526000938452604080852082529284528284209052825290205481565b6000818152600b602090815260408083206006835281842054600160a060020a031680855290835281842054948452600c83528184209084529091529020541490565b6000918252600e602090815260408084206007835281852054600160a060020a0390811686529083528185209316845291905290205490565b60018054810190819055600354600160a060020a0316611a9d576040805160e560020a62461bcd0281526020600482015260146024820152600080516020612bb4833981519152604482015290519081900360640190fd5b6000848152600560205260409020548490600160a060020a0316611b0b576040805160e560020a62461bcd02815260206004820152601360248201527f4f7264657220646f65736e277420657869737400000000000000000000000000604482015290519081900360640190fd5b600160a060020a038416611b9957823414611b5a5760405160e560020a62461bcd028152600401808060200182810382526024815260200180612bd46024913960400191505060405180910390fd5b600354604051600160a060020a03909116903480156108fc02916000818181858888f19350505050158015611b93573d6000803e3d6000fd5b50611d56565b3415611bef576040805160e560020a62461bcd02815260206004820152601860248201527f50617961626c65206e6f7420616c6c6f77656420686572650000000000000000604482015290519081900360640190fd5b604080517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523360048201523060248201529051600091600160a060020a0387169163dd62ed3e91604480820192602092909190829003018186803b158015611c5857600080fd5b505afa158015611c6c573d6000803e3d6000fd5b505050506040513d6020811015611c8257600080fd5b5051905080841115611cc85760405160e560020a62461bcd028152600401808060200182810382526028815260200180612b6b6028913960400191505060405180910390fd5b600354604080517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a039283166024820152604481018790529051918716916323b872dd9160648082019260009290919082900301818387803b158015611d3c57600080fd5b505af1158015611d50573d6000803e3d6000fd5b50505050505b611d6285853386611f2c565b50600154811461152b57600080fd5b600660205260009081526040902054600160a060020a031681565b611d94610f5a565b611d9d57600080fd5b611da681612564565b50565b600560205260009081526040902054600160a060020a031681565b600354600160a060020a031681565b6000928352600e60209081526040808520600160a060020a039485168652825280852092909316845252902054151590565b81546000190160005b835460001901811015611e5c5782600160a060020a0316848281548110611e3157fe5b600091825260209091200154600160a060020a03161415611e5457809150611e5c565b600101611e0e565b50825483906000198101908110611e6f57fe5b9060005260206000200160009054906101000a9004600160a060020a0316838281548110611e9957fe5b6000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055825483906000198101908110611ee157fe5b6000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff19169055825461152b846000198301612b2d565b600082821115611f2657600080fd5b50900390565b6000848152600660205260409020548190600160a060020a0385811691161480611f6f5750600085815260076020526040902054600160a060020a038581169116145b611fad5760405160e560020a62461bcd02815260040180806020018281038252602b815260200180612c3f602b913960400191505060405180910390fd5b6000858152600b60209081526040808320600160a060020a03881680855290835281842054898552600c84528285209185529252909120541061203a576040805160e560020a62461bcd02815260206004820152601560248201527f4c696d697420616c726561647920726561636865640000000000000000000000604482015290519081900360640190fd5b6000858152600860205260409020544211156120a0576040805160e560020a62461bcd02815260206004820152601060248201527f436f6e7472616374206578706972656400000000000000000000000000000000604482015290519081900360640190fd5b600085815260066020526040902054600160a060020a0385811691161480156120df5750600085815260046020526040902054600160a060020a031615155b1561213c57600085815260046020526040902054600160a060020a0316331461213c5760405160e560020a62461bcd028152600401808060200182810382526022815260200180612c1d6022913960400191505060405180910390fd5b6000858152600f60209081526040808320600160a060020a03881680855290835281842054898552600c84528285208286528452828520548a8652600b855283862092865291909352922054909161219a919063ffffffff611f1716565b1115612204576000858152600f60209081526040808320600160a060020a03881684529091529020548210156122045760405160e560020a62461bcd028152600401808060200182810382526025815260200180612bf86025913960400191505060405180910390fd5b61220f858585611dd3565b6122e5576002546000868152600d60209081526040808320600160a060020a03891684529091529020541061228e576040805160e560020a62461bcd02815260206004820152601260248201527f546f6f206d616e7920696e766573746f72730000000000000000000000000000604482015290519081900360640190fd5b6000858152600d60209081526040808320600160a060020a03888116855290835290832080546001810182559084529190922001805473ffffffffffffffffffffffffffffffffffffffff19169185169190911790555b6000858152600c60209081526040808320600160a060020a0388168452909152812054612318908363ffffffff6125df16565b6000878152600b60209081526040808320600160a060020a038a16845290915290205490915081111561240a576000868152600b60209081526040808320600160a060020a038916845290915281205461237990839063ffffffff611f1716565b6003546040805160e160020a636ce57689028152600160a060020a038a81166004830152898116602483015260448201859052915193945091169163d9caed129160648082019260009290919082900301818387803b1580156123db57600080fd5b505af11580156123ef573d6000803e3d6000fd5b505050506124068184611f1790919063ffffffff16565b9250505b6000868152600e60209081526040808320600160a060020a03808a1685529083528184209088168452909152902054612449908363ffffffff6125df16565b6000878152600e60209081526040808320600160a060020a03808b16808652918452828520908a168552835281842094909455898352600c8252808320938352929052205461249e908363ffffffff6125df16565b6000878152600c60209081526040808320600160a060020a03808b16808652918452828520959095558a8452600e83528184208185528352818420948916808552948352928190205481518b8152928301939093528181019390935260608101859052608081019190915290517f52d53f1a8b77300a7e949e8404b5b690925c03bbb3bc329b5a05f70abc2a24a09181900360a00190a161253e866119c9565b801561254e575061254e86610e3a565b1561255c5761255c866125f8565b505050505050565b600160a060020a03811661257757600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6000828201838110156125f157600080fd5b9392505050565b60008181526009602052604090205460ff161561265f576040805160e560020a62461bcd02815260206004820152600f60248201527f416c726561647920737761707065640000000000000000000000000000000000604482015290519081900360640190fd5b6000818152600a602052604090205460ff16156126c6576040805160e560020a62461bcd02815260206004820152601160248201527f416c72656164792063616e63656c6c6564000000000000000000000000000000604482015290519081900360640190fd5b6126cf816119c9565b612723576040805160e560020a62461bcd02815260206004820152601660248201527f4261736520746f6b656e73206e6f742066696c6c656400000000000000000000604482015290519081900360640190fd5b61272c81610e3a565b612780576040805160e560020a62461bcd02815260206004820152601760248201527f51756f746520746f6b656e73206e6f742066696c6c6564000000000000000000604482015290519081900360640190fd5b6000818152600860205260409020544211156127e6576040805160e560020a62461bcd02815260206004820152601060248201527f436f6e7472616374206578706972656400000000000000000000000000000000604482015290519081900360640190fd5b600081815260066020908152604080832054600790925290912054612819918391600160a060020a0391821691166128a6565b60008181526007602090815260408083205460069092529091205461284c918391600160a060020a0391821691166128a6565b600081815260096020908152604091829020805460ff191660011790558151838152339181019190915281517f44718dd9f1347cc728de75a7e465c3c52e22588f75b06eac4fe4b0b2b7e061db929181900390910190a150565b6000838152600c60209081526040808320600160a060020a0385168452909152812054905b6000858152600d60209081526040808320600160a060020a0388168452909152902054811015612abf576000858152600d60209081526040808320600160a060020a0388168452909152812080548390811061292357fe5b6000918252602080832090910154888352600d82526040808420600160a060020a038a811686529352832054911692506001840114156129645750826129ec565b6000878152600c60209081526040808320600160a060020a03808b16808652828552838620548d8752600e86528487209187529085528386208883168752855283862054918b168652919093529220546129d4836129c8848463ffffffff612ac616565b9063ffffffff612aed16565b93506129e6878563ffffffff611f1716565b96505050505b6003546040805160e160020a636ce57689028152600160a060020a0388811660048301528581166024830152604482018590529151919092169163d9caed1291606480830192600092919082900301818387803b158015612a4c57600080fd5b505af1158015612a60573d6000803e3d6000fd5b5050604080518a8152600160a060020a03808a1660208301528616818301526060810185905290517f6e71f3d02fa39a6ecb3f8ab11cce4a0aa3959aa8909de48e2ac9be7e135721ee9350908190036080019150a150506001016128cb565b5050505050565b600082612ad5575060006119a0565b82820282848281612ae257fe5b04146125f157600080fd5b6000808211612afb57600080fd5b6000828481612b0657fe5b04949350505050565b60405180604001604052806002906020820280388339509192915050565b815481835581811115610dab57600083815260209020610dab918101908301610f5791905b80821115612b665760008155600101612b52565b509056fe416c6c6f77616e63652073686f756c64206265206e6f74206c657373207468616e20616d6f756e7445787069726174696f6e2074696d65206d75737420626520696e206675747572655661756c74206973206e6f7420646566696e656400000000000000000000000050617961626c652076616c75652073686f756c6420626520657175616c732076616c756553686f756c64206e6f74206265206c657373207468616e206d696e696d756d2076616c7565416c6c6f776564206f6e6c7920666f72207370656369666965642061646472657373596f752063616e206465706f736974206f6e6c792062617365206f722071756f74652063757272656e637945786368616e67656420746f6b656e73206d75737420626520646966666572656e74a165627a7a7230582019b74a4b314ae295b408cadad75b2df2856ad2ea309117a40fedbb99092c9c7c0029"
}