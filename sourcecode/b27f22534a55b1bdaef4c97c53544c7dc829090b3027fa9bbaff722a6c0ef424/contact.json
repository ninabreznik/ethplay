{
  "address": "0xae842fa579c308a0e0018fc192d2e504b25d4496",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "ContractiumSalePackage",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-11-11\n*/\n\npragma solidity ^0.4.18 ;\n\nlibrary SafeMath {\n  function mul(uint256 a, uint256 b) internal pure returns (uint256 c) {\n    if (a == 0) {\n      return 0;\n    }\n    c = a * b;\n    assert(c / a == b);\n    return c;\n  }\n\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\n    return a / b;\n  }\n\n  \n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n    assert(b <= a);\n    return a - b;\n  }\n\n  \n  function add(uint256 a, uint256 b) internal pure returns (uint256 c) {\n    c = a + b;\n    assert(c >= a);\n    return c;\n  }\n}\n\ncontract Ownable {\n  address public owner;\n\n  event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n  function Ownable() public {\n    owner = msg.sender;\n  }\n\n  modifier onlyOwner() {\n    require(msg.sender == owner);\n    _;\n  }\n  \n  function transferOwnership(address newOwner) public onlyOwner {\n    require(newOwner != address(0));\n    emit OwnershipTransferred(owner, newOwner);\n    owner = newOwner;\n  }\n}\n\n\ncontract ContractiumInterface {\n    function balanceOf(address who) public view returns (uint256);\n    function contractSpend(address _from, uint256 _value) public returns (bool);\n    function transferFrom(address from, address to, uint256 value) public returns (bool);\n    function allowance(address _owner, address _spender) public view returns (uint256);\n\n    function owner() public view returns (address);\n\n    function bonusRateOneEth() public view returns (uint256);\n    function currentTotalTokenOffering() public view returns (uint256);\n    function currentTokenOfferingRaised() public view returns (uint256);\n\n    function isOfferingStarted() public view returns (bool);\n    function offeringEnabled() public view returns (bool);\n    function startTime() public view returns (uint256);\n    function endTime() public view returns (uint256);\n}\n\n\ncontract ContractiumSalePackage is Ownable {\n\n    using SafeMath for uint256;\n\n    ContractiumInterface ctuContract;\n    address public constant CONTRACTIUM = 0x943aca8ed65fbf188a7d369cfc2bee0ae435ee1b;\n    address public ownerCtuContract;\n    address public owner;\n\n    uint8 public constant decimals = 18;\n    uint256 public unitsOneEthCanBuy = 15000;\n    \n    // Current token offering raised in CTUSalePackages\n    uint256 public currentTokenOfferingRaised;\n    \n    // Sale packages and intervals\n    uint256[] public intervals;\n    uint256[] public packages;\n    \n    constructor() public {\n        ctuContract = ContractiumInterface(CONTRACTIUM);\n        ownerCtuContract = ctuContract.owner();\n        owner = msg.sender;\n        \n        intervals = [\n            0,\n            10000000000000000,      // 0.01 Ether\n            100000000000000000,     // 0.1 ether\n            1000000000000000000,    // 01 Ether\n            3000000000000000000,    // 03 Ether\n            5000000000000000000,    // 05 Ether\n            10000000000000000000    // 10 Ether\n        ];\n        \n        packages = [\n            0,\n            750,   // 5% \n            1500,  // 10% \n            3000,  // 20%\n            4500,  // 30%\n            6000,  // 40%\n            7500   // 50%\n        ];\n    }\n\n    function() public payable {\n\n        require(msg.sender != owner);\n\n        // Number of tokens to sale in wei\n        uint256 amount = msg.value.mul(unitsOneEthCanBuy);\n        \n        // Bonus rate\n        uint256 bonusRate = getNearestPackage(msg.value);\n        \n        // Amount of bonus tokens\n        uint256 amountBonus = msg.value.mul(bonusRate);\n        \n        // Amount with bonus value\n        amount = amount.add(amountBonus);\n\n        // Offering validation\n        uint256 remain = ctuContract.balanceOf(ownerCtuContract);\n        require(remain >= amount);\n        preValidatePurchase(amount);\n\n        address _from = ownerCtuContract;\n        address _to = msg.sender;\n        require(ctuContract.transferFrom(_from, _to, amount));\n        ownerCtuContract.transfer(msg.value);  \n\n        currentTokenOfferingRaised = currentTokenOfferingRaised.add(amount);  \n    }\n    \n    /**\n    * @dev Get package bonus.\n    */\n    function getNearestPackage(uint256 _amount) view internal returns (uint256) {\n        require(_amount > 0);\n        uint indexPackage = 0;\n        for (uint i = intervals.length - 1; i >= 0 ; i--){\n            if (intervals[i] <= _amount) {\n                indexPackage = i;\n                break;\n            }\n        }\n        return packages[indexPackage];\n    }\n    \n    /**\n    * @dev Validate before purchasing.\n    */\n    function preValidatePurchase(uint256 _amount) view internal {\n        require(_amount > 0);\n        require(ctuContract.isOfferingStarted());\n        require(ctuContract.offeringEnabled());\n        require(currentTokenOfferingRaised.add(ctuContract.currentTokenOfferingRaised().add(_amount)) <= ctuContract.currentTotalTokenOffering());\n        require(block.timestamp >= ctuContract.startTime() && block.timestamp <= ctuContract.endTime());\n    }\n    \n    /**\n    * @dev Set Contractium address and related parameter from Contractium Smartcontract.\n    */\n    function setCtuContract(address _ctuAddress) public onlyOwner {\n        require(_ctuAddress != address(0x0));\n        ctuContract = ContractiumInterface(_ctuAddress);\n        ownerCtuContract = ctuContract.owner();\n    }\n\n    /**\n    * @dev Reset current token offering raised for new Sale.\n    */\n    function resetCurrentTokenOfferingRaised() public onlyOwner {\n        currentTokenOfferingRaised = 0;\n    }\n    \n    /**\n    * @dev Clear package bonus.\n    */\n    function clearPackages() public onlyOwner returns (bool) {\n        intervals = [0];\n        packages = [0];\n        return true;\n    }\n    \n    /**\n    * @dev Set package bonus.\n    */\n    function setPackages(uint256[] _interval, uint256[] _packages) public checkPackages(_interval, _packages) returns (bool) {\n        intervals = _interval;\n        packages = _packages;\n        return true;\n    }\n    \n    /**\n    *  Check packages and intervals is valid or not\n    */\n    modifier checkPackages(uint256[] _interval, uint256[] _packages) {\n        require(_interval.length == _packages.length);\n        bool validIntervalArr = true;\n        for (uint i = 0; i < intervals.length - 1 ; i++){\n            if (intervals[i] >= intervals[i + 1]) {\n                validIntervalArr = false;\n                break;\n            }\n        }\n        require(validIntervalArr);\n        _;\n    }\n}",
  "bytecode": "6080604052613a986004553480156200001757600080fd5b5060008054600160a060020a0319908116331782556001805490911673943aca8ed65fbf188a7d369cfc2bee0ae435ee1b1790819055604080517f8da5cb5b0000000000000000000000000000000000000000000000000000000081529051600160a060020a039290921692638da5cb5b926004808401936020939083900390910190829087803b158015620000ac57600080fd5b505af1158015620000c1573d6000803e3d6000fd5b505050506040513d6020811015620000d857600080fd5b505160028054600160a060020a03909216600160a060020a031992831617905560038054909116331790556040805160e08101825260008152662386f26fc10000602082015267016345785d8a000091810191909152670de0b6b3a764000060608201526729a2241af62c00006080820152674563918244f4000060a0820152678ac7230489e8000060c082015262000176906006906007620001cd565b506040805160e081018252600081526102ee60208201526105dc91810191909152610bb86060820152611194608082015261177060a0820152611d4c60c0820152620001c6906007908162000229565b506200028d565b82805482825590600052602060002090810192821562000217579160200282015b8281111562000217578251829067ffffffffffffffff16905591602001919060010190620001ee565b50620002259291506200026d565b5090565b82805482825590600052602060002090810192821562000217579160200282015b8281111562000217578251829061ffff169055916020019190600101906200024a565b6200028a91905b8082111562000225576000815560010162000274565b90565b610d1d806200029d6000396000f3006080604052600436106100ab5763ffffffff60e060020a600035041663070c64b481146102d5578063313ce567146102fe578063328ffd111461032957806350c384791461035357806365f2bc2e1461036a578063800a9cdd1461037f57806385b39fc11461040d5780638da5cb5b1461043e578063a31ffa3014610453578063b7ba605014610474578063c216212a14610489578063d831a158146104a1578063f2fde38b146104b6575b60035460009081908190819081908190600160a060020a03163314156100d057600080fd5b6004546100e490349063ffffffff6104d716565b95506100ef34610506565b9450610101348663ffffffff6104d716565b9350610113868563ffffffff61058016565b600154600254604080517f70a08231000000000000000000000000000000000000000000000000000000008152600160a060020a03928316600482015290519399509116916370a08231916024808201926020929091908290030181600087803b15801561018057600080fd5b505af1158015610194573d6000803e3d6000fd5b505050506040513d60208110156101aa57600080fd5b50519250858310156101bb57600080fd5b6101c48661058d565b5050600254600154604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a03938416600482018190523360248301819052604483018a9052925190949293909216916323b872dd916064808201926020929091908290030181600087803b15801561024657600080fd5b505af115801561025a573d6000803e3d6000fd5b505050506040513d602081101561027057600080fd5b5051151561027d57600080fd5b600254604051600160a060020a03909116903480156108fc02916000818181858888f193505050501580156102b6573d6000803e3d6000fd5b506005546102ca908763ffffffff61058016565b600555505050505050005b3480156102e157600080fd5b506102ea610903565b604080519115158252519081900360200190f35b34801561030a57600080fd5b5061031361095f565b6040805160ff9092168252519081900360200190f35b34801561033557600080fd5b50610341600435610964565b60408051918252519081900360200190f35b34801561035f57600080fd5b50610368610983565b005b34801561037657600080fd5b506103416109a1565b34801561038b57600080fd5b50604080516020600480358082013583810280860185019096528085526102ea95369593946024949385019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a9989019892975090820195509350839250850190849080828437509497506109a79650505050505050565b34801561041957600080fd5b50610422610a63565b60408051600160a060020a039092168252519081900360200190f35b34801561044a57600080fd5b50610422610a7b565b34801561045f57600080fd5b50610368600160a060020a0360043516610a8a565b34801561048057600080fd5b50610341610b95565b34801561049557600080fd5b50610341600435610b9b565b3480156104ad57600080fd5b50610422610ba9565b3480156104c257600080fd5b50610368600160a060020a0360043516610bb8565b60008215156104e857506000610500565b508181028183828115156104f857fe5b041461050057fe5b92915050565b6000808080841161051657600080fd5b5050600654600090600019015b6000811061055e578360068281548110151561053b57fe5b90600052602060002001541115156105555780915061055e565b60001901610523565b600780548390811061056c57fe5b906000526020600020015492505050919050565b8181018281101561050057fe5b6000811161059a57600080fd5b600160009054906101000a9004600160a060020a0316600160a060020a0316639db286726040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156105ed57600080fd5b505af1158015610601573d6000803e3d6000fd5b505050506040513d602081101561061757600080fd5b5051151561062457600080fd5b600160009054906101000a9004600160a060020a0316600160a060020a031663a86477ad6040518163ffffffff1660e060020a028152600401602060405180830381600087803b15801561067757600080fd5b505af115801561068b573d6000803e3d6000fd5b505050506040513d60208110156106a157600080fd5b505115156106ae57600080fd5b600160009054906101000a9004600160a060020a0316600160a060020a03166363a3cc806040518163ffffffff1660e060020a028152600401602060405180830381600087803b15801561070157600080fd5b505af1158015610715573d6000803e3d6000fd5b505050506040513d602081101561072b57600080fd5b5051600154604080517fb7ba605000000000000000000000000000000000000000000000000000000000815290516107de926107cf928692600160a060020a039092169163b7ba6050916004808201926020929091908290030181600087803b15801561079757600080fd5b505af11580156107ab573d6000803e3d6000fd5b505050506040513d60208110156107c157600080fd5b50519063ffffffff61058016565b6005549063ffffffff61058016565b11156107e957600080fd5b600160009054906101000a9004600160a060020a0316600160a060020a03166378e979256040518163ffffffff1660e060020a028152600401602060405180830381600087803b15801561083c57600080fd5b505af1158015610850573d6000803e3d6000fd5b505050506040513d602081101561086657600080fd5b505142108015906108f55750600160009054906101000a9004600160a060020a0316600160a060020a0316633197cbb66040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156108c557600080fd5b505af11580156108d9573d6000803e3d6000fd5b505050506040513d60208110156108ef57600080fd5b50514211155b151561090057600080fd5b50565b60008054600160a060020a0316331461091b57600080fd5b604080516020810190915260008152610938906006906001610c4c565b50604080516020810190915260008152610956906007906001610c4c565b50600190505b90565b601281565b600680548290811061097257fe5b600091825260209091200154905081565b600054600160a060020a0316331461099a57600080fd5b6000600555565b60045481565b60008282600080825184511415156109be57600080fd5b506001905060005b60065460001901811015610a225760068054600183019081106109e557fe5b90600052602060002001546006828154811015156109ff57fe5b9060005260206000200154101515610a1a5760009150610a22565b6001016109c6565b811515610a2e57600080fd5b8651610a419060069060208a0190610c9c565b508551610a55906007906020890190610c9c565b506001979650505050505050565b73943aca8ed65fbf188a7d369cfc2bee0ae435ee1b81565b600354600160a060020a031681565b600054600160a060020a03163314610aa157600080fd5b600160a060020a0381161515610ab657600080fd5b6001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a038381169190911791829055604080517f8da5cb5b00000000000000000000000000000000000000000000000000000000815290519290911691638da5cb5b916004808201926020929091908290030181600087803b158015610b3a57600080fd5b505af1158015610b4e573d6000803e3d6000fd5b505050506040513d6020811015610b6457600080fd5b50516002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0390921691909117905550565b60055481565b600780548290811061097257fe5b600254600160a060020a031681565b600054600160a060020a03163314610bcf57600080fd5b600160a060020a0381161515610be457600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b828054828255906000526020600020908101928215610c8c579160200282015b82811115610c8c578251829060ff16905591602001919060010190610c6c565b50610c98929150610cd7565b5090565b828054828255906000526020600020908101928215610c8c579160200282015b82811115610c8c578251825591602001919060010190610cbc565b61095c91905b80821115610c985760008155600101610cdd5600a165627a7a7230582085856d07e93672917636d2fd3ecfca720ca86a271427194f665670153881cfd70029"
}