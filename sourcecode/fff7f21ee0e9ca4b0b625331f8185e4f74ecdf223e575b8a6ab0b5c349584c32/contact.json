{
  "address": "0x45c948b783f8e1cc5e197a09002e1d75f2a2cbbe",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "Staking",
  "compilerVersion": "v0.4.25+commit.59dbf8f1",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-05-08\n*/\n\npragma solidity ^0.4.25;\n\n /*\n  * @title: SafeMath\n  * @dev: Helper contract functions to arithmatic operations safely.\n  */\ncontract SafeMath {\n    function Sub(uint256 a, uint256 b) internal pure returns (uint256) {\n        require(b <= a, \"SafeMath: subtraction overflow\");\n        uint256 c = a - b;\n    \n        return c;\n    }\n    function Add(uint256 a, uint256 b) internal pure returns (uint256) {\n        uint256 c = a + b;\n        require(c >= a, \"SafeMath: addition overflow\");\n\n        return c;\n    }\n    function Mul(uint256 a, uint256 b) internal pure returns (uint256) {\n        if (a == 0) {\n            return 0;\n        }\n\n        uint256 c = a * b;\n        require(c / a == b, \"SafeMath: multiplication overflow\");\n\n        return c;\n    }\n}\n\n /*\n  * @title: Token\n  * @dev: Interface contract for ERC20 tokens\n  */\ncontract Token {\n      function totalSupply() public view returns (uint256 supply);\n      function balanceOf(address _owner) public view returns (uint256 balance);\n      function transfer(address _to, uint256 _value) public returns (bool success);\n      function transferFrom(address _from, address _to, uint256 _value) public returns (bool success);\n      function approve(address _spender, uint256 _value) public returns (bool success);\n      function allowance(address _owner, address _spender) public view returns (uint256 remaining);\n      event Transfer(address indexed _from, address indexed _to, uint256 _value);\n      event Approval(address indexed _owner, address indexed _spender, uint256 _value);\n}\n\n /*\n  * @title: Staking\n  * @author BlockBank (https://www.blockbank.co.kr)\n  */\ncontract Staking is SafeMath\n{\n    // _prAddress: ERC20 contract address\n    // msg.sender: owner && operator\n    constructor(address _prAddress) public\n    {\n        owner = msg.sender;\n        operator = owner;\n        prAddress = _prAddress;\n        isContractUse = true;\n    }\n\n    address public owner;\n    // Functions with this modifier can only be executed by the owner\n    modifier onlyOwner() {\n        require(msg.sender == owner);\n        _;\n    }\n\n    address public operator;\n    // Functions with this modifier can only be executed by the operator\n    modifier onlyOperator() {\n        require(msg.sender == operator);\n        _;\n    }\n    function transferOperator(address _operator) onlyOwner public {\n        operator = _operator;\n    }\n    \n    bool public isContractUse;\n    // Functions with this modifier can only be executed when this contract is not abandoned\n    modifier onlyContractUse {\n        require(isContractUse == true);\n        _;\n    }\n    \n    function SetContractUse(bool _isContractUse) onlyOperator public{\n        isContractUse = _isContractUse;\n    }\n\n    uint32 public lastAcccountId;\n    mapping (uint32 => address) id_account;\n    mapping (uint32 => bool) accountId_freeze;\n    mapping (address => uint32) account_id;\n    // Find or add account\n    function FindOrAddAccount(address findAddress) private returns (uint32)\n    {\n        if (account_id[findAddress] == 0)\n        {\n            account_id[findAddress] = ++lastAcccountId;\n            id_account[lastAcccountId] = findAddress;\n        }\n        return account_id[findAddress];\n    }\n    // Find or revert account\n    function FindOrRevertAccount() private view returns (uint32)\n    {\n        uint32 accountId = account_id[msg.sender];\n        require(accountId != 0);\n        return accountId;\n    }\n    // Get account id of msg sender\n    function GetMyAccountId() view public returns (uint32)\n    {\n        return account_id[msg.sender];\n    }\n    // Get account id of any users\n    function GetAccountId(address account) view public returns (uint32)\n    {\n        return account_id[account];\n    }\n    // Freeze or unfreez of account\n    function SetFreezeByAddress(bool isFreeze, address account) onlyOperator public\n    {\n        uint32 accountId = account_id[account];\n\n        if (accountId != 0)\n        {\n            accountId_freeze[accountId] = isFreeze;\n        }\n    }\n    function IsFreezeByAddress(address account) public view returns (bool)\n    {\n        uint32 accountId = account_id[account];\n        \n        if (accountId != 0)\n        {\n            return accountId_freeze[accountId];\n        }\n        return false;\n    }\n\n    // reserved: Balance held up in orderBook\n    // available: Balance available for trade\n    struct Balance\n    {\n        uint256 available;\n        uint256 maturity;\n    }\n\n    struct ListItem\n    {\n        uint32 prev;\n        uint32 next;\n    }\n\n    mapping (uint32 => Balance) AccountId_Balance;\n    \n    uint256 public totalBonus;\n    address public prAddress;\n    \n    uint256 public interest6weeks; //bp\n    uint256 public interest12weeks; //bp\n    \n    // set interst for each holding period: 6 / 12 weeks\n    function SetInterest(uint256 _interest6weeks, uint256 _interest12weeks) onlyOperator public\n    {\n        interest6weeks = _interest6weeks;    \n        interest12weeks = _interest12weeks;\n    }\n    \n    // deposit bonus to pay interest\n    function depositBonus(uint256 amount) onlyOwner public\n    {\n        require(Token(prAddress).transferFrom(msg.sender, this, amount));\n        \n        totalBonus = Add(totalBonus, amount);\n    }\n    \n    // withdraw bonus to owner account\n    function WithdrawBonus(uint256 amount) onlyOwner public\n    {\n        require(Token(prAddress).transfer(msg.sender, amount));\n        totalBonus = Sub(totalBonus, amount);\n    }\n\n    // Deposit ERC20's for saving\n    function storeToken6Weeks(uint256 amount) onlyContractUse public\n    {\n        uint32 accountId = FindOrAddAccount(msg.sender);\n        require(accountId_freeze[accountId] == false);\n        require(AccountId_Balance[accountId].available == 0);\n        \n        require(Token(prAddress).transferFrom(msg.sender, this, amount));\n        \n        uint256 interst = Mul(amount, interest6weeks) / 10000;\n        \n        totalBonus = Sub(totalBonus, interst);\n        AccountId_Balance[accountId].available = Add(AccountId_Balance[accountId].available, amount + interst);\n        AccountId_Balance[accountId].maturity = now + 6 weeks;\n    }\n    // Deposit ERC20's for saving\n    function storeToken12Weeks(uint128 amount) onlyContractUse public\n    {\n        uint32 accountId = FindOrAddAccount(msg.sender);\n        require(accountId_freeze[accountId] == false);\n        require(AccountId_Balance[accountId].available == 0);\n        \n        require(Token(prAddress).transferFrom(msg.sender, this, amount));\n        \n        uint256 interst = Mul(amount, interest12weeks) / 10000;\n        \n        totalBonus = Sub(totalBonus, interst);\n        AccountId_Balance[accountId].available = Add(AccountId_Balance[accountId].available, amount + interst);\n        AccountId_Balance[accountId].maturity = now + 12 weeks;\n    }\n    // Withdraw ERC20's to personal addresstrue\n    function withdrawToken() public\n    {\n        uint32 accountId = FindOrAddAccount(msg.sender);\n        require(AccountId_Balance[accountId].maturity < now);\n        uint256 amount = AccountId_Balance[accountId].available; \n        require(amount > 0);\n        AccountId_Balance[accountId].available = 0;\n        require(Token(prAddress).transfer(msg.sender, amount));\n    }\n\n    // Below two emergency functions will be never used in normal situations.\n    // These function is only prepared for emergency case such as smart contract hacking Vulnerability or smart contract abolishment\n    // Withdrawn fund by these function cannot belong to any operators or owners.\n    // Withdrawn fund should be distributed to individual accounts having original ownership of withdrawn fund.\n    \n    function emergencyWithdrawalETH(uint256 amount) onlyOwner public\n    {\n        require(msg.sender.send(amount));\n    }\n    function emergencyWithdrawalToken(uint256 amount) onlyOwner public\n    {\n        Token(prAddress).transfer(msg.sender, amount);\n    }\n\n    function getMyBalance() view public returns (uint256 available, uint256 maturity)\n    {\n        uint32 accountId = FindOrRevertAccount();\n        available = AccountId_Balance[accountId].available;\n        maturity = AccountId_Balance[accountId].maturity;\n    }\n    \n    function getTimeStamp() view public returns (uint256)\n    {\n        return now;\n    }\n}",
  "bytecode": "608060405234801561001057600080fd5b50604051602080611116833981016040525160008054600160a060020a03199081163317918290556001805460078054600160a060020a0396871690851617905560a060020a60ff02199216929093169190911716740100000000000000000000000000000000000000001790556110898061008d6000396000f30060806040526004361061013d5763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663082c288f81146101425780631f7a868e1461017057806329116ac61461018a57806329605e77146101bf5780632d5a46ff146101e05780634c738909146101f55780634fb9453a14610223578063570ca7351461023b5780635ccf82621461026c57806369094f6e1461029357806387db7361146102ae5780638da5cb5b146102c6578063a1339f45146102db578063a2b6d6d0146102f3578063a789044114610308578063a8dd07dc1461032e578063c06dea4e14610343578063c318168414610358578063ca628c7814610382578063cc74d6d814610397578063cf1814bc146103b8578063da235b22146103d0578063edc3420d146103e5578063f45150bc146103fa575b600080fd5b34801561014e57600080fd5b50610157610414565b6040805163ffffffff9092168252519081900360200190f35b34801561017c57600080fd5b5061018860043561042d565b005b34801561019657600080fd5b506101ab600160a060020a036004351661046e565b604080519115158252519081900360200190f35b3480156101cb57600080fd5b50610188600160a060020a03600435166104be565b3480156101ec57600080fd5b50610157610504565b34801561020157600080fd5b5061020a610529565b6040805192835260208301919091528051918290030190f35b34801561022f57600080fd5b5061018860043561055c565b34801561024757600080fd5b50610250610629565b60408051600160a060020a039092168252519081900360200190f35b34801561027857600080fd5b50610281610638565b60408051918252519081900360200190f35b34801561029f57600080fd5b5061018860043560243561063e565b3480156102ba57600080fd5b50610188600435610660565b3480156102d257600080fd5b50610250610713565b3480156102e757600080fd5b50610188600435610722565b3480156102ff57600080fd5b506101ab6108c0565b34801561031457600080fd5b506101886004351515600160a060020a03602435166108e1565b34801561033a57600080fd5b50610281610947565b34801561034f57600080fd5b5061025061094d565b34801561036457600080fd5b506101886fffffffffffffffffffffffffffffffff6004351661095c565b34801561038e57600080fd5b50610188610b2f565b3480156103a357600080fd5b50610157600160a060020a0360043516610c44565b3480156103c457600080fd5b50610188600435610c65565b3480156103dc57600080fd5b50610281610d32565b3480156103f157600080fd5b50610281610d36565b34801561040657600080fd5b506101886004351515610d3c565b3360009081526004602052604090205463ffffffff1690565b600054600160a060020a0316331461044457600080fd5b604051339082156108fc029083906000818181858888f19350505050151561046b57600080fd5b50565b600160a060020a03811660009081526004602052604081205463ffffffff1680156104b35763ffffffff811660009081526003602052604090205460ff1691506104b8565b600091505b50919050565b600054600160a060020a031633146104d557600080fd5b6001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6001547501000000000000000000000000000000000000000000900463ffffffff1681565b6000806000610536610d93565b63ffffffff16600090815260056020526040902080546001909101549094909350915050565b600054600160a060020a0316331461057357600080fd5b600754604080517fa9059cbb000000000000000000000000000000000000000000000000000000008152336004820152602481018490529051600160a060020a039092169163a9059cbb916044808201926020929091908290030181600087803b1580156105e057600080fd5b505af11580156105f4573d6000803e3d6000fd5b505050506040513d602081101561060a57600080fd5b5051151561061757600080fd5b61062360065482610dba565b60065550565b600154600160a060020a031681565b60085481565b600154600160a060020a0316331461065557600080fd5b600891909155600955565b600054600160a060020a0316331461067757600080fd5b600754604080517fa9059cbb000000000000000000000000000000000000000000000000000000008152336004820152602481018490529051600160a060020a039092169163a9059cbb916044808201926020929091908290030181600087803b1580156106e457600080fd5b505af11580156106f8573d6000803e3d6000fd5b505050506040513d602081101561070e57600080fd5b505050565b600054600160a060020a031681565b60018054600091829174010000000000000000000000000000000000000000900460ff1615151461075257600080fd5b61075b33610e3a565b63ffffffff811660009081526003602052604090205490925060ff161561078157600080fd5b63ffffffff8216600090815260056020526040902054156107a157600080fd5b600754604080517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018690529051600160a060020a03909216916323b872dd916064808201926020929091908290030181600087803b15801561081457600080fd5b505af1158015610828573d6000803e3d6000fd5b505050506040513d602081101561083e57600080fd5b5051151561084b57600080fd5b61271061085a84600854610f2c565b81151561086357fe5b04905061087260065482610dba565b60065563ffffffff821660009081526005602052604090205461089790848301610fe9565b63ffffffff90921660009081526005602052604090209182555062375f00420160019091015550565b60015474010000000000000000000000000000000000000000900460ff1681565b600154600090600160a060020a031633146108fb57600080fd5b50600160a060020a03811660009081526004602052604090205463ffffffff16801561070e5763ffffffff81166000908152600360205260409020805460ff1916841515179055505050565b60065481565b600754600160a060020a031681565b60018054600091829174010000000000000000000000000000000000000000900460ff1615151461098c57600080fd5b61099533610e3a565b63ffffffff811660009081526003602052604090205490925060ff16156109bb57600080fd5b63ffffffff8216600090815260056020526040902054156109db57600080fd5b600754604080517f23b872dd0000000000000000000000000000000000000000000000000000000081523360048201523060248201526fffffffffffffffffffffffffffffffff861660448201529051600160a060020a03909216916323b872dd916064808201926020929091908290030181600087803b158015610a5f57600080fd5b505af1158015610a73573d6000803e3d6000fd5b505050506040513d6020811015610a8957600080fd5b50511515610a9657600080fd5b612710610ab7846fffffffffffffffffffffffffffffffff16600954610f2c565b811515610ac057fe5b049050610acf60065482610dba565b60065563ffffffff8216600090815260056020526040902054610b06906fffffffffffffffffffffffffffffffff85168301610fe9565b63ffffffff909216600090815260056020526040902091825550626ebe00420160019091015550565b600080610b3b33610e3a565b63ffffffff81166000908152600560205260409020600101549092504211610b6257600080fd5b5063ffffffff8116600090815260056020526040812054908111610b8557600080fd5b63ffffffff8216600090815260056020908152604080832083905560075481517fa9059cbb000000000000000000000000000000000000000000000000000000008152336004820152602481018690529151600160a060020a039091169363a9059cbb93604480850194919392918390030190829087803b158015610c0957600080fd5b505af1158015610c1d573d6000803e3d6000fd5b505050506040513d6020811015610c3357600080fd5b50511515610c4057600080fd5b5050565b600160a060020a031660009081526004602052604090205463ffffffff1690565b600054600160a060020a03163314610c7c57600080fd5b600754604080517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018490529051600160a060020a03909216916323b872dd916064808201926020929091908290030181600087803b158015610cef57600080fd5b505af1158015610d03573d6000803e3d6000fd5b505050506040513d6020811015610d1957600080fd5b50511515610d2657600080fd5b61062360065482610fe9565b4290565b60095481565b600154600160a060020a03163314610d5357600080fd5b60018054911515740100000000000000000000000000000000000000000274ff000000000000000000000000000000000000000019909216919091179055565b3360009081526004602052604081205463ffffffff16801515610db557600080fd5b919050565b60008083831115610e2c57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601e60248201527f536166654d6174683a207375627472616374696f6e206f766572666c6f770000604482015290519081900360640190fd5b5050808203805b5092915050565b600160a060020a03811660009081526004602052604081205463ffffffff161515610f0a576001805463ffffffff750100000000000000000000000000000000000000000080830482168401821680820278ffffffff00000000000000000000000000000000000000000019909416939093178455600160a060020a0386166000818152600460209081526040808320805463ffffffff1916909717909655955492909204909216815260029093529120805473ffffffffffffffffffffffffffffffffffffffff191690911790555b50600160a060020a031660009081526004602052604090205463ffffffff1690565b600080831515610f3f5760009150610e33565b50828202828482811515610f4f57fe5b0414610fe257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602160248201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f60448201527f7700000000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b9392505050565b600082820183811015610fe257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd00a165627a7a72305820c2aa14c72195d3c0b0e541e91e336ca3e545c71afc76bcd8215f666c1b68f6a700290000000000000000000000006beb418fc6e1958204ac8baddcf109b8e96949660000000000000000000000006beb418fc6e1958204ac8baddcf109b8e9694966",
  "constructorArguments": "0000000000000000000000006beb418fc6e1958204ac8baddcf109b8e96949660000000000000000000000006beb418fc6e1958204ac8baddcf109b8e9694966"
}