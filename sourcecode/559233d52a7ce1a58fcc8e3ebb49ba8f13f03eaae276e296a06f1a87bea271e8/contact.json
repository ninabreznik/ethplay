{
  "address": "0x4513ab6a3b345276bbf59df54f770a635e208b70",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "FiftyFifty",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": false,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-12-26\n*/\n\npragma solidity ^0.4.23;\n\nlibrary SafeMath {\n\n    /**\n    * @dev Multiplies two numbers, reverts on overflow.\n    */\n    function mul(uint256 _a, uint256 _b) internal pure returns (uint256) {\n        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n        // benefit is lost if 'b' is also tested.\n        // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n        if (_a == 0) {\n            return 0;\n        }\n\n        uint256 c = _a * _b;\n        require(c / _a == _b);\n\n        return c;\n    }\n\n    /**\n    * @dev Integer division of two numbers truncating the quotient, reverts on division by zero.\n    */\n    function div(uint256 _a, uint256 _b) internal pure returns (uint256) {\n        require(_b > 0); // Solidity only automatically asserts when dividing by 0\n        uint256 c = _a / _b;\n        // assert(_a == _b * c + _a % _b); // There is no case in which this doesn't hold\n\n        return c;\n    }\n\n    /**\n    * @dev Subtracts two numbers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n    */\n    function sub(uint256 _a, uint256 _b) internal pure returns (uint256) {\n        require(_b <= _a);\n        uint256 c = _a - _b;\n\n        return c;\n    }\n\n    /**\n    * @dev Adds two numbers, reverts on overflow.\n    */\n    function add(uint256 _a, uint256 _b) internal pure returns (uint256) {\n        uint256 c = _a + _b;\n        require(c >= _a);\n\n        return c;\n    }\n\n    /**\n    * @dev Divides two numbers and returns the remainder (unsigned integer modulo),\n    * reverts when dividing by zero.\n    */\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n        require(b != 0);\n        return a % b;\n    }\n}\n\ncontract FiftyFifty{\n    using SafeMath for uint; // using SafeMath\n    //rate to 0.125 ETH.  0.125:1, 0.250:2, 0.500:4, 1.00:8, 2.00:16, 4.00:32, 8.00: 64, 16.00:128, 32.00:256, 64.00:512\n    uint[11] betValues = [0.125 ether, 0.250 ether, 0.500 ether, 1.00 ether, 2.00 ether, 4.00 ether, 8.00 ether, 16.00 ether, 32.00 ether, 64.00 ether];\n    // return value is 95 % of two people.\n    uint[11] returnValues = [0.2375 ether, 0.475 ether, 0.950 ether, 1.90 ether, 3.80 ether, 7.60 ether, 15.20 ether, 30.40 ether, 60.80 ether, 121.60 ether];\n    // jackpot value is 4 % of total value\n    uint[11] jackpotValues = [0.05 ether, 0.010 ether, 0.020 ether, 0.04 ether, 0.08 ether, 0.16 ether, 0.32 ether, 0.64 ether, 1.28 ether, 2.56 ether];\n    // fee 1 %\n    uint[11] fees = [0.0025 ether, 0.005 ether, 0.010 ether, 0.020 ether, 0.040 ether, 0.080 ether, 0.16 ether, 0.32 ether, 0.64 ether, 1.28 ether];\n    uint roundNumber; // number of round that jackpot is paid\n    mapping(uint => uint) jackpot;\n    //round -> betValue -> user address\n    mapping(uint => mapping(uint => address[])) roundToBetValueToUsers;\n    //round -> betValue -> totalBet\n    mapping(uint => mapping(uint => uint)) roundToBetValueToTotalBet;\n    //round -> totalBet\n    mapping(uint => uint) public roundToTotalBet;\n    // current user who bet for the value\n    mapping(uint => address) currentUser;\n    address owner;\n    uint ownerDeposit;\n\n    // Event\n    event Jackpot(address indexed _user, uint _value, uint indexed _round, uint _now);\n    event Bet(address indexed _winner,address indexed _user,uint _bet, uint _payBack, uint _now);\n\n\n    constructor() public {\n        owner = msg.sender;\n        roundNumber = 1;\n    }\n\n    modifier onlyOwner () {\n        require(msg.sender == owner);\n        _;\n    }\n\n    function changeOwner(address _owner) external onlyOwner{\n        owner = _owner;\n    }\n\n    // fallback function that\n\n    function() public payable {\n        // check if msg.value is equal to specified amount of value.\n        uint valueNumber = checkValue(msg.value);\n        /**\n            jackpot starts when block hash % 10000 < 0\n        */\n        uint randJackpot = (uint(blockhash(block.number - 1)) + roundNumber) % 10000;\n        if(jackpot[roundNumber] != 0 && randJackpot <= 1){\n            // Random number that is under contract total bet amount\n            uint randJackpotBetValue = uint(blockhash(block.number - 1)) % roundToTotalBet[roundNumber];\n            //betNum\n            uint betNum=0;\n            uint addBetValue = 0;\n            // Loop until addBetValue exceeds randJackpotBetValue\n            while(randJackpotBetValue > addBetValue){\n                // Select bet number which is equal to\n                addBetValue += roundToBetValueToTotalBet[roundNumber][betNum];\n                betNum++;\n            }\n            //  betNum.sub(1)のindexに含まれているuserの数未満のランダム番号を生成する\n            uint randJackpotUser = uint(blockhash(block.number - 1)) % roundToBetValueToUsers[roundNumber][betNum.sub(1)].length;\n            address user = roundToBetValueToUsers[roundNumber][valueNumber][randJackpotUser];\n            uint jp = jackpot[roundNumber];\n            user.transfer(jp);\n            emit Jackpot(user, jp, roundNumber, now);\n            roundNumber = roundNumber.add(1);\n        }\n        if(currentUser[valueNumber] == address(0)){\n            //when current user does not exists\n            currentUser[valueNumber] = msg.sender;\n            emit Bet(address(0), msg.sender, betValues[valueNumber], 0, now);\n        }else{\n            // when current user exists\n            uint rand = uint(blockhash(block.number-1)) % 2;\n            ownerDeposit = ownerDeposit.add(fees[valueNumber]);\n            if(rand == 0){\n                // When the first user win\n                currentUser[valueNumber].transfer(returnValues[valueNumber]);\n                emit Bet(currentUser[valueNumber], msg.sender, betValues[valueNumber], returnValues[valueNumber], now);\n            }else{\n                // When the last user win\n                msg.sender.transfer(returnValues[valueNumber]);\n                emit Bet(msg.sender, msg.sender, betValues[valueNumber], returnValues[valueNumber], now);\n            }\n            // delete current user\n            delete currentUser[valueNumber];\n        }\n        // common in each contracts\n        jackpot[roundNumber] = jackpot[roundNumber].add(jackpotValues[valueNumber]);\n        roundToBetValueToUsers[roundNumber][valueNumber].push(currentUser[valueNumber]);\n        roundToTotalBet[roundNumber] = roundToTotalBet[roundNumber].add(betValues[valueNumber]);\n        roundToBetValueToTotalBet[roundNumber][valueNumber] = roundToBetValueToTotalBet[roundNumber][valueNumber].add(betValues[valueNumber]);\n    }\n\n    /**\n        @param sendValue is ETH that is sent to this contract.\n        @return num is index that represent value that is sent.\n    */\n    function checkValue(uint sendValue) internal view returns(uint) {\n        /**\n            Check sendValue is match prepared values. Revert if sendValue doesn't match any values.\n        */\n        uint num = 0;\n        while (sendValue != betValues[num]){\n            if(num == 11){\n                revert();\n            }\n            num++;\n        }\n        return num;\n    }\n\n    function roundToBetValueToUsersLength(uint _roundNum, uint _betNum) public view returns(uint){\n        return roundToBetValueToUsers[_roundNum][_betNum].length;\n    }\n\n    function withdrawDeposit() public onlyOwner{\n        owner.transfer(ownerDeposit);\n        ownerDeposit = 0;\n    }\n\n    function currentJackpot() public view  returns(uint){\n        return jackpot[roundNumber];\n    }\n\n}",
  "bytecode": "6080604052610140604051908101604052806701bc16d674ec800068ffffffffffffffffff1681526020016703782dace9d9000068ffffffffffffffffff1681526020016706f05b59d3b2000068ffffffffffffffffff168152602001670de0b6b3a764000068ffffffffffffffffff168152602001671bc16d674ec8000068ffffffffffffffffff168152602001673782dace9d90000068ffffffffffffffffff168152602001676f05b59d3b20000068ffffffffffffffffff16815260200167de0b6b3a7640000068ffffffffffffffffff1681526020016801bc16d674ec80000068ffffffffffffffffff1681526020016803782dace9d900000068ffffffffffffffffff16815250600090600a6200011d929190620004a9565b506101406040519081016040528067034bc4fdde27c00068ffffffffffffffffff16815260200167069789fbbc4f800068ffffffffffffffffff168152602001670d2f13f7789f000068ffffffffffffffffff168152602001671a5e27eef13e000068ffffffffffffffffff1681526020016734bc4fdde27c000068ffffffffffffffffff1681526020016769789fbbc4f8000068ffffffffffffffffff16815260200167d2f13f7789f0000068ffffffffffffffffff1681526020016801a5e27eef13e0000068ffffffffffffffffff16815260200168034bc4fdde27c0000068ffffffffffffffffff16815260200168069789fbbc4f80000068ffffffffffffffffff16815250600b90600a62000238929190620004a9565b506101406040519081016040528066b1a2bc2ec5000067ffffffffffffffff168152602001662386f26fc1000067ffffffffffffffff16815260200166470de4df82000067ffffffffffffffff168152602001668e1bc9bf04000067ffffffffffffffff16815260200167011c37937e08000067ffffffffffffffff1681526020016702386f26fc10000067ffffffffffffffff168152602001670470de4df820000067ffffffffffffffff1681526020016708e1bc9bf040000067ffffffffffffffff1681526020016711c37937e080000067ffffffffffffffff168152602001672386f26fc100000067ffffffffffffffff16815250601690600a62000342929190620004fb565b50610140604051908101604052806608e1bc9bf0400067ffffffffffffffff1681526020016611c37937e0800067ffffffffffffffff168152602001662386f26fc1000067ffffffffffffffff16815260200166470de4df82000067ffffffffffffffff168152602001668e1bc9bf04000067ffffffffffffffff16815260200167011c37937e08000067ffffffffffffffff1681526020016702386f26fc10000067ffffffffffffffff168152602001670470de4df820000067ffffffffffffffff1681526020016708e1bc9bf040000067ffffffffffffffff1681526020016711c37937e080000067ffffffffffffffff16815250602190600a6200044b929190620004fb565b503480156200045957600080fd5b5033603260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001602c8190555062000574565b82600b8101928215620004e8579160200282015b82811115620004e7578251829068ffffffffffffffffff16905591602001919060010190620004bd565b5b509050620004f791906200054c565b5090565b82600b810192821562000539579160200282015b8281111562000538578251829067ffffffffffffffff169055916020019190600101906200050f565b5b5090506200054891906200054c565b5090565b6200057191905b808211156200056d57600081600090555060010162000553565b5090565b90565b610c4e80620005846000396000f30060806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063117df088146108b2578063550e8d37146108c9578063a6f9dae114610914578063b490a36014610957578063f9cee0bd14610998575b6000806000806000806000806000610084346109c3565b9850612710602c546001430340600190040181151561009f57fe5b0697506000602d6000602c54815260200190815260200160002054141580156100c9575060018811155b156102c95760306000602c548152602001908152602001600020546001430340600190048115156100f657fe5b06965060009550600094505b8487111561014257602f6000602c548152602001908152602001600020600087815260200190815260200160002054850194508580600101965050610102565b602e6000602c548152602001908152602001600020600061016d600189610a0890919063ffffffff16565b81526020019081526020016000208054905060014303406001900481151561019157fe5b069350602e6000602c54815260200190815260200160002060008a8152602001908152602001600020848154811015156101c757fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169250602d6000602c5481526020019081526020016000205491508273ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f19350505050158015610252573d6000803e3d6000fd5b50602c548373ffffffffffffffffffffffffffffffffffffffff167f7dc10df578b3ca5b5247984b89a4a27a1b69db6c848a95f103cf76a6a1dd91488442604051808381526020018281526020019250505060405180910390a36102c26001602c54610a2990919063ffffffff16565b602c819055505b600073ffffffffffffffffffffffffffffffffffffffff16603160008b815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141561040f5733603160008b815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f79332159d97b6c85dc0cb60c8b8c436f780180e3ed9181e69898fff5a9935b6060008c600b811015156103e257fe5b015460004260405180848152602001838152602001828152602001935050505060405180910390a36106d5565b600260014303406001900481151561042357fe5b06905061044b60218a600b8110151561043857fe5b0154603354610a2990919063ffffffff16565b60338190555060008114156105b157603160008a815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc600b8b600b811015156104b657fe5b01549081150290604051600060405180830381858888f193505050501580156104e3573d6000803e3d6000fd5b503373ffffffffffffffffffffffffffffffffffffffff16603160008b815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f79332159d97b6c85dc0cb60c8b8c436f780180e3ed9181e69898fff5a9935b6060008c600b8110151561057557fe5b0154600b8d600b8110151561058657fe5b01544260405180848152602001838152602001828152602001935050505060405180910390a361069e565b3373ffffffffffffffffffffffffffffffffffffffff166108fc600b8b600b811015156105da57fe5b01549081150290604051600060405180830381858888f19350505050158015610607573d6000803e3d6000fd5b503373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f79332159d97b6c85dc0cb60c8b8c436f780180e3ed9181e69898fff5a9935b6060008c600b8110151561066657fe5b0154600b8d600b8110151561067757fe5b01544260405180848152602001838152602001828152602001935050505060405180910390a35b603160008a815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555b61070d60168a600b811015156106e757fe5b0154602d6000602c54815260200190815260200160002054610a2990919063ffffffff16565b602d6000602c54815260200190815260200160002081905550602e6000602c54815260200190815260200160002060008a8152602001908152602001600020603160008b815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061081b60008a600b811015156107f557fe5b015460306000602c54815260200190815260200160002054610a2990919063ffffffff16565b60306000602c5481526020019081526020016000208190555061087d60008a600b8110151561084657fe5b0154602f6000602c54815260200190815260200160002060008c815260200190815260200160002054610a2990919063ffffffff16565b602f6000602c54815260200190815260200160002060008b815260200190815260200160002081905550505050505050505050005b3480156108be57600080fd5b506108c7610a4a565b005b3480156108d557600080fd5b506108fe6004803603810190808035906020019092919080359060200190929190505050610b1b565b6040518082815260200191505060405180910390f35b34801561092057600080fd5b50610955600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b4d565b005b34801561096357600080fd5b5061098260048036038101908080359060200190929190505050610bed565b6040518082815260200191505060405180910390f35b3480156109a457600080fd5b506109ad610c05565b6040518082815260200191505060405180910390f35b600080600090505b600081600b811015156109da57fe5b0154831415156109ff57600b8114156109f257600080fd5b80806001019150506109cb565b80915050919050565b600080838311151515610a1a57600080fd5b82840390508091505092915050565b6000808284019050838110151515610a4057600080fd5b8091505092915050565b603260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610aa657600080fd5b603260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc6033549081150290604051600060405180830381858888f19350505050158015610b10573d6000803e3d6000fd5b506000603381905550565b6000602e6000848152602001908152602001600020600083815260200190815260200160002080549050905092915050565b603260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610ba957600080fd5b80603260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60306020528060005260406000206000915090505481565b6000602d6000602c548152602001908152602001600020549050905600a165627a7a723058201935be59c9b39d196b4761347109992cffbf2872e147e1ca830c89f283ee1c6d0029"
}