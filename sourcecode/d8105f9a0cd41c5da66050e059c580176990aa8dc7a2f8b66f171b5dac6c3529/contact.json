{
  "address": "0x4c961ce47d5278678253323e7aec14e37333f7ee",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "TAOAncestry",
  "compilerVersion": "v0.5.4+commit.9549d8ff",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-06-04\n*/\n\npragma solidity >=0.5.4 <0.6.0;\n\ninterface tokenRecipient { function receiveApproval(address _from, uint256 _value, address _token, bytes calldata _extraData) external; }\n\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that throw on error\n */\nlibrary SafeMath {\n\n\t/**\n\t * @dev Multiplies two numbers, throws on overflow.\n\t */\n\tfunction mul(uint256 a, uint256 b) internal pure returns (uint256 c) {\n\t\t// Gas optimization: this is cheaper than asserting 'a' not being zero, but the\n\t\t// benefit is lost if 'b' is also tested.\n\t\t// See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n\t\tif (a == 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tc = a * b;\n\t\tassert(c / a == b);\n\t\treturn c;\n\t}\n\n\t/**\n\t * @dev Integer division of two numbers, truncating the quotient.\n\t */\n\tfunction div(uint256 a, uint256 b) internal pure returns (uint256) {\n\t\t// assert(b > 0); // Solidity automatically throws when dividing by 0\n\t\t// uint256 c = a / b;\n\t\t// assert(a == b * c + a % b); // There is no case in which this doesn't hold\n\t\treturn a / b;\n\t}\n\n\t/**\n\t * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n\t */\n\tfunction sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\t\tassert(b <= a);\n\t\treturn a - b;\n\t}\n\n\t/**\n\t * @dev Adds two numbers, throws on overflow.\n\t */\n\tfunction add(uint256 a, uint256 b) internal pure returns (uint256 c) {\n\t\tc = a + b;\n\t\tassert(c >= a);\n\t\treturn c;\n\t}\n}\n\n\ninterface INameAccountRecovery {\n\tfunction isCompromised(address _id) external view returns (bool);\n}\n\n\ninterface INameTAOPosition {\n\tfunction senderIsAdvocate(address _sender, address _id) external view returns (bool);\n\tfunction senderIsListener(address _sender, address _id) external view returns (bool);\n\tfunction senderIsSpeaker(address _sender, address _id) external view returns (bool);\n\tfunction senderIsPosition(address _sender, address _id) external view returns (bool);\n\tfunction getAdvocate(address _id) external view returns (address);\n\tfunction nameIsAdvocate(address _nameId, address _id) external view returns (bool);\n\tfunction nameIsPosition(address _nameId, address _id) external view returns (bool);\n\tfunction initialize(address _id, address _advocateId, address _listenerId, address _speakerId) external returns (bool);\n\tfunction determinePosition(address _sender, address _id) external view returns (uint256);\n}\n\n\ninterface INameFactory {\n\tfunction nonces(address _nameId) external view returns (uint256);\n\tfunction incrementNonce(address _nameId) external returns (uint256);\n\tfunction ethAddressToNameId(address _ethAddress) external view returns (address);\n\tfunction setNameNewAddress(address _id, address _newAddress) external returns (bool);\n\tfunction nameIdToEthAddress(address _nameId) external view returns (address);\n}\n\n\ninterface ITAOFactory {\n\tfunction nonces(address _taoId) external view returns (uint256);\n\tfunction incrementNonce(address _taoId) external returns (uint256);\n}\n\n\ninterface ITAOAncestry {\n\tfunction initialize(address _id, address _parentId, uint256 _childMinLogos) external returns (bool);\n\n\tfunction getAncestryById(address _id) external view returns (address, uint256, uint256);\n\n\tfunction addChild(address _taoId, address _childId) external returns (bool);\n\n\tfunction isChild(address _taoId, address _childId) external view returns (bool);\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\ncontract TokenERC20 {\n\t// Public variables of the token\n\tstring public name;\n\tstring public symbol;\n\tuint8 public decimals = 18;\n\t// 18 decimals is the strongly suggested default, avoid changing it\n\tuint256 public totalSupply;\n\n\t// This creates an array with all balances\n\tmapping (address => uint256) public balanceOf;\n\tmapping (address => mapping (address => uint256)) public allowance;\n\n\t// This generates a public event on the blockchain that will notify clients\n\tevent Transfer(address indexed from, address indexed to, uint256 value);\n\n\t// This generates a public event on the blockchain that will notify clients\n\tevent Approval(address indexed _owner, address indexed _spender, uint256 _value);\n\n\t// This notifies clients about the amount burnt\n\tevent Burn(address indexed from, uint256 value);\n\n\t/**\n\t * Constructor function\n\t *\n\t * Initializes contract with initial supply tokens to the creator of the contract\n\t */\n\tconstructor (uint256 initialSupply, string memory tokenName, string memory tokenSymbol) public {\n\t\ttotalSupply = initialSupply * 10 ** uint256(decimals);  // Update total supply with the decimal amount\n\t\tbalanceOf[msg.sender] = totalSupply;                // Give the creator all initial tokens\n\t\tname = tokenName;                                   // Set the name for display purposes\n\t\tsymbol = tokenSymbol;                               // Set the symbol for display purposes\n\t}\n\n\t/**\n\t * Internal transfer, only can be called by this contract\n\t */\n\tfunction _transfer(address _from, address _to, uint _value) internal {\n\t\t// Prevent transfer to 0x0 address. Use burn() instead\n\t\trequire(_to != address(0));\n\t\t// Check if the sender has enough\n\t\trequire(balanceOf[_from] >= _value);\n\t\t// Check for overflows\n\t\trequire(balanceOf[_to] + _value > balanceOf[_to]);\n\t\t// Save this for an assertion in the future\n\t\tuint previousBalances = balanceOf[_from] + balanceOf[_to];\n\t\t// Subtract from the sender\n\t\tbalanceOf[_from] -= _value;\n\t\t// Add the same to the recipient\n\t\tbalanceOf[_to] += _value;\n\t\temit Transfer(_from, _to, _value);\n\t\t// Asserts are used to use static analysis to find bugs in your code. They should never fail\n\t\tassert(balanceOf[_from] + balanceOf[_to] == previousBalances);\n\t}\n\n\t/**\n\t * Transfer tokens\n\t *\n\t * Send `_value` tokens to `_to` from your account\n\t *\n\t * @param _to The address of the recipient\n\t * @param _value the amount to send\n\t */\n\tfunction transfer(address _to, uint256 _value) public returns (bool success) {\n\t\t_transfer(msg.sender, _to, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Transfer tokens from other address\n\t *\n\t * Send `_value` tokens to `_to` in behalf of `_from`\n\t *\n\t * @param _from The address of the sender\n\t * @param _to The address of the recipient\n\t * @param _value the amount to send\n\t */\n\tfunction transferFrom(address _from, address _to, uint256 _value) public returns (bool success) {\n\t\trequire(_value <= allowance[_from][msg.sender]);     // Check allowance\n\t\tallowance[_from][msg.sender] -= _value;\n\t\t_transfer(_from, _to, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Set allowance for other address\n\t *\n\t * Allows `_spender` to spend no more than `_value` tokens in your behalf\n\t *\n\t * @param _spender The address authorized to spend\n\t * @param _value the max amount they can spend\n\t */\n\tfunction approve(address _spender, uint256 _value) public returns (bool success) {\n\t\tallowance[msg.sender][_spender] = _value;\n\t\temit Approval(msg.sender, _spender, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Set allowance for other address and notify\n\t *\n\t * Allows `_spender` to spend no more than `_value` tokens in your behalf, and then ping the contract about it\n\t *\n\t * @param _spender The address authorized to spend\n\t * @param _value the max amount they can spend\n\t * @param _extraData some extra information to send to the approved contract\n\t */\n\tfunction approveAndCall(address _spender, uint256 _value, bytes memory _extraData) public returns (bool success) {\n\t\ttokenRecipient spender = tokenRecipient(_spender);\n\t\tif (approve(_spender, _value)) {\n\t\t\tspender.receiveApproval(msg.sender, _value, address(this), _extraData);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/**\n\t * Destroy tokens\n\t *\n\t * Remove `_value` tokens from the system irreversibly\n\t *\n\t * @param _value the amount of money to burn\n\t */\n\tfunction burn(uint256 _value) public returns (bool success) {\n\t\trequire(balanceOf[msg.sender] >= _value);   // Check if the sender has enough\n\t\tbalanceOf[msg.sender] -= _value;            // Subtract from the sender\n\t\ttotalSupply -= _value;                      // Updates totalSupply\n\t\temit Burn(msg.sender, _value);\n\t\treturn true;\n\t}\n\n\t/**\n\t * Destroy tokens from other account\n\t *\n\t * Remove `_value` tokens from the system irreversibly on behalf of `_from`.\n\t *\n\t * @param _from the address of the sender\n\t * @param _value the amount of money to burn\n\t */\n\tfunction burnFrom(address _from, uint256 _value) public returns (bool success) {\n\t\trequire(balanceOf[_from] >= _value);                // Check if the targeted balance is enough\n\t\trequire(_value <= allowance[_from][msg.sender]);    // Check allowance\n\t\tbalanceOf[_from] -= _value;                         // Subtract from the targeted balance\n\t\tallowance[_from][msg.sender] -= _value;             // Subtract from the sender's allowance\n\t\ttotalSupply -= _value;                              // Update totalSupply\n\t\temit Burn(_from, _value);\n\t\treturn true;\n\t}\n}\n\n\n/**\n * @title TAO\n */\ncontract TAO {\n\tusing SafeMath for uint256;\n\n\taddress public vaultAddress;\n\tstring public name;\t\t\t\t// the name for this TAO\n\taddress public originId;\t\t// the ID of the Name that created this TAO. If Name, it's the eth address\n\n\t// TAO's data\n\tstring public datHash;\n\tstring public database;\n\tstring public keyValue;\n\tbytes32 public contentId;\n\n\t/**\n\t * 0 = TAO\n\t * 1 = Name\n\t */\n\tuint8 public typeId;\n\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor (string memory _name,\n\t\taddress _originId,\n\t\tstring memory _datHash,\n\t\tstring memory _database,\n\t\tstring memory _keyValue,\n\t\tbytes32 _contentId,\n\t\taddress _vaultAddress\n\t) public {\n\t\tname = _name;\n\t\toriginId = _originId;\n\t\tdatHash = _datHash;\n\t\tdatabase = _database;\n\t\tkeyValue = _keyValue;\n\t\tcontentId = _contentId;\n\n\t\t// Creating TAO\n\t\ttypeId = 0;\n\n\t\tvaultAddress = _vaultAddress;\n\t}\n\n\t/**\n\t * @dev Checks if calling address is Vault contract\n\t */\n\tmodifier onlyVault {\n\t\trequire (msg.sender == vaultAddress);\n\t\t_;\n\t}\n\n\t/**\n\t * Will receive any ETH sent\n\t */\n\tfunction () external payable {\n\t}\n\n\t/**\n\t * @dev Allows Vault to transfer `_amount` of ETH from this TAO to `_recipient`\n\t * @param _recipient The recipient address\n\t * @param _amount The amount to transfer\n\t * @return true on success\n\t */\n\tfunction transferEth(address payable _recipient, uint256 _amount) public onlyVault returns (bool) {\n\t\t_recipient.transfer(_amount);\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev Allows Vault to transfer `_amount` of ERC20 Token from this TAO to `_recipient`\n\t * @param _erc20TokenAddress The address of ERC20 Token\n\t * @param _recipient The recipient address\n\t * @param _amount The amount to transfer\n\t * @return true on success\n\t */\n\tfunction transferERC20(address _erc20TokenAddress, address _recipient, uint256 _amount) public onlyVault returns (bool) {\n\t\tTokenERC20 _erc20 = TokenERC20(_erc20TokenAddress);\n\t\t_erc20.transfer(_recipient, _amount);\n\t\treturn true;\n\t}\n}\n\n\n\n\n/**\n * @title Name\n */\ncontract Name is TAO {\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor (string memory _name, address _originId, string memory _datHash, string memory _database, string memory _keyValue, bytes32 _contentId, address _vaultAddress)\n\t\tTAO (_name, _originId, _datHash, _database, _keyValue, _contentId, _vaultAddress) public {\n\t\t// Creating Name\n\t\ttypeId = 1;\n\t}\n}\n\n\n\n\n/**\n * @title AOLibrary\n */\nlibrary AOLibrary {\n\tusing SafeMath for uint256;\n\n\tuint256 constant private _MULTIPLIER_DIVISOR = 10 ** 6; // 1000000 = 1\n\tuint256 constant private _PERCENTAGE_DIVISOR = 10 ** 6; // 100% = 1000000\n\n\t/**\n\t * @dev Check whether or not the given TAO ID is a TAO\n\t * @param _taoId The ID of the TAO\n\t * @return true if yes. false otherwise\n\t */\n\tfunction isTAO(address _taoId) public view returns (bool) {\n\t\treturn (_taoId != address(0) && bytes(TAO(address(uint160(_taoId))).name()).length > 0 && TAO(address(uint160(_taoId))).originId() != address(0) && TAO(address(uint160(_taoId))).typeId() == 0);\n\t}\n\n\t/**\n\t * @dev Check whether or not the given Name ID is a Name\n\t * @param _nameId The ID of the Name\n\t * @return true if yes. false otherwise\n\t */\n\tfunction isName(address _nameId) public view returns (bool) {\n\t\treturn (_nameId != address(0) && bytes(TAO(address(uint160(_nameId))).name()).length > 0 && Name(address(uint160(_nameId))).originId() != address(0) && Name(address(uint160(_nameId))).typeId() == 1);\n\t}\n\n\t/**\n\t * @dev Check if `_tokenAddress` is a valid ERC20 Token address\n\t * @param _tokenAddress The ERC20 Token address to check\n\t */\n\tfunction isValidERC20TokenAddress(address _tokenAddress) public view returns (bool) {\n\t\tif (_tokenAddress == address(0)) {\n\t\t\treturn false;\n\t\t}\n\t\tTokenERC20 _erc20 = TokenERC20(_tokenAddress);\n\t\treturn (_erc20.totalSupply() >= 0 && bytes(_erc20.name()).length > 0 && bytes(_erc20.symbol()).length > 0);\n\t}\n\n\t/**\n\t * @dev Checks if the calling contract address is The AO\n\t *\t\tOR\n\t *\t\tIf The AO is set to a Name/TAO, then check if calling address is the Advocate\n\t * @param _sender The address to check\n\t * @param _theAO The AO address\n\t * @param _nameTAOPositionAddress The address of NameTAOPosition\n\t * @return true if yes, false otherwise\n\t */\n\tfunction isTheAO(address _sender, address _theAO, address _nameTAOPositionAddress) public view returns (bool) {\n\t\treturn (_sender == _theAO ||\n\t\t\t(\n\t\t\t\t(isTAO(_theAO) || isName(_theAO)) &&\n\t\t\t\t_nameTAOPositionAddress != address(0) &&\n\t\t\t\tINameTAOPosition(_nameTAOPositionAddress).senderIsAdvocate(_sender, _theAO)\n\t\t\t)\n\t\t);\n\t}\n\n\t/**\n\t * @dev Return the divisor used to correctly calculate percentage.\n\t *\t\tPercentage stored throughout AO contracts covers 4 decimals,\n\t *\t\tso 1% is 10000, 1.25% is 12500, etc\n\t */\n\tfunction PERCENTAGE_DIVISOR() public pure returns (uint256) {\n\t\treturn _PERCENTAGE_DIVISOR;\n\t}\n\n\t/**\n\t * @dev Return the divisor used to correctly calculate multiplier.\n\t *\t\tMultiplier stored throughout AO contracts covers 6 decimals,\n\t *\t\tso 1 is 1000000, 0.023 is 23000, etc\n\t */\n\tfunction MULTIPLIER_DIVISOR() public pure returns (uint256) {\n\t\treturn _MULTIPLIER_DIVISOR;\n\t}\n\n\t/**\n\t * @dev deploy a TAO\n\t * @param _name The name of the TAO\n\t * @param _originId The Name ID the creates the TAO\n\t * @param _datHash The datHash of this TAO\n\t * @param _database The database for this TAO\n\t * @param _keyValue The key/value pair to be checked on the database\n\t * @param _contentId The contentId related to this TAO\n\t * @param _nameTAOVaultAddress The address of NameTAOVault\n\t */\n\tfunction deployTAO(string memory _name,\n\t\taddress _originId,\n\t\tstring memory _datHash,\n\t\tstring memory _database,\n\t\tstring memory _keyValue,\n\t\tbytes32 _contentId,\n\t\taddress _nameTAOVaultAddress\n\t\t) public returns (TAO _tao) {\n\t\t_tao = new TAO(_name, _originId, _datHash, _database, _keyValue, _contentId, _nameTAOVaultAddress);\n\t}\n\n\t/**\n\t * @dev deploy a Name\n\t * @param _name The name of the Name\n\t * @param _originId The eth address the creates the Name\n\t * @param _datHash The datHash of this Name\n\t * @param _database The database for this Name\n\t * @param _keyValue The key/value pair to be checked on the database\n\t * @param _contentId The contentId related to this Name\n\t * @param _nameTAOVaultAddress The address of NameTAOVault\n\t */\n\tfunction deployName(string memory _name,\n\t\taddress _originId,\n\t\tstring memory _datHash,\n\t\tstring memory _database,\n\t\tstring memory _keyValue,\n\t\tbytes32 _contentId,\n\t\taddress _nameTAOVaultAddress\n\t\t) public returns (Name _myName) {\n\t\t_myName = new Name(_name, _originId, _datHash, _database, _keyValue, _contentId, _nameTAOVaultAddress);\n\t}\n\n\t/**\n\t * @dev Calculate the new weighted multiplier when adding `_additionalPrimordialAmount` at `_additionalWeightedMultiplier` to the current `_currentPrimordialBalance` at `_currentWeightedMultiplier`\n\t * @param _currentWeightedMultiplier Account's current weighted multiplier\n\t * @param _currentPrimordialBalance Account's current primordial ion balance\n\t * @param _additionalWeightedMultiplier The weighted multiplier to be added\n\t * @param _additionalPrimordialAmount The primordial ion amount to be added\n\t * @return the new primordial weighted multiplier\n\t */\n\tfunction calculateWeightedMultiplier(uint256 _currentWeightedMultiplier, uint256 _currentPrimordialBalance, uint256 _additionalWeightedMultiplier, uint256 _additionalPrimordialAmount) public pure returns (uint256) {\n\t\tif (_currentWeightedMultiplier > 0) {\n\t\t\tuint256 _totalWeightedIons = (_currentWeightedMultiplier.mul(_currentPrimordialBalance)).add(_additionalWeightedMultiplier.mul(_additionalPrimordialAmount));\n\t\t\tuint256 _totalIons = _currentPrimordialBalance.add(_additionalPrimordialAmount);\n\t\t\treturn _totalWeightedIons.div(_totalIons);\n\t\t} else {\n\t\t\treturn _additionalWeightedMultiplier;\n\t\t}\n\t}\n\n\t/**\n\t * @dev Calculate the primordial ion multiplier on a given lot\n\t *\t\tTotal Primordial Mintable = T\n\t *\t\tTotal Primordial Minted = M\n\t *\t\tStarting Multiplier = S\n\t *\t\tEnding Multiplier = E\n\t *\t\tTo Purchase = P\n\t *\t\tMultiplier for next Lot of Amount = (1 - ((M + P/2) / T)) x (S-E)\n\t *\n\t * @param _purchaseAmount The amount of primordial ion intended to be purchased\n\t * @param _totalPrimordialMintable Total Primordial ion mintable\n\t * @param _totalPrimordialMinted Total Primordial ion minted so far\n\t * @param _startingMultiplier The starting multiplier in (10 ** 6)\n\t * @param _endingMultiplier The ending multiplier in (10 ** 6)\n\t * @return The multiplier in (10 ** 6)\n\t */\n\tfunction calculatePrimordialMultiplier(uint256 _purchaseAmount, uint256 _totalPrimordialMintable, uint256 _totalPrimordialMinted, uint256 _startingMultiplier, uint256 _endingMultiplier) public pure returns (uint256) {\n\t\tif (_purchaseAmount > 0 && _purchaseAmount <= _totalPrimordialMintable.sub(_totalPrimordialMinted)) {\n\t\t\t/**\n\t\t\t * Let temp = M + (P/2)\n\t\t\t * Multiplier = (1 - (temp / T)) x (S-E)\n\t\t\t */\n\t\t\tuint256 temp = _totalPrimordialMinted.add(_purchaseAmount.div(2));\n\n\t\t\t/**\n\t\t\t * Multiply multiplier with _MULTIPLIER_DIVISOR/_MULTIPLIER_DIVISOR to account for 6 decimals\n\t\t\t * so, Multiplier = (_MULTIPLIER_DIVISOR/_MULTIPLIER_DIVISOR) * (1 - (temp / T)) * (S-E)\n\t\t\t * Multiplier = ((_MULTIPLIER_DIVISOR * (1 - (temp / T))) * (S-E)) / _MULTIPLIER_DIVISOR\n\t\t\t * Multiplier = ((_MULTIPLIER_DIVISOR - ((_MULTIPLIER_DIVISOR * temp) / T)) * (S-E)) / _MULTIPLIER_DIVISOR\n\t\t\t * Take out the division by _MULTIPLIER_DIVISOR for now and include in later calculation\n\t\t\t * Multiplier = (_MULTIPLIER_DIVISOR - ((_MULTIPLIER_DIVISOR * temp) / T)) * (S-E)\n\t\t\t */\n\t\t\tuint256 multiplier = (_MULTIPLIER_DIVISOR.sub(_MULTIPLIER_DIVISOR.mul(temp).div(_totalPrimordialMintable))).mul(_startingMultiplier.sub(_endingMultiplier));\n\t\t\t/**\n\t\t\t * Since _startingMultiplier and _endingMultiplier are in 6 decimals\n\t\t\t * Need to divide multiplier by _MULTIPLIER_DIVISOR\n\t\t\t */\n\t\t\treturn multiplier.div(_MULTIPLIER_DIVISOR);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t/**\n\t * @dev Calculate the bonus percentage of network ion on a given lot\n\t *\t\tTotal Primordial Mintable = T\n\t *\t\tTotal Primordial Minted = M\n\t *\t\tStarting Network Bonus Multiplier = Bs\n\t *\t\tEnding Network Bonus Multiplier = Be\n\t *\t\tTo Purchase = P\n\t *\t\tAO Bonus % = B% = (1 - ((M + P/2) / T)) x (Bs-Be)\n\t *\n\t * @param _purchaseAmount The amount of primordial ion intended to be purchased\n\t * @param _totalPrimordialMintable Total Primordial ion intable\n\t * @param _totalPrimordialMinted Total Primordial ion minted so far\n\t * @param _startingMultiplier The starting Network ion bonus multiplier\n\t * @param _endingMultiplier The ending Network ion bonus multiplier\n\t * @return The bonus percentage\n\t */\n\tfunction calculateNetworkBonusPercentage(uint256 _purchaseAmount, uint256 _totalPrimordialMintable, uint256 _totalPrimordialMinted, uint256 _startingMultiplier, uint256 _endingMultiplier) public pure returns (uint256) {\n\t\tif (_purchaseAmount > 0 && _purchaseAmount <= _totalPrimordialMintable.sub(_totalPrimordialMinted)) {\n\t\t\t/**\n\t\t\t * Let temp = M + (P/2)\n\t\t\t * B% = (1 - (temp / T)) x (Bs-Be)\n\t\t\t */\n\t\t\tuint256 temp = _totalPrimordialMinted.add(_purchaseAmount.div(2));\n\n\t\t\t/**\n\t\t\t * Multiply B% with _PERCENTAGE_DIVISOR/_PERCENTAGE_DIVISOR to account for 6 decimals\n\t\t\t * so, B% = (_PERCENTAGE_DIVISOR/_PERCENTAGE_DIVISOR) * (1 - (temp / T)) * (Bs-Be)\n\t\t\t * B% = ((_PERCENTAGE_DIVISOR * (1 - (temp / T))) * (Bs-Be)) / _PERCENTAGE_DIVISOR\n\t\t\t * B% = ((_PERCENTAGE_DIVISOR - ((_PERCENTAGE_DIVISOR * temp) / T)) * (Bs-Be)) / _PERCENTAGE_DIVISOR\n\t\t\t * Take out the division by _PERCENTAGE_DIVISOR for now and include in later calculation\n\t\t\t * B% = (_PERCENTAGE_DIVISOR - ((_PERCENTAGE_DIVISOR * temp) / T)) * (Bs-Be)\n\t\t\t * But since Bs and Be are in 6 decimals, need to divide by _PERCENTAGE_DIVISOR\n\t\t\t * B% = (_PERCENTAGE_DIVISOR - ((_PERCENTAGE_DIVISOR * temp) / T)) * (Bs-Be) / _PERCENTAGE_DIVISOR\n\t\t\t */\n\t\t\tuint256 bonusPercentage = (_PERCENTAGE_DIVISOR.sub(_PERCENTAGE_DIVISOR.mul(temp).div(_totalPrimordialMintable))).mul(_startingMultiplier.sub(_endingMultiplier)).div(_PERCENTAGE_DIVISOR);\n\t\t\treturn bonusPercentage;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t/**\n\t * @dev Calculate the bonus amount of network ion on a given lot\n\t *\t\tAO Bonus Amount = B% x P\n\t *\n\t * @param _purchaseAmount The amount of primordial ion intended to be purchased\n\t * @param _totalPrimordialMintable Total Primordial ion intable\n\t * @param _totalPrimordialMinted Total Primordial ion minted so far\n\t * @param _startingMultiplier The starting Network ion bonus multiplier\n\t * @param _endingMultiplier The ending Network ion bonus multiplier\n\t * @return The bonus percentage\n\t */\n\tfunction calculateNetworkBonusAmount(uint256 _purchaseAmount, uint256 _totalPrimordialMintable, uint256 _totalPrimordialMinted, uint256 _startingMultiplier, uint256 _endingMultiplier) public pure returns (uint256) {\n\t\tuint256 bonusPercentage = calculateNetworkBonusPercentage(_purchaseAmount, _totalPrimordialMintable, _totalPrimordialMinted, _startingMultiplier, _endingMultiplier);\n\t\t/**\n\t\t * Since bonusPercentage is in _PERCENTAGE_DIVISOR format, need to divide it with _PERCENTAGE DIVISOR\n\t\t * when calculating the network ion bonus amount\n\t\t */\n\t\tuint256 networkBonus = bonusPercentage.mul(_purchaseAmount).div(_PERCENTAGE_DIVISOR);\n\t\treturn networkBonus;\n\t}\n\n\t/**\n\t * @dev Calculate the maximum amount of Primordial an account can burn\n\t *\t\t_primordialBalance = P\n\t *\t\t_currentWeightedMultiplier = M\n\t *\t\t_maximumMultiplier = S\n\t *\t\t_amountToBurn = B\n\t *\t\tB = ((S x P) - (P x M)) / S\n\t *\n\t * @param _primordialBalance Account's primordial ion balance\n\t * @param _currentWeightedMultiplier Account's current weighted multiplier\n\t * @param _maximumMultiplier The maximum multiplier of this account\n\t * @return The maximum burn amount\n\t */\n\tfunction calculateMaximumBurnAmount(uint256 _primordialBalance, uint256 _currentWeightedMultiplier, uint256 _maximumMultiplier) public pure returns (uint256) {\n\t\treturn (_maximumMultiplier.mul(_primordialBalance).sub(_primordialBalance.mul(_currentWeightedMultiplier))).div(_maximumMultiplier);\n\t}\n\n\t/**\n\t * @dev Calculate the new multiplier after burning primordial ion\n\t *\t\t_primordialBalance = P\n\t *\t\t_currentWeightedMultiplier = M\n\t *\t\t_amountToBurn = B\n\t *\t\t_newMultiplier = E\n\t *\t\tE = (P x M) / (P - B)\n\t *\n\t * @param _primordialBalance Account's primordial ion balance\n\t * @param _currentWeightedMultiplier Account's current weighted multiplier\n\t * @param _amountToBurn The amount of primordial ion to burn\n\t * @return The new multiplier\n\t */\n\tfunction calculateMultiplierAfterBurn(uint256 _primordialBalance, uint256 _currentWeightedMultiplier, uint256 _amountToBurn) public pure returns (uint256) {\n\t\treturn _primordialBalance.mul(_currentWeightedMultiplier).div(_primordialBalance.sub(_amountToBurn));\n\t}\n\n\t/**\n\t * @dev Calculate the new multiplier after converting network ion to primordial ion\n\t *\t\t_primordialBalance = P\n\t *\t\t_currentWeightedMultiplier = M\n\t *\t\t_amountToConvert = C\n\t *\t\t_newMultiplier = E\n\t *\t\tE = (P x M) / (P + C)\n\t *\n\t * @param _primordialBalance Account's primordial ion balance\n\t * @param _currentWeightedMultiplier Account's current weighted multiplier\n\t * @param _amountToConvert The amount of network ion to convert\n\t * @return The new multiplier\n\t */\n\tfunction calculateMultiplierAfterConversion(uint256 _primordialBalance, uint256 _currentWeightedMultiplier, uint256 _amountToConvert) public pure returns (uint256) {\n\t\treturn _primordialBalance.mul(_currentWeightedMultiplier).div(_primordialBalance.add(_amountToConvert));\n\t}\n\n\t/**\n\t * @dev count num of digits\n\t * @param number uint256 of the nuumber to be checked\n\t * @return uint8 num of digits\n\t */\n\tfunction numDigits(uint256 number) public pure returns (uint8) {\n\t\tuint8 digits = 0;\n\t\twhile(number != 0) {\n\t\t\tnumber = number.div(10);\n\t\t\tdigits++;\n\t\t}\n\t\treturn digits;\n\t}\n}\n\n\n\n\n\ncontract TheAO {\n\taddress public theAO;\n\taddress public nameTAOPositionAddress;\n\n\t// Check whether an address is whitelisted and granted access to transact\n\t// on behalf of others\n\tmapping (address => bool) public whitelist;\n\n\tconstructor() public {\n\t\ttheAO = msg.sender;\n\t}\n\n\t/**\n\t * @dev Checks if msg.sender is in whitelist.\n\t */\n\tmodifier inWhitelist() {\n\t\trequire (whitelist[msg.sender] == true);\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Transfer ownership of The AO to new address\n\t * @param _theAO The new address to be transferred\n\t */\n\tfunction transferOwnership(address _theAO) public {\n\t\trequire (msg.sender == theAO);\n\t\trequire (_theAO != address(0));\n\t\ttheAO = _theAO;\n\t}\n\n\t/**\n\t * @dev Whitelist `_account` address to transact on behalf of others\n\t * @param _account The address to whitelist\n\t * @param _whitelist Either to whitelist or not\n\t */\n\tfunction setWhitelist(address _account, bool _whitelist) public {\n\t\trequire (msg.sender == theAO);\n\t\trequire (_account != address(0));\n\t\twhitelist[_account] = _whitelist;\n\t}\n}\n\n\n\n\n\n\n/**\n * @title TAOController\n */\ncontract TAOController is TheAO {\n\taddress public nameFactoryAddress;\n\taddress public nameAccountRecoveryAddress;\n\n\tINameFactory internal _nameFactory;\n\tINameTAOPosition internal _nameTAOPosition;\n\tINameAccountRecovery internal _nameAccountRecovery;\n\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor(address _nameFactoryAddress) public {\n\t\tsetNameFactoryAddress(_nameFactoryAddress);\n\t}\n\n\t/**\n\t * @dev Checks if the calling contract address is The AO\n\t *\t\tOR\n\t *\t\tIf The AO is set to a Name/TAO, then check if calling address is the Advocate\n\t */\n\tmodifier onlyTheAO {\n\t\trequire (AOLibrary.isTheAO(msg.sender, theAO, nameTAOPositionAddress));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if `_taoId` is a TAO\n\t */\n\tmodifier isTAO(address _taoId) {\n\t\trequire (AOLibrary.isTAO(_taoId));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if `_nameId` is a Name\n\t */\n\tmodifier isName(address _nameId) {\n\t\trequire (AOLibrary.isName(_nameId));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check if `_id` is a Name or a TAO\n\t */\n\tmodifier isNameOrTAO(address _id) {\n\t\trequire (AOLibrary.isName(_id) || AOLibrary.isTAO(_id));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Check is msg.sender address is a Name\n\t */\n\t modifier senderIsName() {\n\t\trequire (_nameFactory.ethAddressToNameId(msg.sender) != address(0));\n\t\t_;\n\t }\n\n\t/**\n\t * @dev Check if msg.sender is the current advocate of TAO ID\n\t */\n\tmodifier onlyAdvocate(address _id) {\n\t\trequire (_nameTAOPosition.senderIsAdvocate(msg.sender, _id));\n\t\t_;\n\t}\n\n\t/**\n\t * @dev Only allowed if sender's Name is not compromised\n\t */\n\tmodifier senderNameNotCompromised() {\n\t\trequire (!_nameAccountRecovery.isCompromised(_nameFactory.ethAddressToNameId(msg.sender)));\n\t\t_;\n\t}\n\n\t/***** The AO ONLY METHODS *****/\n\t/**\n\t * @dev Transfer ownership of The AO to new address\n\t * @param _theAO The new address to be transferred\n\t */\n\tfunction transferOwnership(address _theAO) public onlyTheAO {\n\t\trequire (_theAO != address(0));\n\t\ttheAO = _theAO;\n\t}\n\n\t/**\n\t * @dev Whitelist `_account` address to transact on behalf of others\n\t * @param _account The address to whitelist\n\t * @param _whitelist Either to whitelist or not\n\t */\n\tfunction setWhitelist(address _account, bool _whitelist) public onlyTheAO {\n\t\trequire (_account != address(0));\n\t\twhitelist[_account] = _whitelist;\n\t}\n\n\t/**\n\t * @dev The AO sets NameFactory address\n\t * @param _nameFactoryAddress The address of NameFactory\n\t */\n\tfunction setNameFactoryAddress(address _nameFactoryAddress) public onlyTheAO {\n\t\trequire (_nameFactoryAddress != address(0));\n\t\tnameFactoryAddress = _nameFactoryAddress;\n\t\t_nameFactory = INameFactory(_nameFactoryAddress);\n\t}\n\n\t/**\n\t * @dev The AO sets NameTAOPosition address\n\t * @param _nameTAOPositionAddress The address of NameTAOPosition\n\t */\n\tfunction setNameTAOPositionAddress(address _nameTAOPositionAddress) public onlyTheAO {\n\t\trequire (_nameTAOPositionAddress != address(0));\n\t\tnameTAOPositionAddress = _nameTAOPositionAddress;\n\t\t_nameTAOPosition = INameTAOPosition(_nameTAOPositionAddress);\n\t}\n\n\t/**\n\t * @dev The AO set the NameAccountRecovery Address\n\t * @param _nameAccountRecoveryAddress The address of NameAccountRecovery\n\t */\n\tfunction setNameAccountRecoveryAddress(address _nameAccountRecoveryAddress) public onlyTheAO {\n\t\trequire (_nameAccountRecoveryAddress != address(0));\n\t\tnameAccountRecoveryAddress = _nameAccountRecoveryAddress;\n\t\t_nameAccountRecovery = INameAccountRecovery(nameAccountRecoveryAddress);\n\t}\n}\n\n\n\n\n/**\n * @title TAOAncestry\n */\ncontract TAOAncestry is TAOController, ITAOAncestry {\n\tusing SafeMath for uint256;\n\n\taddress public taoFactoryAddress;\n\n\tITAOFactory internal _taoFactory;\n\n\tstruct Child {\n\t\taddress taoId;\n\t\tbool approved;\t\t// If false, then waiting for parent TAO approval\n\t\tbool connected;\t\t// If false, then parent TAO want to remove this child TAO\n\t}\n\n\tstruct Ancestry {\n\t\taddress taoId;\n\t\taddress parentId;\t// The parent of this TAO ID (could be a Name or TAO)\n\t\tuint256 childMinLogos;\n\t\tmapping (uint256 => Child) children;\n\t\tmapping (address => uint256) childInternalIdLookup;\n\t\tuint256 totalChildren;\n\t\tuint256 childInternalId;\n\t}\n\n\tmapping (address => Ancestry) internal ancestries;\n\n\t// Event to be broadcasted to public when Advocate updates min required Logos to create a child TAO\n\tevent UpdateChildMinLogos(address indexed taoId, uint256 childMinLogos, uint256 nonce);\n\n\t// Event to be broadcasted to public when a TAO adds a child TAO\n\tevent AddChild(address indexed taoId, address taoAdvocate, address childId, address childAdvocate, bool approved, bool connected);\n\n\t// Event to be broadcasted to public when a TAO approves a child TAO\n\tevent ApproveChild(address indexed taoId, address taoAdvocate, address childId, address childAdvocate, uint256 nonce);\n\n\t// Event to be broadcasted to public when a TAO removes a child TAO\n\tevent RemoveChild(address indexed taoId, address taoAdvocate, address childId, address childAdvocate, uint256 nonce);\n\n\t/**\n\t * @dev Constructor function\n\t */\n\tconstructor(address _nameFactoryAddress, address _taoFactoryAddress, address _nameTAOPositionAddress)\n\t\tTAOController(_nameFactoryAddress) public {\n\t\tsetTAOFactoryAddress(_taoFactoryAddress);\n\t\tsetNameTAOPositionAddress(_nameTAOPositionAddress);\n\t}\n\n\t/**\n\t * @dev Check if calling address is Factory\n\t */\n\tmodifier onlyFactory {\n\t\trequire (msg.sender == taoFactoryAddress);\n\t\t_;\n\t}\n\n\t/***** The AO ONLY METHODS *****/\n\t/**\n\t * @dev The AO set the TAOFactory Address\n\t * @param _taoFactoryAddress The address of TAOFactory\n\t */\n\tfunction setTAOFactoryAddress(address _taoFactoryAddress) public onlyTheAO {\n\t\trequire (_taoFactoryAddress != address(0));\n\t\ttaoFactoryAddress = _taoFactoryAddress;\n\t\t_taoFactory = ITAOFactory(_taoFactoryAddress);\n\t}\n\n\t/***** PUBLIC METHODS *****/\n\t/**\n\t * @dev Check whether or not a TAO ID exist in the list of ancestries\n\t * @param _id The ID to be checked\n\t * @return true if yes, false otherwise\n\t */\n\tfunction isExist(address _id) public view returns (bool) {\n\t\treturn ancestries[_id].taoId != address(0);\n\t}\n\n\t/**\n\t * @dev Store the Ancestry info for a TAO\n\t * @param _id The ID of the TAO\n\t * @param _parentId The parent ID of this TAO\n\t * @param _childMinLogos The min required Logos to create a TAO\n\t * @return true on success\n\t */\n\tfunction initialize(address _id, address _parentId, uint256 _childMinLogos)\n\t\texternal\n\t\tisTAO(_id)\n\t\tisNameOrTAO(_parentId)\n\t\tonlyFactory returns (bool) {\n\t\trequire (!isExist(_id));\n\n\t\tAncestry storage _ancestry = ancestries[_id];\n\t\t_ancestry.taoId = _id;\n\t\t_ancestry.parentId = _parentId;\n\t\t_ancestry.childMinLogos = _childMinLogos;\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev Get Ancestry info given a TAO ID\n\t * @param _id The ID of the TAO\n\t * @return the parent ID of this TAO (could be a Name/TAO)\n\t * @return the min required Logos to create a child TAO\n\t * @return the total child TAOs count\n\t */\n\tfunction getAncestryById(address _id) external view returns (address, uint256, uint256) {\n\t\trequire (isExist(_id));\n\t\tAncestry memory _ancestry = ancestries[_id];\n\t\treturn (\n\t\t\t_ancestry.parentId,\n\t\t\t_ancestry.childMinLogos,\n\t\t\t_ancestry.totalChildren\n\t\t);\n\t}\n\n\t/**\n\t * @dev Set min required Logos to create a child from this TAO\n\t * @param _childMinLogos The min Logos to set\n\t * @return the nonce for this transaction\n\t */\n\tfunction updateChildMinLogos(address _id, uint256 _childMinLogos)\n\t\tpublic\n\t\tisTAO(_id)\n\t\tsenderIsName\n\t\tsenderNameNotCompromised\n\t\tonlyAdvocate(_id) {\n\t\trequire (isExist(_id));\n\n\t\tAncestry storage _ancestry = ancestries[_id];\n\t\t_ancestry.childMinLogos = _childMinLogos;\n\n\t\tuint256 _nonce = _taoFactory.incrementNonce(_id);\n\t\trequire (_nonce > 0);\n\t\temit UpdateChildMinLogos(_id, _ancestry.childMinLogos, _nonce);\n\t}\n\n\t/**\n\t * @dev Check if `_childId` is a child TAO of `_taoId`\n\t * @param _taoId The TAO ID to be checked\n\t * @param _childId The child TAO ID to check\n\t * @return true if yes. Otherwise return false.\n\t */\n\tfunction isChild(address _taoId, address _childId) external view returns (bool) {\n\t\trequire (isExist(_taoId) && isExist(_childId));\n\t\tAncestry storage _ancestry = ancestries[_taoId];\n\t\tAncestry memory _childAncestry = ancestries[_childId];\n\t\tuint256 _childInternalId = _ancestry.childInternalIdLookup[_childId];\n\t\treturn (\n\t\t\t_childInternalId > 0 &&\n\t\t\t_ancestry.children[_childInternalId].approved &&\n\t\t\t_ancestry.children[_childInternalId].connected &&\n\t\t\t_childAncestry.parentId == _taoId\n\t\t);\n\t}\n\n\t/**\n\t * @dev Check if `_childId` is a child TAO of `_taoId` that is not yet approved\n\t * @param _taoId The TAO ID to be checked\n\t * @param _childId The child TAO ID to check\n\t * @return true if yes. Otherwise return false.\n\t */\n\tfunction isNotApprovedChild(address _taoId, address _childId) public view returns (bool) {\n\t\trequire (isExist(_taoId) && isExist(_childId));\n\t\tAncestry storage _ancestry = ancestries[_taoId];\n\t\tuint256 _childInternalId = _ancestry.childInternalIdLookup[_childId];\n\t\treturn (\n\t\t\t_childInternalId > 0 &&\n\t\t\t!_ancestry.children[_childInternalId].approved &&\n\t\t\t!_ancestry.children[_childInternalId].connected\n\t\t);\n\t}\n\n\t/**\n\t * @dev Add child TAO\n\t * @param _taoId The TAO ID to be added to\n\t * @param _childId The ID to be added to as child TAO\n\t */\n\tfunction addChild(address _taoId, address _childId)\n\t\texternal\n\t\tisTAO(_taoId)\n\t\tisTAO(_childId)\n\t\tonlyFactory returns (bool) {\n\t\trequire (!this.isChild(_taoId, _childId));\n\t\tAncestry storage _ancestry = ancestries[_taoId];\n\t\trequire (_ancestry.childInternalIdLookup[_childId] == 0);\n\n\t\t_ancestry.childInternalId++;\n\t\t_ancestry.childInternalIdLookup[_childId] = _ancestry.childInternalId;\n\n\t\tChild storage _child = _ancestry.children[_ancestry.childInternalId];\n\t\t_child.taoId = _childId;\n\n\t\t// If _taoId's Advocate == _childId's Advocate, then the child is automatically approved and connected\n\t\t// Otherwise, child TAO needs parent TAO approval\n\t\taddress _taoAdvocate = _nameTAOPosition.getAdvocate(_taoId);\n\t\taddress _childAdvocate = _nameTAOPosition.getAdvocate(_childId);\n\t\temit AddChild(_taoId, _taoAdvocate, _childId, _childAdvocate, _child.approved, _child.connected);\n\n\t\tif (_taoAdvocate == _childAdvocate) {\n\t\t\t_approveChild(_taoId, _childId);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @dev Advocate of `_taoId` approves child `_childId`\n\t * @param _taoId The TAO ID to be checked\n\t * @param _childId The child TAO ID to be approved\n\t */\n\tfunction approveChild(address _taoId, address _childId)\n\t\tpublic\n\t\tisTAO(_taoId)\n\t\tisTAO(_childId)\n\t\tsenderIsName\n\t\tsenderNameNotCompromised\n\t\tonlyAdvocate(_taoId) {\n\t\trequire (isExist(_taoId) && isExist(_childId));\n\t\trequire (isNotApprovedChild(_taoId, _childId));\n\t\t_approveChild(_taoId, _childId);\n\t}\n\n\t/**\n\t * @dev Advocate of `_taoId` removes child `_childId`\n\t * @param _taoId The TAO ID to be checked\n\t * @param _childId The child TAO ID to be removed\n\t */\n\tfunction removeChild(address _taoId, address _childId)\n\t\tpublic\n\t\tisTAO(_taoId)\n\t\tisTAO(_childId)\n\t\tsenderIsName\n\t\tsenderNameNotCompromised\n\t\tonlyAdvocate(_taoId) {\n\t\trequire (this.isChild(_taoId, _childId));\n\n\t\tAncestry storage _ancestry = ancestries[_taoId];\n\t\t_ancestry.totalChildren--;\n\n\t\tChild storage _child = _ancestry.children[_ancestry.childInternalIdLookup[_childId]];\n\t\t_child.connected = false;\n\t\t_ancestry.childInternalIdLookup[_childId] = 0;\n\n\t\tAncestry storage _childAncestry = ancestries[_childId];\n\t\t_childAncestry.parentId = address(0);\n\n\t\tuint256 _nonce = _taoFactory.incrementNonce(_taoId);\n\t\trequire (_nonce > 0);\n\n\t\taddress _taoAdvocate = _nameTAOPosition.getAdvocate(_taoId);\n\t\taddress _childAdvocate = _nameTAOPosition.getAdvocate(_childId);\n\t\temit RemoveChild(_taoId, _taoAdvocate, _childId, _childAdvocate, _nonce);\n\t}\n\n\t/**\n\t * @dev Get list of child TAO IDs\n\t * @param _taoId The TAO ID to be checked\n\t * @param _from The starting index (start from 1)\n\t * @param _to The ending index, (max is childInternalId)\n\t * @return list of child TAO IDs\n\t */\n\tfunction getChildIds(address _taoId, uint256 _from, uint256 _to) public view returns (address[] memory) {\n\t\trequire (isExist(_taoId));\n\t\tAncestry storage _ancestry = ancestries[_taoId];\n\t\trequire (_from >= 1 && _to >= _from && _ancestry.childInternalId >= _to);\n\t\taddress[] memory _childIds = new address[](_to.sub(_from).add(1));\n\t\tfor (uint256 i = _from; i <= _to; i++) {\n\t\t\t_childIds[i.sub(_from)] = _ancestry.children[i].approved && _ancestry.children[i].connected ? _ancestry.children[i].taoId : address(0);\n\t\t}\n\t\treturn _childIds;\n\t}\n\n\t/***** INTERNAL METHOD *****/\n\t/**\n\t * @dev Actually approving the child TAO\n\t * @param _taoId The TAO ID to be checked\n\t * @param _childId The child TAO ID to be approved\n\t */\n\tfunction _approveChild(address _taoId, address _childId) internal {\n\t\tAncestry storage _ancestry = ancestries[_taoId];\n\t\tAncestry storage _childAncestry = ancestries[_childId];\n\t\tuint256 _childInternalId = _ancestry.childInternalIdLookup[_childId];\n\n\t\t_ancestry.totalChildren++;\n\n\t\tChild storage _child = _ancestry.children[_childInternalId];\n\t\t_child.approved = true;\n\t\t_child.connected = true;\n\n\t\t_childAncestry.parentId = _taoId;\n\n\t\tuint256 _nonce = _taoFactory.incrementNonce(_taoId);\n\t\trequire (_nonce > 0);\n\n\t\taddress _taoAdvocate = _nameTAOPosition.getAdvocate(_taoId);\n\t\taddress _childAdvocate = _nameTAOPosition.getAdvocate(_childId);\n\t\temit ApproveChild(_taoId, _taoAdvocate, _childId, _childAdvocate, _nonce);\n\t}\n}",
  "abi": "[{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"address\"}],\"name\":\"isExist\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"address\"},{\"name\":\"_parentId\",\"type\":\"address\"},{\"name\":\"_childMinLogos\",\"type\":\"uint256\"}],\"name\":\"initialize\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nameAccountRecoveryAddress\",\"type\":\"address\"}],\"name\":\"setNameAccountRecoveryAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_taoFactoryAddress\",\"type\":\"address\"}],\"name\":\"setTAOFactoryAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"},{\"name\":\"_childId\",\"type\":\"address\"}],\"name\":\"approveChild\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"},{\"name\":\"_childId\",\"type\":\"address\"}],\"name\":\"removeChild\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nameTAOPositionAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_account\",\"type\":\"address\"},{\"name\":\"_whitelist\",\"type\":\"bool\"}],\"name\":\"setWhitelist\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"},{\"name\":\"_childId\",\"type\":\"address\"}],\"name\":\"isChild\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nameTAOPositionAddress\",\"type\":\"address\"}],\"name\":\"setNameTAOPositionAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"},{\"name\":\"_childId\",\"type\":\"address\"}],\"name\":\"isNotApprovedChild\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"address\"}],\"name\":\"getAncestryById\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"},{\"name\":\"_childId\",\"type\":\"address\"}],\"name\":\"addChild\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_nameFactoryAddress\",\"type\":\"address\"}],\"name\":\"setNameFactoryAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"whitelist\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"address\"},{\"name\":\"_childMinLogos\",\"type\":\"uint256\"}],\"name\":\"updateChildMinLogos\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nameAccountRecoveryAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"theAO\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nameFactoryAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_taoId\",\"type\":\"address\"},{\"name\":\"_from\",\"type\":\"uint256\"},{\"name\":\"_to\",\"type\":\"uint256\"}],\"name\":\"getChildIds\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_theAO\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"taoFactoryAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_nameFactoryAddress\",\"type\":\"address\"},{\"name\":\"_taoFactoryAddress\",\"type\":\"address\"},{\"name\":\"_nameTAOPositionAddress\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"taoId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"childMinLogos\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"UpdateChildMinLogos\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"taoId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"taoAdvocate\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"childId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"childAdvocate\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"approved\",\"type\":\"bool\"},{\"indexed\":false,\"name\":\"connected\",\"type\":\"bool\"}],\"name\":\"AddChild\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"taoId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"taoAdvocate\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"childId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"childAdvocate\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"ApproveChild\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"taoId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"taoAdvocate\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"childId\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"childAdvocate\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"nonce\",\"type\":\"uint256\"}],\"name\":\"RemoveChild\",\"type\":\"event\"}]",
  "bytecode": "60806040523480156200001157600080fd5b5060405160608062002a0b833981018060405260608110156200003357600080fd5b508051602082015160409092015160008054600160a060020a03191633179055909190826200006b816401000000006200009d810204565b506200008082640100000000620001a2810204565b6200009481640100000000620002a7810204565b505050620003ac565b600054600154604080517ff66afcac000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b1580156200012657600080fd5b505af41580156200013b573d6000803e3d6000fd5b505050506040513d60208110156200015257600080fd5b505115156200016057600080fd5b600160a060020a03811615156200017657600080fd5b60038054600160a060020a03909216600160a060020a0319928316811790915560058054909216179055565b600054600154604080517ff66afcac000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b1580156200022b57600080fd5b505af415801562000240573d6000803e3d6000fd5b505050506040513d60208110156200025757600080fd5b505115156200026557600080fd5b600160a060020a03811615156200027b57600080fd5b60088054600160a060020a03909216600160a060020a0319928316811790915560098054909216179055565b600054600154604080517ff66afcac000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b1580156200033057600080fd5b505af415801562000345573d6000803e3d6000fd5b505050506040513d60208110156200035c57600080fd5b505115156200036a57600080fd5b600160a060020a03811615156200038057600080fd5b60018054600160a060020a03909216600160a060020a0319928316811790915560068054909216179055565b61264f80620003bc6000396000f3fe608060405234801561001057600080fd5b50600436106101455760003560e060020a900480637b23a437116100bc578063a4e5fad211610080578063a4e5fad21461042c578063a9b6b38e14610434578063bc4062061461043c578063ec5c71b314610444578063f2fde38b146104c6578063ff0374b5146104ec57610145565b80637b23a437146103385780638bd0ba67146103865780638c924361146103b45780639b19251a146103da578063a17841391461040057610145565b80634e0be9911161010e5780634e0be991146102365780634ef033f01461026457806353d6fd591461028857806356dbc007146102b65780635cfaf2ef146102e45780636d6297491461030a57610145565b806213eb4b1461014a5780631794bb3c146101845780631dfde2bd146101ba5780632191207a146101e2578063447843cf14610208575b600080fd5b6101706004803603602081101561016057600080fd5b5035600160a060020a03166104f4565b604080519115158252519081900360200190f35b6101706004803603606081101561019a57600080fd5b50600160a060020a03813581169160208101359091169060400135610514565b6101e0600480360360208110156101d057600080fd5b5035600160a060020a031661076a565b005b6101e0600480360360208110156101f857600080fd5b5035600160a060020a0316610857565b6101e06004803603604081101561021e57600080fd5b50600160a060020a0381358116916020013516610941565b6101e06004803603604081101561024c57600080fd5b50600160a060020a0381358116916020013516610cf4565b61026c61137c565b60408051600160a060020a039092168252519081900360200190f35b6101e06004803603604081101561029e57600080fd5b50600160a060020a038135169060200135151561138b565b610170600480360360408110156102cc57600080fd5b50600160a060020a0381358116916020013516611474565b6101e0600480360360208110156102fa57600080fd5b5035600160a060020a031661158e565b6101706004803603604081101561032057600080fd5b50600160a060020a0381358116916020013516611678565b61035e6004803603602081101561034e57600080fd5b5035600160a060020a031661171d565b60408051600160a060020a039094168452602084019290925282820152519081900360600190f35b6101706004803603604081101561039c57600080fd5b50600160a060020a03813581169160200135166117a7565b6101e0600480360360208110156103ca57600080fd5b5035600160a060020a0316611bb7565b610170600480360360208110156103f057600080fd5b5035600160a060020a0316611ca1565b6101e06004803603604081101561041657600080fd5b50600160a060020a038135169060200135611cb6565b61026c6120a5565b61026c6120b4565b61026c6120c3565b6104766004803603606081101561045a57600080fd5b50600160a060020a0381351690602081013590604001356120d2565b60408051602080825283518183015283519192839290830191858101910280838360005b838110156104b257818101518382015260200161049a565b505050509050019250505060405180910390f35b6101e0600480360360208110156104dc57600080fd5b5035600160a060020a031661222c565b61026c61230c565b600160a060020a039081166000908152600a602052604090205416151590565b600083731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b15801561057b57600080fd5b505af415801561058f573d6000803e3d6000fd5b505050506040513d60208110156105a557600080fd5b505115156105b257600080fd5b83731150d53299abb7de27464d01b626728f5c840229632d706a34826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b15801561061757600080fd5b505af415801561062b573d6000803e3d6000fd5b505050506040513d602081101561064157600080fd5b5051806106e95750604080517f2fca5414000000000000000000000000000000000000000000000000000000008152600160a060020a03831660048201529051731150d53299abb7de27464d01b626728f5c84022991632fca5414916024808301926020929190829003018186803b1580156106bc57600080fd5b505af41580156106d0573d6000803e3d6000fd5b505050506040513d60208110156106e657600080fd5b50515b15156106f457600080fd5b600854600160a060020a0316331461070b57600080fd5b610714866104f4565b1561071e57600080fd5b505050600160a060020a039283166000818152600a602052604090208054600160a060020a03199081169092178155600180820180549093169490951693909317905560029091015590565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b1580156107dc57600080fd5b505af41580156107f0573d6000803e3d6000fd5b505050506040513d602081101561080657600080fd5b5051151561081357600080fd5b600160a060020a038116151561082857600080fd5b60048054600160a060020a0319908116600160a060020a03938416179182905560078054929093169116179055565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b1580156108c957600080fd5b505af41580156108dd573d6000803e3d6000fd5b505050506040513d60208110156108f357600080fd5b5051151561090057600080fd5b600160a060020a038116151561091557600080fd5b60088054600160a060020a03909216600160a060020a0319928316811790915560098054909216179055565b81731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b1580156109a657600080fd5b505af41580156109ba573d6000803e3d6000fd5b505050506040513d60208110156109d057600080fd5b505115156109dd57600080fd5b81731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b158015610a4257600080fd5b505af4158015610a56573d6000803e3d6000fd5b505050506040513d6020811015610a6c57600080fd5b50511515610a7957600080fd5b6005546040805160e060020a63029b7d530281523360048201529051600092600160a060020a03169163029b7d53916024808301926020929190829003018186803b158015610ac757600080fd5b505afa158015610adb573d6000803e3d6000fd5b505050506040513d6020811015610af157600080fd5b5051600160a060020a03161415610b0757600080fd5b6007546005546040805160e060020a63029b7d530281523360048201529051600160a060020a0393841693633ebc2ab393169163029b7d53916024808301926020929190829003018186803b158015610b5f57600080fd5b505afa158015610b73573d6000803e3d6000fd5b505050506040513d6020811015610b8957600080fd5b50516040805160e060020a63ffffffff8516028152600160a060020a039092166004830152516024808301926020929190829003018186803b158015610bce57600080fd5b505afa158015610be2573d6000803e3d6000fd5b505050506040513d6020811015610bf857600080fd5b505115610c0457600080fd5b600654604080517f71ce52ed000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a0380881660248301529151879392909216916371ce52ed91604480820192602092909190829003018186803b158015610c7357600080fd5b505afa158015610c87573d6000803e3d6000fd5b505050506040513d6020811015610c9d57600080fd5b50511515610caa57600080fd5b610cb3856104f4565b8015610cc35750610cc3846104f4565b1515610cce57600080fd5b610cd88585611678565b1515610ce357600080fd5b610ced858561231b565b5050505050565b81731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b158015610d5957600080fd5b505af4158015610d6d573d6000803e3d6000fd5b505050506040513d6020811015610d8357600080fd5b50511515610d9057600080fd5b81731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b158015610df557600080fd5b505af4158015610e09573d6000803e3d6000fd5b505050506040513d6020811015610e1f57600080fd5b50511515610e2c57600080fd5b6005546040805160e060020a63029b7d530281523360048201529051600092600160a060020a03169163029b7d53916024808301926020929190829003018186803b158015610e7a57600080fd5b505afa158015610e8e573d6000803e3d6000fd5b505050506040513d6020811015610ea457600080fd5b5051600160a060020a03161415610eba57600080fd5b6007546005546040805160e060020a63029b7d530281523360048201529051600160a060020a0393841693633ebc2ab393169163029b7d53916024808301926020929190829003018186803b158015610f1257600080fd5b505afa158015610f26573d6000803e3d6000fd5b505050506040513d6020811015610f3c57600080fd5b50516040805160e060020a63ffffffff8516028152600160a060020a039092166004830152516024808301926020929190829003018186803b158015610f8157600080fd5b505afa158015610f95573d6000803e3d6000fd5b505050506040513d6020811015610fab57600080fd5b505115610fb757600080fd5b600654604080517f71ce52ed000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a0380881660248301529151879392909216916371ce52ed91604480820192602092909190829003018186803b15801561102657600080fd5b505afa15801561103a573d6000803e3d6000fd5b505050506040513d602081101561105057600080fd5b5051151561105d57600080fd5b604080517f56dbc007000000000000000000000000000000000000000000000000000000008152600160a060020a03878116600483015286166024820152905130916356dbc007916044808301926020929190829003018186803b1580156110c457600080fd5b505afa1580156110d8573d6000803e3d6000fd5b505050506040513d60208110156110ee57600080fd5b505115156110fb57600080fd5b600160a060020a038086166000818152600a602081815260408084206005810180546000190190558a87168086526004808301855283872080548852600384018652848820805475ff00000000000000000000000000000000000000000019168155928852879055948452828620600181018054600160a060020a031916905560095484517ff5743c4c0000000000000000000000000000000000000000000000000000000081529687019890985292519197909692959492169263f5743c4c926024808201939182900301818787803b1580156111d857600080fd5b505af11580156111ec573d6000803e3d6000fd5b505050506040513d602081101561120257600080fd5b505190506000811161121357600080fd5b6006546040805160e060020a63fd6f4137028152600160a060020a038c811660048301529151600093929092169163fd6f413791602480820192602092909190829003018186803b15801561126757600080fd5b505afa15801561127b573d6000803e3d6000fd5b505050506040513d602081101561129157600080fd5b50516006546040805160e060020a63fd6f4137028152600160a060020a038d811660048301529151939450600093919092169163fd6f4137916024808301926020929190829003018186803b1580156112e957600080fd5b505afa1580156112fd573d6000803e3d6000fd5b505050506040513d602081101561131357600080fd5b505160408051600160a060020a0385811682528d8116602083015280841682840152606082018790529151929350908d16917fc0f198af4324ea043d3aeb74e5eb714633d7b769d717646178e52308935094d29181900360800190a25050505050505050505050565b600154600160a060020a031681565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b1580156113fd57600080fd5b505af4158015611411573d6000803e3d6000fd5b505050506040513d602081101561142757600080fd5b5051151561143457600080fd5b600160a060020a038216151561144957600080fd5b600160a060020a03919091166000908152600260205260409020805460ff1916911515919091179055565b600061147f836104f4565b801561148f575061148f826104f4565b151561149a57600080fd5b600160a060020a0383166000908152600a602052604090206114ba6125e1565b50600160a060020a038084166000818152600a60209081526040808320815160a081018352815487168152600182015490961686840152600281015486830152600581015460608701526006015460808601529282526004850190529081205490811180156115405750600081815260038401602052604090205460a060020a900460ff165b80156115635750600081815260038401602052604090205460a860020a900460ff165b8015611584575085600160a060020a03168260200151600160a060020a0316145b9695505050505050565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b15801561160057600080fd5b505af4158015611614573d6000803e3d6000fd5b505050506040513d602081101561162a57600080fd5b5051151561163757600080fd5b600160a060020a038116151561164c57600080fd5b60018054600160a060020a03909216600160a060020a0319928316811790915560068054909216179055565b6000611683836104f4565b80156116935750611693826104f4565b151561169e57600080fd5b600160a060020a038084166000908152600a6020908152604080832093861683526004840190915281205490811180156116f05750600081815260038301602052604090205460a060020a900460ff16155b80156117145750600081815260038301602052604090205460a860020a900460ff16155b95945050505050565b600080600061172b846104f4565b151561173657600080fd5b61173e6125e1565b50505050600160a060020a039081166000908152600a6020908152604091829020825160a0810184528154851681526001820154909416918401829052600281015492840183905260058101546060850181905260069091015460809094019390935292909190565b600082731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b15801561180e57600080fd5b505af4158015611822573d6000803e3d6000fd5b505050506040513d602081101561183857600080fd5b5051151561184557600080fd5b82731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b1580156118aa57600080fd5b505af41580156118be573d6000803e3d6000fd5b505050506040513d60208110156118d457600080fd5b505115156118e157600080fd5b600854600160a060020a031633146118f857600080fd5b604080517f56dbc007000000000000000000000000000000000000000000000000000000008152600160a060020a03878116600483015286166024820152905130916356dbc007916044808301926020929190829003018186803b15801561195f57600080fd5b505afa158015611973573d6000803e3d6000fd5b505050506040513d602081101561198957600080fd5b50511561199557600080fd5b600160a060020a038086166000908152600a60209081526040808320938816835260048401909152902054156119ca57600080fd5b6006808201805460010190819055600160a060020a0380881660008181526004808701602090815260408084208790559583526003880181528583208054600160a060020a03191690941784559554855160e060020a63fd6f41370281528d8616928101929092529451929591949093169263fd6f41379260248083019392829003018186803b158015611a5d57600080fd5b505afa158015611a71573d6000803e3d6000fd5b505050506040513d6020811015611a8757600080fd5b50516006546040805160e060020a63fd6f4137028152600160a060020a038b811660048301529151939450600093919092169163fd6f4137916024808301926020929190829003018186803b158015611adf57600080fd5b505afa158015611af3573d6000803e3d6000fd5b505050506040513d6020811015611b0957600080fd5b5051835460408051600160a060020a0386811682528c811660208301528085168284015260ff60a060020a850481161515606084015260a860020a909404909316151560808201529051929350908b16917f8573ba99b8df17a58eb2c2a292145273d192dc5b033c7fcd716706e0bd38deb29181900360a00190a280600160a060020a031682600160a060020a03161415611ba857611ba8898961231b565b50600198975050505050505050565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b158015611c2957600080fd5b505af4158015611c3d573d6000803e3d6000fd5b505050506040513d6020811015611c5357600080fd5b50511515611c6057600080fd5b600160a060020a0381161515611c7557600080fd5b60038054600160a060020a03909216600160a060020a0319928316811790915560058054909216179055565b60026020526000908152604090205460ff1681565b81731150d53299abb7de27464d01b626728f5c840229632fca5414826040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a0316815260200191505060206040518083038186803b158015611d1b57600080fd5b505af4158015611d2f573d6000803e3d6000fd5b505050506040513d6020811015611d4557600080fd5b50511515611d5257600080fd5b6005546040805160e060020a63029b7d530281523360048201529051600092600160a060020a03169163029b7d53916024808301926020929190829003018186803b158015611da057600080fd5b505afa158015611db4573d6000803e3d6000fd5b505050506040513d6020811015611dca57600080fd5b5051600160a060020a03161415611de057600080fd5b6007546005546040805160e060020a63029b7d530281523360048201529051600160a060020a0393841693633ebc2ab393169163029b7d53916024808301926020929190829003018186803b158015611e3857600080fd5b505afa158015611e4c573d6000803e3d6000fd5b505050506040513d6020811015611e6257600080fd5b50516040805160e060020a63ffffffff8516028152600160a060020a039092166004830152516024808301926020929190829003018186803b158015611ea757600080fd5b505afa158015611ebb573d6000803e3d6000fd5b505050506040513d6020811015611ed157600080fd5b505115611edd57600080fd5b600654604080517f71ce52ed000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a0380871660248301529151869392909216916371ce52ed91604480820192602092909190829003018186803b158015611f4c57600080fd5b505afa158015611f60573d6000803e3d6000fd5b505050506040513d6020811015611f7657600080fd5b50511515611f8357600080fd5b611f8c846104f4565b1515611f9757600080fd5b600160a060020a038085166000818152600a602090815260408083206002810189905560095482517ff5743c4c0000000000000000000000000000000000000000000000000000000081526004810196909652915190959394919093169263f5743c4c9260248084019391929182900301818787803b15801561201957600080fd5b505af115801561202d573d6000803e3d6000fd5b505050506040513d602081101561204357600080fd5b505190506000811161205457600080fd5b600282015460408051918252602082018390528051600160a060020a038916927f432764b4ba5e42a85ef0b766607df8550deee8129d8f51fe368dc3b1eb684a6f92908290030190a2505050505050565b600454600160a060020a031681565b600054600160a060020a031681565b600354600160a060020a031681565b60606120dd846104f4565b15156120e857600080fd5b600160a060020a0384166000908152600a60205260409020600184108015906121115750838310155b8015612121575082816006015410155b151561212c57600080fd5b606061214f6001612143868863ffffffff6125bc16565b9063ffffffff6125ce16565b604051908082528060200260200182016040528015612178578160200160208202803883390190505b509050845b84811161222257600081815260038401602052604090205460a060020a900460ff1680156121c25750600081815260038401602052604090205460a860020a900460ff165b6121cd5760006121e8565b6000818152600384016020526040902054600160a060020a03165b826121f9838963ffffffff6125bc16565b8151811061220357fe5b600160a060020a0390921660209283029091019091015260010161217d565b5095945050505050565b6000546001546040805160e260020a633d9abf2b028152336004820152600160a060020a03938416602482015292909116604483015251731150d53299abb7de27464d01b626728f5c8402299163f66afcac916064808301926020929190829003018186803b15801561229e57600080fd5b505af41580156122b2573d6000803e3d6000fd5b505050506040513d60208110156122c857600080fd5b505115156122d557600080fd5b600160a060020a03811615156122ea57600080fd5b60008054600160a060020a031916600160a060020a0392909216919091179055565b600854600160a060020a031681565b600160a060020a038083166000818152600a60209081526040808320868616845281842060048083018552838620546005840180546001908101909155818852600385018752858820805475ff0000000000000000000000000000000000000000001974ff00000000000000000000000000000000000000001990911660a060020a171660a860020a1781559084018054600160a060020a0319168a17905560095486517ff5743c4c000000000000000000000000000000000000000000000000000000008152938401999099529451939892979096949592169263f5743c4c9260248084019391929182900301818787803b15801561241a57600080fd5b505af115801561242e573d6000803e3d6000fd5b505050506040513d602081101561244457600080fd5b505190506000811161245557600080fd5b6006546040805160e060020a63fd6f4137028152600160a060020a038a811660048301529151600093929092169163fd6f413791602480820192602092909190829003018186803b1580156124a957600080fd5b505afa1580156124bd573d6000803e3d6000fd5b505050506040513d60208110156124d357600080fd5b50516006546040805160e060020a63fd6f4137028152600160a060020a038b811660048301529151939450600093919092169163fd6f4137916024808301926020929190829003018186803b15801561252b57600080fd5b505afa15801561253f573d6000803e3d6000fd5b505050506040513d602081101561255557600080fd5b505160408051600160a060020a0385811682528b8116602083015280841682840152606082018790529151929350908b16917faddca2e9e867c5dfe4955df18f13db95b67bf1908ead867e1e0916f9d08b3c2c9181900360800190a2505050505050505050565b6000828211156125c857fe5b50900390565b818101828110156125db57fe5b92915050565b60a0604051908101604052806000600160a060020a031681526020016000600160a060020a03168152602001600081526020016000815260200160008152509056fea165627a7a723058203ac56cfe7dffb9466a4d673c28501494583b2822964cd71ecc5db29b02a797c6002900000000000000000000000010fbf61e4cce57d72eed8b5d9728134ce374bd8200000000000000000000000002a9bb92365b72fb735364af2af55ebfa9eb02c20000000000000000000000001f7f65b220a0f2d48b28390380f57468e7a382fe",
  "constructorArguments": "00000000000000000000000010fbf61e4cce57d72eed8b5d9728134ce374bd8200000000000000000000000002a9bb92365b72fb735364af2af55ebfa9eb02c20000000000000000000000001f7f65b220a0f2d48b28390380f57468e7a382fe",
  "libraries": [
    {
      "name": "AOLibrary",
      "address": "0x1150d53299Abb7DE27464D01B626728f5c840229"
    }
  ]
}