{
  "address": "0x6aa144c705d74b3d4c7f657025f11dfbf3b577c6",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "DAIHardFactory",
  "compilerVersion": "v0.5.6+commit.b259423e",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-04-22\n*/\n\npragma solidity 0.5.6;\n\n/**\n * @title SafeMath\n * @dev Unsigned math operations with safety checks that revert on error.\n * Code yanked from https://github.com/OpenZeppelin/openzeppelin-solidity/blob/master/contracts/math/SafeMath.sol\n */\nlibrary SafeMath {\n    /**\n     * @dev Multiplies two unsigned integers, reverts on overflow.\n     */\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n        // benefit is lost if 'b' is also tested.\n        // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n        if (a == 0) {\n            return 0;\n        }\n\n        uint256 c = a * b;\n        require(c / a == b);\n\n        return c;\n    }\n\n    /**\n     * @dev Integer division of two unsigned integers truncating the quotient, reverts on division by zero.\n     */\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n        // Solidity only automatically asserts when dividing by 0\n        require(b > 0);\n        uint256 c = a / b;\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n\n        return c;\n    }\n\n    /**\n     * @dev Subtracts two unsigned integers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n     */\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n        require(b <= a);\n        uint256 c = a - b;\n\n        return c;\n    }\n\n    /**\n     * @dev Adds two unsigned integers, reverts on overflow.\n     */\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n        uint256 c = a + b;\n        require(c >= a);\n\n        return c;\n    }\n\n    /**\n     * @dev Divides two unsigned integers and returns the remainder (unsigned integer modulo),\n     * reverts when dividing by zero.\n     */\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n        require(b != 0);\n        return a % b;\n    }\n}\n\ncontract ERC20Interface {\n    function totalSupply() public view returns (uint);\n    function balanceOf(address tokenOwner) public view returns (uint balance);\n    function allowance(address tokenOwner, address spender) public view returns (uint remaining);\n    function transfer(address to, uint tokens) public returns (bool success);\n    function approve(address spender, uint tokens) public returns (bool success);\n    function transferFrom(address from, address to, uint tokens) public returns (bool success);\n\n    uint8 public decimals;\n\n    event Transfer(address indexed from, address indexed to, uint tokens);\n    event Approval(address indexed tokenOwner, address indexed spender, uint tokens);\n}\n\ncontract DAIHardFactory {\n    event NewTrade(uint id, address tradeAddress, bool indexed initiatorIsPayer);\n\n    ERC20Interface public daiContract;\n    address payable public devFeeAddress;\n\n    constructor(ERC20Interface _daiContract, address payable _devFeeAddress)\n    public {\n        daiContract = _daiContract;\n        devFeeAddress = _devFeeAddress;\n    }\n\n    struct CreationInfo {\n        address address_;\n        uint blocknum;\n    }\n\n    CreationInfo[] public createdTrades;\n\n    function getBuyerDeposit(uint tradeAmount)\n    public\n    pure\n    returns (uint buyerDeposit) {\n        return tradeAmount / 3;\n    }\n\n    function getDevFee(uint tradeAmount)\n    public\n    pure\n    returns (uint devFee) {\n        return tradeAmount / 100;\n    }\n\n    function getExtraFees(uint tradeAmount)\n    public\n    pure\n    returns (uint buyerDeposit, uint devFee) {\n        return (getBuyerDeposit(tradeAmount), getDevFee(tradeAmount));\n    }\n\n    /*\n    The Solidity compiler can't handle much stack depth,\n    so we have to pack some args together in annoying ways...\n    Hence the 'uintArgs'. Here is its layout:\n    0 - daiAmount\n    1 - pokeReward\n    2 - autorecallInterval\n    3 - autoabortInterval\n    4 - autoreleaseInterval\n    */\n\n    function openDAIHardTrade(address payable _initiator, bool initiatorIsBuyer, uint[5] calldata uintArgs, string calldata _totalPrice, string calldata _fiatTransferMethods, string calldata _commPubkey)\n    external\n    returns (DAIHardTrade) {\n        uint transferAmount;\n        uint[6] memory newUintArgs; // Note that this structure is not the same as the above comment describes. See below in DAIHardTrade.open.\n\n        if (initiatorIsBuyer) {\n            //transferAmount = getBuyerDeposit(uintArgs[0]) + uintArgs[1] + getDevFee(uintArgs[0]); (kept for legibility; SafeMath must be used)\n            transferAmount = SafeMath.add(SafeMath.add(getBuyerDeposit(uintArgs[0]), uintArgs[1]), getDevFee(uintArgs[0]));\n\n            newUintArgs = [uintArgs[0], uintArgs[1], getDevFee(uintArgs[0]), uintArgs[2], uintArgs[3], uintArgs[4]];\n        }\n        else {\n            //transferAmount = uintArgs[0] + uintArgs[1] + getDevFee(uintArgs[0]);  (kept for legibility; SafeMath must be used)\n            transferAmount = SafeMath.add(SafeMath.add(uintArgs[0], uintArgs[1]), getDevFee(uintArgs[0]));\n\n            newUintArgs = [getBuyerDeposit(uintArgs[0]), uintArgs[1], getDevFee(uintArgs[0]), uintArgs[2], uintArgs[3], uintArgs[4]];\n        }\n\n        //create the new trade and add its creationInfo to createdTrades\n        DAIHardTrade newTrade = new DAIHardTrade(daiContract, devFeeAddress);\n        createdTrades.push(CreationInfo(address(newTrade), block.number));\n        emit NewTrade(createdTrades.length - 1, address(newTrade), initiatorIsBuyer);\n\n        //transfer DAI to the trade and open it\n        require(daiContract.transferFrom(msg.sender, address(newTrade), transferAmount), \"Token transfer failed. Did you call approve() on the DAI contract?\");\n        newTrade.open(_initiator, initiatorIsBuyer, newUintArgs, _totalPrice, _fiatTransferMethods, _commPubkey);\n    }\n\n    function getNumTrades()\n    external\n    view\n    returns (uint num) {\n        return createdTrades.length;\n    }\n}\n\ncontract DAIHardTrade {\n    enum Phase {Created, Open, Committed, Claimed, Closed}\n    Phase public phase;\n\n    modifier inPhase(Phase p) {\n        require(phase == p, \"inPhase check failed.\");\n        _;\n    }\n\n    uint[5] public phaseStartTimestamps;\n\n    function changePhase(Phase p)\n    internal {\n        phase = p;\n        phaseStartTimestamps[uint(p)] = block.timestamp;\n    }\n\n\n    address payable public initiator;\n    address payable public responder;\n\n    //The contract only has two parties, but depending on how it's opened,\n    //the initiator for example might be either the buyer OR the seller.\n\n    bool public initiatorIsBuyer;\n    address payable public buyer;\n    address payable public seller;\n\n    modifier onlyInitiator() {\n        require(msg.sender == initiator, \"msg.sender is not Initiator.\");\n        _;\n    }\n    modifier onlyResponder() {\n        require(msg.sender == responder, \"msg.sender is not Responder.\");\n        _;\n    }\n    modifier onlyBuyer() {\n        require (msg.sender == buyer, \"msg.sender is not Buyer.\");\n        _;\n    }\n    modifier onlySeller() {\n        require (msg.sender == seller, \"msg.sender is not Seller.\");\n        _;\n    }\n    modifier onlyContractParty() { // Must be one of the two parties involved in the contract\n        require(msg.sender == initiator || msg.sender == responder, \"msg.sender is not a party in this contract.\");\n        _;\n    }\n\n    ERC20Interface daiContract;\n    address payable devFeeAddress;\n\n    constructor(ERC20Interface _daiContract, address payable _devFeeAddress)\n    public {\n        changePhase(Phase.Created);\n\n        daiContract = _daiContract;\n        devFeeAddress = _devFeeAddress;\n\n        pokeRewardSent = false;\n    }\n\n    uint public daiAmount;\n    string public price;\n    uint public buyerDeposit;\n\n    uint public responderDeposit; // This will be equal to either daiAmount or buyerDeposit, depending on initiatorIsBuyer\n\n    uint public autorecallInterval;\n    uint public autoabortInterval;\n    uint public autoreleaseInterval;\n\n    uint public pokeReward;\n    uint public devFee;\n\n    bool public pokeRewardSent;\n\n    /*\n    uintArgs:\n    0 - responderDeposit\n    1 - pokeReward\n    2 - devFee\n    3 - autorecallInterval\n    4 - autoabortInterval\n    5 - autoreleaseInterval\n    */\n\n    event Opened(string fiatTransferMethods, string commPubkey);\n\n    function open(address payable _initiator, bool _initiatorIsBuyer, uint[6] memory uintArgs, string memory _price, string memory fiatTransferMethods, string memory commPubkey)\n    public\n    inPhase(Phase.Created) {\n        require(getBalance() > 0, \"You can't open a trade without first depositing DAI.\");\n\n        responderDeposit = uintArgs[0];\n        pokeReward = uintArgs[1];\n        devFee = uintArgs[2];\n\n        autorecallInterval = uintArgs[3];\n        autoabortInterval = uintArgs[4];\n        autoreleaseInterval = uintArgs[5];\n\n        initiator = _initiator;\n        initiatorIsBuyer = _initiatorIsBuyer;\n        if (initiatorIsBuyer) {\n            buyer = initiator;\n            daiAmount = responderDeposit;\n            buyerDeposit = SafeMath.sub(getBalance(), SafeMath.add(pokeReward, devFee));\n        }\n        else {\n            seller = initiator;\n            daiAmount = SafeMath.sub(getBalance(), SafeMath.add(pokeReward, devFee));\n            buyerDeposit = responderDeposit;\n        }\n\n        price = _price;\n\n        changePhase(Phase.Open);\n        emit Opened(fiatTransferMethods, commPubkey);\n    }\n\n    /* ---------------------- OPEN PHASE --------------------------\n\n    In the Open phase, the Initiator waits for a Responder.\n    We move to the Commited phase once someone becomes the Responder\n    by executing commit() and including msg.value = responderDeposit.\n\n    At any time, the Initiator can cancel the whole thing by calling recall().\n\n    After autorecallInterval has passed, the only state change allowed is to recall(),\n    which can be triggered by anyone via poke().\n\n    ------------------------------------------------------------ */\n\n    event Recalled();\n    event Committed(address responder, string commPubkey);\n\n\n    function recall()\n    external\n    inPhase(Phase.Open)\n    onlyInitiator() {\n       internalRecall();\n    }\n\n    function internalRecall()\n    internal {\n        require(daiContract.transfer(initiator, getBalance()), \"Recall of DAI to initiator failed!\");\n\n        changePhase(Phase.Closed);\n        emit Recalled();\n    }\n\n    function autorecallAvailable()\n    public\n    view\n    inPhase(Phase.Open)\n    returns(bool available) {\n        return (block.timestamp >= SafeMath.add(phaseStartTimestamps[uint(Phase.Open)], autorecallInterval));\n    }\n\n    function commit(string calldata commPubkey)\n    external\n    inPhase(Phase.Open) {\n        require(daiContract.transferFrom(msg.sender, address(this), responderDeposit), \"Can't transfer the required deposit from the DAI contract. Did you call approve first?\");\n        require(!autorecallAvailable(), \"autorecallInterval has passed; this offer has expired.\");\n\n        responder = msg.sender;\n\n        if (initiatorIsBuyer) {\n            seller = responder;\n        }\n        else {\n            buyer = responder;\n        }\n\n        changePhase(Phase.Committed);\n        emit Committed(responder, commPubkey);\n    }\n\n    /* ---------------------- COMMITTED PHASE ---------------------\n\n    In the Committed phase, the Buyer is expected to deposit fiat for the DAI,\n    then call claim().\n\n    Otherwise, the Buyer can call abort(), which cancels the contract,\n    incurs a small penalty on both parties, and returns the remainder to each party.\n\n    After autoabortInterval has passed, the only state change allowed is to abort(),\n    which can be triggered by anyone via poke().\n\n    ------------------------------------------------------------ */\n\n    event Claimed();\n    event Aborted();\n\n    function abort()\n    external\n    inPhase(Phase.Committed)\n    onlyBuyer() {\n        internalAbort();\n    }\n\n    function internalAbort()\n    internal {\n        //Punishment amount is 1/4 the buyerDeposit for now,\n        //but in a future version this might be set by the Initiator.\n        uint burnAmount = buyerDeposit / 4;\n\n        //Punish both parties equally by burning burnAmount.\n        //Instead of burning burnAmount twice, just burn it all in one call (saves gas).\n        require(daiContract.transfer(address(0x0), burnAmount*2), \"Token burn failed!\");\n\n        //Send back deposits minus burned amounts.\n        require(daiContract.transfer(buyer, SafeMath.sub(buyerDeposit, burnAmount)), \"Token transfer to Buyer failed!\");\n        require(daiContract.transfer(seller, SafeMath.sub(daiAmount, burnAmount)), \"Token transfer to Seller failed!\");\n\n        uint sendBackToInitiator = devFee;\n        //If there was a pokeReward left, it should be sent back to the initiator\n        if (!pokeRewardSent) {\n            sendBackToInitiator = SafeMath.add(sendBackToInitiator, pokeReward);\n        }\n        \n        require(daiContract.transfer(initiator, sendBackToInitiator), \"Token refund of devFee+pokeReward to Initiator failed!\");\n        \n        //There may be a wei or two left over in the contract due to integer division. Not a big deal.\n\n        changePhase(Phase.Closed);\n        emit Aborted();\n    }\n\n    function autoabortAvailable()\n    public\n    view\n    inPhase(Phase.Committed)\n    returns(bool passed) {\n        return (block.timestamp >= SafeMath.add(phaseStartTimestamps[uint(Phase.Committed)], autoabortInterval));\n    }\n\n    function claim()\n    external\n    inPhase(Phase.Committed)\n    onlyBuyer() {\n        require(!autoabortAvailable(), \"The deposit deadline has passed!\");\n\n        changePhase(Phase.Claimed);\n        emit Claimed();\n    }\n\n    /* ---------------------- CLAIMED PHASE -----------------------\n\n    In the Claimed phase, the Seller can call release() or burn(),\n    and is expected to call burn() only if the Buyer did not transfer\n    the amount of money described in totalPrice.\n\n    After autoreleaseInterval has passed, the only state change allowed is to release,\n    which can be triggered by anyone via poke().\n\n    ------------------------------------------------------------ */\n\n    event Released();\n    event Burned();\n\n    function autoreleaseAvailable()\n    public\n    view\n    inPhase(Phase.Claimed)\n    returns(bool available) {\n        return (block.timestamp >= SafeMath.add(phaseStartTimestamps[uint(Phase.Claimed)], autoreleaseInterval));\n    }\n\n    function release()\n    external\n    inPhase(Phase.Claimed)\n    onlySeller() {\n        internalRelease();\n    }\n\n    function internalRelease()\n    internal {\n        //If the pokeReward has not been sent, refund it to the initiator\n        if (!pokeRewardSent) {\n            require(daiContract.transfer(initiator, pokeReward), \"Refund of pokeReward to Initiator failed!\");\n        }\n\n        //Upon successful resolution of trade, the devFee is sent to the developers of DAIHard.\n        require(daiContract.transfer(devFeeAddress, devFee), \"Token transfer to devFeeAddress failed!\");\n\n        //Release the remaining balance to the buyer.\n        require(daiContract.transfer(buyer, getBalance()), \"Final release transfer to buyer failed!\");\n\n        changePhase(Phase.Closed);\n        emit Released();\n    }\n\n    function burn()\n    external\n    inPhase(Phase.Claimed)\n    onlySeller() {\n        require(!autoreleaseAvailable());\n\n        internalBurn();\n    }\n\n    function internalBurn()\n    internal {\n        require(daiContract.transfer(address(0x0), getBalance()), \"Final DAI burn failed!\");\n\n        changePhase(Phase.Closed);\n        emit Burned();\n    }\n\n    /* ---------------------- OTHER METHODS ----------------------- */\n\n    function getState()\n    external\n    view\n    returns(uint balance, Phase phase, uint phaseStartTimestamp, address responder) {\n        return (getBalance(), this.phase(), phaseStartTimestamps[uint(this.phase())], this.responder());\n    }\n\n    function getBalance()\n    public\n    view\n    returns(uint) {\n        return daiContract.balanceOf(address(this));\n    }\n\n    function getParameters()\n    external\n    view\n    returns (address initiator, bool initiatorIsBuyer, uint daiAmount, string memory totalPrice, uint buyerDeposit, uint autorecallInterval, uint autoabortInterval, uint autoreleaseInterval, uint pokeReward)\n    {\n        return (this.initiator(), this.initiatorIsBuyer(), this.daiAmount(), this.price(), this.buyerDeposit(), this.autorecallInterval(), this.autoabortInterval(), this.autoreleaseInterval(), this.pokeReward());\n    }\n\n    // Poke function lets anyone move the contract along,\n    // if it's due for some state transition.\n\n    event Poke();\n\n    function pokeNeeded()\n    public\n    view\n    returns (bool needed) {\n        return (  (phase == Phase.Open      && autorecallAvailable() )\n               || (phase == Phase.Committed && autoabortAvailable()  )\n               || (phase == Phase.Claimed   && autoreleaseAvailable())\n               );\n    }\n\n    function poke()\n    external \n    returns (bool moved) {\n        if (pokeNeeded()) {\n            daiContract.transfer(msg.sender, pokeReward);\n            pokeRewardSent = true;\n            emit Poke();\n        }\n        else return false;\n\n        if (phase == Phase.Open) {\n            if (autorecallAvailable()) {\n                internalRecall();\n                return true;\n            }\n        }\n        else if (phase == Phase.Committed) {\n            if (autoabortAvailable()) {\n                internalAbort();\n                return true;\n            }\n        }\n        else if (phase == Phase.Claimed) {\n            if (autoreleaseAvailable()) {\n                internalRelease();\n                return true;\n            }\n        }\n    }\n\n    // StatementLogs allow a starting point for any necessary communication,\n    // and can be used anytime by either party after a Responder commits (even in the Closed phase).\n\n\n    event InitiatorStatementLog(string encryptedForInitiator, string encryptedForResponder);\n    event ResponderStatementLog(string encryptedForInitiator, string encryptedForResponder);\n\n    function initiatorStatement(string memory encryptedForInitiator, string memory encryptedForResponder)\n    public\n    onlyInitiator() {\n        require(phase >= Phase.Committed);\n        emit InitiatorStatementLog(encryptedForInitiator, encryptedForResponder);\n    }\n\n    function responderStatement(string memory encryptedForInitiator, string memory encryptedForResponder)\n    public\n    onlyResponder() {\n        require(phase >= Phase.Committed);\n        emit ResponderStatementLog(encryptedForInitiator, encryptedForResponder);\n    }\n}",
  "bytecode": "608060405234801561001057600080fd5b5060405160408061357a8339810180604052604081101561003057600080fd5b508051602090910151600080546001600160a01b039384166001600160a01b03199182161790915560018054939092169216919091179055613503806100776000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80636ff264831161005b5780636ff264831461021b578063c090709914610251578063ce57be0614610259578063e12f17461461027657610088565b80630b3504e61461008d5780630fd40c2e146100a75780632ce8b913146100c457806346eb584c146100e8575b600080fd5b6100956102b6565b60408051918252519081900360200190f35b610095600480360360208110156100bd57600080fd5b50356102bc565b6100cc6102c9565b604080516001600160a01b039092168252519081900360200190f35b6100cc60048036036101408110156100ff57600080fd5b6001600160a01b03823516916020810135151591604082019190810190610100810160e082013564010000000081111561013857600080fd5b82018360208201111561014a57600080fd5b8035906020019184600183028401116401000000008311171561016c57600080fd5b91939092909160208101903564010000000081111561018a57600080fd5b82018360208201111561019c57600080fd5b803590602001918460018302840111640100000000831117156101be57600080fd5b9193909290916020810190356401000000008111156101dc57600080fd5b8201836020820111156101ee57600080fd5b8035906020019184600183028401116401000000008311171561021057600080fd5b5090925090506102d8565b6102386004803603602081101561023157600080fd5b5035610747565b6040805192835260208301919091528051918290030190f35b6100cc610765565b6100956004803603602081101561026f57600080fd5b5035610774565b6102936004803603602081101561028c57600080fd5b503561077e565b604080516001600160a01b03909316835260208301919091528051918290030190f35b60025490565b60006064825b0492915050565b6000546001600160a01b031681565b6000806102e36107cc565b8a156103985761032461030e6103008c60005b6020020135610774565b8c60015b60200201356107b3565b61031f8c60005b60200201356102bc565b6107b3565b91506040518060c001604052808b60006005811061033e57fe5b602002013581526020018b60016005811061035557fe5b6020020135815260200161036f8c60006005811061031557fe5b815260408c81013560208301526060808e01359183019190915260808d01359101529050610404565b6103a861030e8b358c6001610304565b91506040518060c001604052806103c58c6000600581106102f657fe5b815260208c810135908201526040016103df8c6000610315565b815260408c81013560208301526060808e01359183019190915260808d013591015290505b600080546001546040516001600160a01b039283169290911690610427906107ea565b6001600160a01b03928316815291166020820152604080519182900301906000f08015801561045a573d6000803e3d6000fd5b506040805180820182526001600160a01b0383811680835243602080850191825260028054600181018255600082905295517f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace96820296870180546001600160a01b031916919096161790945590517f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf90940193909355905483516000199190910181529182015281519293508e1515927ff7859a666c6b9a314ad037d6183cd3ce2c05ced8e6138b525002f72d9b040dd1929181900390910190a26000805460408051600160e01b6323b872dd0281523360048201526001600160a01b03858116602483015260448201889052915191909216926323b872dd92606480820193602093909283900390910190829087803b15801561059857600080fd5b505af11580156105ac573d6000803e3d6000fd5b505050506040513d60208110156105c257600080fd5b505161060257604051600160e51b62461bcd0281526004018080602001828103825260428152602001806134966042913960600191505060405180910390fd5b806001600160a01b031663adcf45998e8e858e8e8e8e8e8e6040518a63ffffffff1660e01b8152600401808a6001600160a01b03166001600160a01b031681526020018915151515815260200188600660200280838360005b8381101561067357818101518382015260200161065b565b5050505090500180602001806020018060200184810384528a8a82818152602001925080828437600083820152601f01601f191690910185810384528881526020019050888880828437600083820152601f01601f191690910185810383528681526020019050868680828437600081840152601f19601f8201169050808301925050509c50505050505050505050505050600060405180830381600087803b15801561071f57600080fd5b505af1158015610733573d6000803e3d6000fd5b505050505050509998505050505050505050565b60008061075383610774565b61075c846102bc565b91509150915091565b6001546001600160a01b031681565b60006003826102c2565b6002818154811061078b57fe5b6000918252602090912060029091020180546001909101546001600160a01b03909116915082565b6000828201838110156107c557600080fd5b9392505050565b6040518060c001604052806006906020820280388339509192915050565b612c9e806107f88339019056fe60806040523480156200001157600080fd5b5060405160408062002c9e833981018060405260408110156200003357600080fd5b508051602091820151909162000050906000906200008c811b901c565b600a80546001600160a01b039384166001600160a01b031991821617909155600b80549290931691161790556015805460ff19169055620000cb565b6000805482919060ff19166001836004811115620000a657fe5b0217905550426001826004811115620000bb57fe5b60058110620000c657fe5b015550565b612bc380620000db6000396000f3fe608060405234801561001057600080fd5b50600436106102065760003560e01c80637150d8ae1161011a578063a4dc89ca116100ad578063b1c9fe6e1161007c578063b1c9fe6e14610847578063d4270d6014610873578063e4c705161461087b578063e788635914610883578063efe322ff146109ac57610206565b8063a4dc89ca14610573578063a5ea11da1461057b578063adcf459914610649578063aedd64741461083f57610206565b80639867db74116100e95780639867db74146103575780639f8a836e146103c5578063a035b1fe146104ee578063a05795871461056b57610206565b80637150d8ae14610337578063716a33881461033f578063862ccdc51461034757806386d1a69f1461034f57610206565b806335a063b41161019d5780634e71d92d1161016c5780634e71d92d1461030f5780635c39fcc11461031757806367aff9191461031f5780636827e76414610327578063694133bd1461032f57610206565b806335a063b4146102ed57806338bbcb11146102f75780633c995a70146102ff57806344df8e701461030757610206565b806318178358116101d9578063181783581461026d5780631865c57d1461027557806325efc91d146102c857806334e0d498146102d057610206565b806308551a531461020b5780630920ec891461022f57806312065fe01461024b57806315ee460014610265575b600080fd5b6102136109b4565b604080516001600160a01b039092168252519081900360200190f35b6102376109c3565b604080519115158252519081900360200190f35b6102536109cc565b60408051918252519081900360200190f35b610237610a4c565b610237610a5c565b61027d610bcb565b6040518085815260200184600481111561029357fe5b60ff168152602001838152602001826001600160a01b03166001600160a01b0316815260200194505050505060405180910390f35b610213610d32565b610253600480360360208110156102e657600080fd5b5035610d41565b6102f5610d55565b005b610253610e19565b610253610e1f565b6102f5610e25565b6102f5610ef8565b610213611044565b610253611053565b610253611059565b61025361105f565b610213611065565b610237611074565b6102376110e8565b6102f5611164565b6102f56004803603602081101561036d57600080fd5b810190602081018135600160201b81111561038757600080fd5b82018360208201111561039957600080fd5b803590602001918460018302840111600160201b831117156103ba57600080fd5b509092509050611225565b6102f5600480360360408110156103db57600080fd5b810190602081018135600160201b8111156103f557600080fd5b82018360208201111561040757600080fd5b803590602001918460018302840111600160201b8311171561042857600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295949360208101935035915050600160201b81111561047a57600080fd5b82018360208201111561048c57600080fd5b803590602001918460018302840111600160201b831117156104ad57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550611480945050505050565b6104f6611604565b6040805160208082528351818301528351919283929083019185019080838360005b83811015610530578181015183820152602001610518565b50505050905090810190601f16801561055d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610253611692565b610253611698565b61058361169e565b604051808a6001600160a01b03166001600160a01b031681526020018915151515815260200188815260200180602001878152602001868152602001858152602001848152602001838152602001828103825288818151815260200191508051906020019080838360005b838110156106065781810151838201526020016105ee565b50505050905090810190601f1680156106335780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b6102f5600480360361016081101561066057600080fd5b6040805160c081810183526001600160a01b0385351694602081013515159481019390926101008401929091840190600690839083908082843760009201919091525091949392602081019250359050600160201b8111156106c157600080fd5b8201836020820111156106d357600080fd5b803590602001918460018302840111600160201b831117156106f457600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295949360208101935035915050600160201b81111561074657600080fd5b82018360208201111561075857600080fd5b803590602001918460018302840111600160201b8311171561077957600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295949360208101935035915050600160201b8111156107cb57600080fd5b8201836020820111156107dd57600080fd5b803590602001918460018302840111600160201b831117156107fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550611ace945050505050565b610237611d9a565b61084f611e04565b6040518082600481111561085f57fe5b60ff16815260200191505060405180910390f35b6102f5611e0d565b610253611ece565b6102f56004803603604081101561089957600080fd5b810190602081018135600160201b8111156108b357600080fd5b8201836020820111156108c557600080fd5b803590602001918460018302840111600160201b831117156108e657600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295949360208101935035915050600160201b81111561093857600080fd5b82018360208201111561094a57600080fd5b803590602001918460018302840111600160201b8311171561096b57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550611ed4945050505050565b610237611fb7565b6009546001600160a01b031681565b60155460ff1681565b600a5460408051600160e01b6370a0823102815230600482015290516000926001600160a01b0316916370a08231916024808301926020929190829003018186803b158015610a1a57600080fd5b505afa158015610a2e573d6000803e3d6000fd5b505050506040513d6020811015610a4457600080fd5b505190505b90565b600754600160a01b900460ff1681565b6000610a666110e8565b15610b2c57600a5460135460408051600160e01b63a9059cbb0281523360048201526024810192909252516001600160a01b039092169163a9059cbb916044808201926020929091908290030181600087803b158015610ac557600080fd5b505af1158015610ad9573d6000803e3d6000fd5b505050506040513d6020811015610aef57600080fd5b50506015805460ff191660011790556040517f70c450b08ec8cf2d7c1eb4f12a4608924ea60d4e30e4e202d9b9513806092b0890600090a1610b34565b506000610a49565b600160005460ff166004811115610b4757fe5b1415610b6f57610b55611fb7565b15610b6a57610b62612020565b506001610a49565b610a49565b600260005460ff166004811115610b8257fe5b1415610b9d57610b90611d9a565b15610b6a57610b6261212f565b600360005460ff166004811115610bb057fe5b1415610a4957610bbe611074565b15610a4957610b62612526565b600080600080610bd96109cc565b306001600160a01b031663b1c9fe6e6040518163ffffffff1660e01b815260040160206040518083038186803b158015610c1257600080fd5b505afa158015610c26573d6000803e3d6000fd5b505050506040513d6020811015610c3c57600080fd5b505160408051600160e11b6358e4ff370281529051600191309163b1c9fe6e91600480820192602092909190829003018186803b158015610c7c57600080fd5b505afa158015610c90573d6000803e3d6000fd5b505050506040513d6020811015610ca657600080fd5b50516004811115610cb357fe5b60058110610cbd57fe5b0154306001600160a01b03166325efc91d6040518163ffffffff1660e01b815260040160206040518083038186803b158015610cf857600080fd5b505afa158015610d0c573d6000803e3d6000fd5b505050506040513d6020811015610d2257600080fd5b5051929791965094509092509050565b6007546001600160a01b031681565b60018160058110610d4e57fe5b0154905081565b60028060005460ff166004811115610d6957fe5b14610dac5760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6008546001600160a01b03163314610e0e5760408051600160e51b62461bcd02815260206004820152601860248201527f6d73672e73656e646572206973206e6f742042757965722e0000000000000000604482015290519081900360640190fd5b610e1661212f565b50565b60105481565b600f5481565b60038060005460ff166004811115610e3957fe5b14610e7c5760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6009546001600160a01b03163314610ede5760408051600160e51b62461bcd02815260206004820152601960248201527f6d73672e73656e646572206973206e6f742053656c6c65722e00000000000000604482015290519081900360640190fd5b610ee6611074565b15610ef057600080fd5b610e166127d1565b60028060005460ff166004811115610f0c57fe5b14610f4f5760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6008546001600160a01b03163314610fb15760408051600160e51b62461bcd02815260206004820152601860248201527f6d73672e73656e646572206973206e6f742042757965722e0000000000000000604482015290519081900360640190fd5b610fb9611d9a565b1561100e5760408051600160e51b62461bcd02815260206004820181905260248201527f546865206465706f73697420646561646c696e65206861732070617373656421604482015290519081900360640190fd5b61101860036128f0565b6040517fbcb472984264b16baa8cde752f2af002ea8ce06f35d81caee36625234edd2a4690600090a150565b6006546001600160a01b031681565b60125481565b60145481565b60135481565b6008546001600160a01b031681565b600060038060005460ff16600481111561108a57fe5b146110cd5760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6110de60016003015460125461292c565b42101591505b5090565b6000600160005460ff1660048111156110fd57fe5b14801561110d575061110d611fb7565b806111365750600260005460ff16600481111561112657fe5b1480156111365750611136611d9a565b8061115f5750600360005460ff16600481111561114f57fe5b14801561115f575061115f611074565b905090565b60038060005460ff16600481111561117857fe5b146111bb5760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6009546001600160a01b0316331461121d5760408051600160e51b62461bcd02815260206004820152601960248201527f6d73672e73656e646572206973206e6f742053656c6c65722e00000000000000604482015290519081900360640190fd5b610e16612526565b60018060005460ff16600481111561123957fe5b1461127c5760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b600a54600f5460408051600160e01b6323b872dd0281523360048201523060248201526044810192909252516001600160a01b03909216916323b872dd916064808201926020929091908290030181600087803b1580156112dc57600080fd5b505af11580156112f0573d6000803e3d6000fd5b505050506040513d602081101561130657600080fd5b505161134657604051600160e51b62461bcd028152600401808060200182810382526056815260200180612abe6056913960600191505060405180910390fd5b61134e611fb7565b1561138d57604051600160e51b62461bcd028152600401808060200182810382526036815260200180612a666036913960400191505060405180910390fd5b600780546001600160a01b03191633179081905560ff600160a01b90910416156113d857600754600980546001600160a01b0319166001600160a01b039092169190911790556113fb565b600754600880546001600160a01b0319166001600160a01b039092169190911790555b61140560026128f0565b600754604080516001600160a01b03909216808352602083018281529183018590527feb379d64b95802a98f964dccea086b5403ea8ed23be6e53754f352aafe3d77bf9290918691869160608201848480828437600083820152604051601f909101601f1916909201829003965090945050505050a1505050565b6007546001600160a01b031633146114e25760408051600160e51b62461bcd02815260206004820152601c60248201527f6d73672e73656e646572206973206e6f7420526573706f6e6465722e00000000604482015290519081900360640190fd5b600260005460ff1660048111156114f557fe5b101561150057600080fd5b7f154bf834d27f59ffeae6f48788956f81f0abf02c144153b5f2a177f75a26faf78282604051808060200180602001838103835285818151815260200191508051906020019080838360005b8381101561156457818101518382015260200161154c565b50505050905090810190601f1680156115915780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156115c45781810151838201526020016115ac565b50505050905090810190601f1680156115f15780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a15050565b600d805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561168a5780601f1061165f5761010080835404028352916020019161168a565b820191906000526020600020905b81548152906001019060200180831161166d57829003601f168201915b505050505081565b600e5481565b60115481565b600080600060606000806000806000306001600160a01b0316635c39fcc16040518163ffffffff1660e01b815260040160206040518083038186803b1580156116e657600080fd5b505afa1580156116fa573d6000803e3d6000fd5b505050506040513d602081101561171057600080fd5b505160408051600160e91b620af723028152905130916315ee4600916004808301926020929190829003018186803b15801561174b57600080fd5b505afa15801561175f573d6000803e3d6000fd5b505050506040513d602081101561177557600080fd5b505160408051600160e11b637263828b0281529051309163e4c70516916004808301926020929190829003018186803b1580156117b157600080fd5b505afa1580156117c5573d6000803e3d6000fd5b505050506040513d60208110156117db57600080fd5b505160408051600160e11b63501ad8ff0281529051309163a035b1fe916004808301926000929190829003018186803b15801561181757600080fd5b505afa15801561182b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561185457600080fd5b810190808051600160201b81111561186b57600080fd5b8201602081018481111561187e57600080fd5b8151600160201b81118282018710171561189757600080fd5b5050929190505050306001600160a01b031663a05795876040518163ffffffff1660e01b815260040160206040518083038186803b1580156118d857600080fd5b505afa1580156118ec573d6000803e3d6000fd5b505050506040513d602081101561190257600080fd5b505160408051600160e01b6338bbcb11028152905130916338bbcb11916004808301926020929190829003018186803b15801561193e57600080fd5b505afa158015611952573d6000803e3d6000fd5b505050506040513d602081101561196857600080fd5b505160408051600160e11b63526e44e50281529051309163a4dc89ca916004808301926020929190829003018186803b1580156119a457600080fd5b505afa1580156119b8573d6000803e3d6000fd5b505050506040513d60208110156119ce57600080fd5b505160408051600160e01b6367aff919028152905130916367aff919916004808301926020929190829003018186803b158015611a0a57600080fd5b505afa158015611a1e573d6000803e3d6000fd5b505050506040513d6020811015611a3457600080fd5b505160408051600160e01b63694133bd0281529051309163694133bd916004808301926020929190829003018186803b158015611a7057600080fd5b505afa158015611a84573d6000803e3d6000fd5b505050506040513d6020811015611a9a57600080fd5b8101908080519060200190929190505050889850859550985098509850985098509850985098509850909192939495969798565b60008060005460ff166004811115611ae257fe5b14611b255760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6000611b2f6109cc565b11611b6e57604051600160e51b62461bcd028152600401808060200182810382526034815260200180612b646034913960400191505060405180910390fd5b8451600f55602085015160135560408501516014556060850151601055608085015160115560a0850151601255600680546001600160a01b0319166001600160a01b0389161790556007805474ff00000000000000000000000000000000000000001916600160a01b8815158102919091179182905560ff91041615611c3c57600654600880546001600160a01b0319166001600160a01b03909216919091179055600f54600c55611c34611c216109cc565b611c2f60135460145461292c565b612945565b600e55611c73565b600654600980546001600160a01b0319166001600160a01b03909216919091179055611c69611c216109cc565b600c55600f54600e555b8351611c8690600d90602087019061295a565b50611c9160016128f0565b7fe9acb0cf07a618233cc2d59d06f38a1fc9b118995b99d6a299fa9a552520ae368383604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015611cf5578181015183820152602001611cdd565b50505050905090810190601f168015611d225780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015611d55578181015183820152602001611d3d565b50505050905090810190601f168015611d825780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150505050505050565b600060028060005460ff166004811115611db057fe5b14611df35760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6110de60016002015460115461292c565b60005460ff1681565b60018060005460ff166004811115611e2157fe5b14611e645760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6006546001600160a01b03163314611ec65760408051600160e51b62461bcd02815260206004820152601c60248201527f6d73672e73656e646572206973206e6f7420496e69746961746f722e00000000604482015290519081900360640190fd5b610e16612020565b600c5481565b6006546001600160a01b03163314611f365760408051600160e51b62461bcd02815260206004820152601c60248201527f6d73672e73656e646572206973206e6f7420496e69746961746f722e00000000604482015290519081900360640190fd5b600260005460ff166004811115611f4957fe5b1015611f5457600080fd5b7fa55c4a64f3082af488fd001c7b24fee257712c1f2bae9d40cefaf963fe2f69a68282604051808060200180602001838103835285818151815260200191508051906020019080838360008381101561156457818101518382015260200161154c565b600060018060005460ff166004811115611fcd57fe5b146120105760408051600160e51b62461bcd02815260206004820152601560248201526000805160206129e9833981519152604482015290519081900360640190fd5b6110de600180015460105461292c565b600a546006546001600160a01b039182169163a9059cbb91166120416109cc565b6040518363ffffffff1660e01b815260040180836001600160a01b03166001600160a01b0316815260200182815260200192505050602060405180830381600087803b15801561209057600080fd5b505af11580156120a4573d6000803e3d6000fd5b505050506040513d60208110156120ba57600080fd5b50516120fa57604051600160e51b62461bcd028152600401808060200182810382526022815260200180612a9c6022913960400191505060405180910390fd5b61210460046128f0565b6040517fd515c18d0b3569e4adf82872111a30ef1a9ab9ebff7925e588dc25471982153b90600090a1565b60006004600e548161213d57fe5b600a5460408051600160e01b63a9059cbb0281526000600482018190529490930460028102602485015290519094506001600160a01b039091169263a9059cbb92604480820193602093909283900390910190829087803b1580156121a157600080fd5b505af11580156121b5573d6000803e3d6000fd5b505050506040513d60208110156121cb57600080fd5b50516122215760408051600160e51b62461bcd02815260206004820152601260248201527f546f6b656e206275726e206661696c6564210000000000000000000000000000604482015290519081900360640190fd5b600a54600854600e546001600160a01b039283169263a9059cbb9216906122489085612945565b6040518363ffffffff1660e01b815260040180836001600160a01b03166001600160a01b0316815260200182815260200192505050602060405180830381600087803b15801561229757600080fd5b505af11580156122ab573d6000803e3d6000fd5b505050506040513d60208110156122c157600080fd5b50516123175760408051600160e51b62461bcd02815260206004820152601f60248201527f546f6b656e207472616e7366657220746f204275796572206661696c65642100604482015290519081900360640190fd5b600a54600954600c546001600160a01b039283169263a9059cbb92169061233e9085612945565b6040518363ffffffff1660e01b815260040180836001600160a01b03166001600160a01b0316815260200182815260200192505050602060405180830381600087803b15801561238d57600080fd5b505af11580156123a1573d6000803e3d6000fd5b505050506040513d60208110156123b757600080fd5b505161240d5760408051600160e51b62461bcd02815260206004820181905260248201527f546f6b656e207472616e7366657220746f2053656c6c6572206661696c656421604482015290519081900360640190fd5b60145460155460ff16612429576124268160135461292c565b90505b600a5460065460408051600160e01b63a9059cbb0281526001600160a01b039283166004820152602481018590529051919092169163a9059cbb9160448083019260209291908290030181600087803b15801561248557600080fd5b505af1158015612499573d6000803e3d6000fd5b505050506040513d60208110156124af57600080fd5b50516124ef57604051600160e51b62461bcd028152600401808060200182810382526036815260200180612a306036913960400191505060405180910390fd5b6124f960046128f0565b6040517f72c874aeff0b183a56e2b79c71b46e1aed4dee5e09862134b8821ba2fddbf8bf90600090a15050565b60155460ff166125f957600a5460065460135460408051600160e01b63a9059cbb0281526001600160a01b039384166004820152602481019290925251919092169163a9059cbb9160448083019260209291908290030181600087803b15801561258f57600080fd5b505af11580156125a3573d6000803e3d6000fd5b505050506040513d60208110156125b957600080fd5b50516125f957604051600160e51b62461bcd028152600401808060200182810382526029815260200180612b3b6029913960400191505060405180910390fd5b600a54600b5460145460408051600160e01b63a9059cbb0281526001600160a01b039384166004820152602481019290925251919092169163a9059cbb9160448083019260209291908290030181600087803b15801561265857600080fd5b505af115801561266c573d6000803e3d6000fd5b505050506040513d602081101561268257600080fd5b50516126c257604051600160e51b62461bcd028152600401808060200182810382526027815260200180612a096027913960400191505060405180910390fd5b600a546008546001600160a01b039182169163a9059cbb91166126e36109cc565b6040518363ffffffff1660e01b815260040180836001600160a01b03166001600160a01b0316815260200182815260200192505050602060405180830381600087803b15801561273257600080fd5b505af1158015612746573d6000803e3d6000fd5b505050506040513d602081101561275c57600080fd5b505161279c57604051600160e51b62461bcd028152600401808060200182810382526027815260200180612b146027913960400191505060405180910390fd5b6127a660046128f0565b6040517f20d29efe076941f73e5574acb023c424d63cd6d3d12eb5ac3108a5eaf177daed90600090a1565b600a546001600160a01b031663a9059cbb60006127ec6109cc565b6040518363ffffffff1660e01b815260040180836001600160a01b03166001600160a01b0316815260200182815260200192505050602060405180830381600087803b15801561283b57600080fd5b505af115801561284f573d6000803e3d6000fd5b505050506040513d602081101561286557600080fd5b50516128bb5760408051600160e51b62461bcd02815260206004820152601660248201527f46696e616c20444149206275726e206661696c65642100000000000000000000604482015290519081900360640190fd5b6128c560046128f0565b6040517f6fb11f548e193d40bc036b46ccce56486575c38194e47b5202010c73020c181a90600090a1565b6000805482919060ff1916600183600481111561290957fe5b021790555042600182600481111561291d57fe5b6005811061292757fe5b015550565b60008282018381101561293e57600080fd5b9392505050565b60008282111561295457600080fd5b50900390565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061299b57805160ff19168380011785556129c8565b828001600101855582156129c8579182015b828111156129c85782518255916020019190600101906129ad565b506110e492610a499250905b808211156110e457600081556001016129d456fe696e506861736520636865636b206661696c65642e0000000000000000000000546f6b656e207472616e7366657220746f2064657646656541646472657373206661696c656421546f6b656e20726566756e64206f66206465764665652b706f6b6552657761726420746f20496e69746961746f72206661696c6564216175746f726563616c6c496e74657276616c20686173207061737365643b2074686973206f666665722068617320657870697265642e526563616c6c206f662044414920746f20696e69746961746f72206661696c65642143616e2774207472616e7366657220746865207265717569726564206465706f7369742066726f6d207468652044414920636f6e74726163742e2044696420796f752063616c6c20617070726f76652066697273743f46696e616c2072656c65617365207472616e7366657220746f206275796572206661696c656421526566756e64206f6620706f6b6552657761726420746f20496e69746961746f72206661696c656421596f752063616e2774206f70656e206120747261646520776974686f7574206669727374206465706f736974696e67204441492ea165627a7a7230582089d999049f6feb761a5f29b91d167be57167b71e085060cc550cfc59c6fec2970029546f6b656e207472616e73666572206661696c65642e2044696420796f752063616c6c20617070726f76652829206f6e207468652044414920636f6e74726163743fa165627a7a7230582058cebcceafc9905f228216d6b2d10d7021ff758adc3f2f0f54adf2a52119339a002900000000000000000000000089d24a6b4ccb1b6faa2625fe562bdd9a232603590000000000000000000000002b518987f8c21937b4d0b700b1224736a28fca23",
  "constructorArguments": "00000000000000000000000089d24a6b4ccb1b6faa2625fe562bdd9a232603590000000000000000000000002b518987f8c21937b4d0b700b1224736a28fca23"
}