{
  "address": "0xb1fe34350bbbeaf7895c60688ebaa3907cc332a1",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "CareerCertificate",
  "compilerVersion": "v0.4.23+commit.124ca40d",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-04-15\n*/\n\npragma solidity 0.4.23;\n\ncontract CareerCertificate {\n\n    struct Certificate {\n\n    bytes32 id;\n    bool isCertificate;\n    bytes32 date;\n    string completeName;\n    string RUT;\n    string institution;\n    bytes32 RutInstitution;\n    string title;\n    string Totalhash;\n    bytes32 FechaTitulacion;\n    bytes32 NroRegistro;\n    bytes32 CodigoVerificacion;\n    \n    bool active;\n\n  }\n\n    address public ceoAddress;\n    mapping(address=>bool) employee;\n\n    mapping (bytes32 => Certificate) certificates;\n\n    event CertificateCreated(address creator, string id, string RUT);\n    event SetActive(address responsable, string id, bool active, string description);\n\n    constructor() public {\n    ceoAddress = msg.sender;\n}\n    //funcion que crea un certificado recibe los campos y lo convierte en la variable bytes32\n    function createCertificate(string _id, string _date, string _completeName, string _RUT, string _institution, string _RutInstition, string _title, string _Totalhash, string _FechaTitulacion, \n                                string _NroRegistro, string _CodigoVerificacion) public onlyEmployees {\n \n         bytes32 realId = convert(_id);\n         \n         certificates[realId].id = realId;\n         certificates[realId].isCertificate = true;\n         certificates[realId].date = convert(_date);\n         \n         certificates[realId].completeName = _completeName;\n         certificates[realId].RUT =_RUT;\n         certificates[realId].institution =_institution ;\n         certificates[realId].RutInstitution = convert(_RutInstition);//CAMBIOS\n         certificates[realId].title = _title;\n         certificates[realId].Totalhash= _Totalhash;//CAMBIOS\n         certificates[realId].FechaTitulacion = convert(_FechaTitulacion);//CAMBIOS\n         certificates[realId].NroRegistro = convert(_NroRegistro) ;//CAMBIOS\n         certificates[realId].CodigoVerificacion = convert(_CodigoVerificacion);//CAMBIOS\n         \n         certificates[realId].active = true;\n        \n         emit CertificateCreated(msg.sender, _id, _RUT);\n}\n    function convert(string key) internal returns (bytes32 ret) {\n     if (bytes(key).length > 32) {\n        throw;\n     }\n\n     assembly {\n        ret := mload(add(key, 32))\n     }\n   }\n   function setActive(string _id, bool _active, string description) onlyEmployees {\n         bytes32 realId = convert(_id);\n         certificates[realId].active = _active;\n\n        emit SetActive(msg.sender, _id, _active, description);\n}\n\nfunction setCEO(address _newCEO) external onlyCEO {\n        require(_newCEO != address(0));\n\n        ceoAddress = _newCEO;\n    }\n    function setEmployee (address user) external  onlyCEO {\n        employee[user]=true;\n    }\n    function removeEmployee (address user) external onlyCEO{\n        employee[0];\n        employee[user] = employee[0];\n    }\n    //Ver si employee esta agregado\n    function getEmployee(address user) public view returns (bool) {\n    return employee[user];\n    }\n    modifier onlyCEO() {\n        require(msg.sender == ceoAddress );\n        _;\n    }\n    modifier onlyEmployees() {\n        require(employee[msg.sender] == true || msg.sender == ceoAddress);\n        _;\n    }\n\n}",
  "abi": "[{\"constant\":true,\"inputs\":[],\"name\":\"ceoAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"user\",\"type\":\"address\"}],\"name\":\"setEmployee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newCEO\",\"type\":\"address\"}],\"name\":\"setCEO\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getEmployee\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"string\"},{\"name\":\"_active\",\"type\":\"bool\"},{\"name\":\"description\",\"type\":\"string\"}],\"name\":\"setActive\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_id\",\"type\":\"string\"},{\"name\":\"_date\",\"type\":\"string\"},{\"name\":\"_completeName\",\"type\":\"string\"},{\"name\":\"_RUT\",\"type\":\"string\"},{\"name\":\"_institution\",\"type\":\"string\"},{\"name\":\"_RutInstition\",\"type\":\"string\"},{\"name\":\"_title\",\"type\":\"string\"},{\"name\":\"_Totalhash\",\"type\":\"string\"},{\"name\":\"_FechaTitulacion\",\"type\":\"string\"},{\"name\":\"_NroRegistro\",\"type\":\"string\"},{\"name\":\"_CodigoVerificacion\",\"type\":\"string\"}],\"name\":\"createCertificate\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"user\",\"type\":\"address\"}],\"name\":\"removeEmployee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"creator\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"id\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"RUT\",\"type\":\"string\"}],\"name\":\"CertificateCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"responsable\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"id\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"active\",\"type\":\"bool\"},{\"indexed\":false,\"name\":\"description\",\"type\":\"string\"}],\"name\":\"SetActive\",\"type\":\"event\"}]",
  "bytecode": "608060405234801561001057600080fd5b5060008054600160a060020a033316600160a060020a0319909116179055610b7a8061003d6000396000f3006080604052600436106100825763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630a0f816881146100875780631b320776146100b857806327d7874c146100db57806332648e09146100fc57806335c43b82146101315780633875d3bf146101d0578063d108177a14610495575b600080fd5b34801561009357600080fd5b5061009c6104b6565b60408051600160a060020a039092168252519081900360200190f35b3480156100c457600080fd5b506100d9600160a060020a03600435166104c5565b005b3480156100e757600080fd5b506100d9600160a060020a0360043516610507565b34801561010857600080fd5b5061011d600160a060020a0360043516610566565b604080519115158252519081900360200190f35b34801561013d57600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526100d994369492936024939284019190819084018382808284375050604080516020601f818a01358b0180359182018390048302840183018552818452989b8a3515159b909a9099940197509195509182019350915081908401838280828437509497506105849650505050505050565b3480156101dc57600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526100d994369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375094975061071e9650505050505050565b3480156104a157600080fd5b506100d9600160a060020a0360043516610a2e565b600054600160a060020a031681565b60005433600160a060020a039081169116146104e057600080fd5b600160a060020a03166000908152600160208190526040909120805460ff19169091179055565b60005433600160a060020a0390811691161461052257600080fd5b600160a060020a038116151561053757600080fd5b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600160a060020a031660009081526001602052604090205460ff1690565b600160a060020a033316600090815260016020819052604082205460ff16151514806105be575060005433600160a060020a039081169116145b15156105c957600080fd5b6105d284610a9a565b6000818152600260209081526040808320600c01805460ff1916881515908117909155815133600160a060020a03811682529281019190915260808184018181528a519183019190915289519596507f2f8e865f435ade41b794531d2f38a22aa5f5a56a08aadf18d07c38fb053430939592948a948a948a949392606085019260a0860192908901918190849084905b8381101561067a578181015183820152602001610662565b50505050905090810190601f1680156106a75780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156106da5781810151838201526020016106c2565b50505050905090810190601f1680156107075780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a150505050565b600160a060020a033316600090815260016020819052604082205460ff1615151480610758575060005433600160a060020a039081169116145b151561076357600080fd5b61076c8c610a9a565b60008181526002602052604090208181556001908101805460ff1916909117905590506107988b610a9a565b6000828152600260208181526040909220908101929092558b516107c292600301918d0190610ab3565b5060008181526002602090815260409091208a516107e8926004909201918c0190610ab3565b506000818152600260209081526040909120895161080e926005909201918b0190610ab3565b5061081887610a9a565b6000828152600260209081526040909120600681019290925587516108439260070191890190610ab3565b506000818152600260209081526040909120865161086992600890920191880190610ab3565b5061087384610a9a565b60008281526002602052604090206009015561088e83610a9a565b6000828152600260205260409020600a01556108a982610a9a565b600260008360001916600019168152602001908152602001600020600b0181600019169055506001600260008360001916600019168152602001908152602001600020600c0160006101000a81548160ff0219169083151502179055507f068a5ade7960963d048a929d547c2022af1604009423243909663657fac6ece0338d8b6040518084600160a060020a0316600160a060020a031681526020018060200180602001838103835285818151815260200191508051906020019080838360005b8381101561098357818101518382015260200161096b565b50505050905090810190601f1680156109b05780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156109e35781810151838201526020016109cb565b50505050905090810190601f168015610a105780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a1505050505050505050505050565b60005433600160a060020a03908116911614610a4957600080fd5b60016020527fa6eef7e35abe7026729641147f7915573c7e97b47efa546f5f6e3230263bcb4954600160a060020a0391909116600090815260409020805460ff191660ff9092161515919091179055565b6000602082511115610aab57600080fd5b506020015190565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610af457805160ff1916838001178555610b21565b82800160010185558215610b21579182015b82811115610b21578251825591602001919060010190610b06565b50610b2d929150610b31565b5090565b610b4b91905b80821115610b2d5760008155600101610b37565b905600a165627a7a72305820cc614cc9510517d1a9d89bc216056dc9443d631031d6fe77ac4d814b931805920029"
}