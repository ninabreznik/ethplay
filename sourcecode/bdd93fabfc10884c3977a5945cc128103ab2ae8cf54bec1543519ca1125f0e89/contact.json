{
  "address": "0xa1db348e35ae9cfeb2d1f68be4acdf9712925e88",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "BatchControl",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": false,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-05-25\n*/\n\npragma solidity ^0.4.21;\n\ncontract holder {\n    function onIncome() public payable; \n}\n\ncontract BatchControl {\n\n    mapping (address => uint256) public allowed;\n    address public owner;\n    uint256 public price;\n    holder public holderContract;\n\n    event BUY(address buyer, uint256 amount, uint256 total);\n    event HOLDER(address holder);\n    \n    modifier onlyOwner() {\n        require(msg.sender == owner);\n        _;\n    }\n\n    constructor(uint256 _price) public {\n        owner = msg.sender;\n        allowed[owner] = 1000000;\n        price = _price;\n    }\n    \n    function withdrawal() public {\n        owner.transfer(address(this).balance);\n    }\n    \n    function buy(uint256 amount) payable public {\n        uint256 total = price * amount;\n        assert(total >= price);\n        require(msg.value >= total);\n        \n        allowed[msg.sender] += amount;\n        \n        if (holderContract != address(0)) {\n            holderContract.onIncome.value(msg.value)();\n        }\n        emit BUY(msg.sender, amount, allowed[msg.sender]);\n    }\n    \n    function setPrice(uint256 _p) onlyOwner public {\n        price = _p;\n    }\n    \n    function setHolder(address _holder) onlyOwner public {\n        holderContract = holder(_holder);\n        \n        emit HOLDER(_holder);\n    }\n}",
  "abi": "[{\"constant\":true,\"inputs\":[],\"name\":\"holderContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_p\",\"type\":\"uint256\"}],\"name\":\"setPrice\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"price\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawal\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowed\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"buy\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_holder\",\"type\":\"address\"}],\"name\":\"setHolder\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_price\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"buyer\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"total\",\"type\":\"uint256\"}],\"name\":\"BUY\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"holder\",\"type\":\"address\"}],\"name\":\"HOLDER\",\"type\":\"event\"}]",
  "bytecode": "608060405234801561001057600080fd5b506040516020806107fd8339810180604052810190808051906020019092919050505033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550620f4240600080600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550806002819055505061070a806100f36000396000f30060806040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680634b63036d146100935780638da5cb5b146100ea57806391b7f5ed14610141578063a035b1fe1461016e578063d4e9329214610199578063d63a8e11146101b0578063d96a094a14610207578063d979f5aa14610227575b600080fd5b34801561009f57600080fd5b506100a861026a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156100f657600080fd5b506100ff610290565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561014d57600080fd5b5061016c600480360381019080803590602001909291905050506102b6565b005b34801561017a57600080fd5b5061018361031c565b6040518082815260200191505060405180910390f35b3480156101a557600080fd5b506101ae610322565b005b3480156101bc57600080fd5b506101f1600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506103a4565b6040518082815260200191505060405180910390f35b610225600480360381019080803590602001909291905050506103bc565b005b34801561023357600080fd5b50610268600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506105db565b005b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561031257600080fd5b8060028190555050565b60025481565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc3073ffffffffffffffffffffffffffffffffffffffff16319081150290604051600060405180830381858888f193505050501580156103a1573d6000803e3d6000fd5b50565b60006020528060005260406000206000915090505481565b60008160025402905060025481101515156103d357fe5b8034101515156103e257600080fd5b816000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550600073ffffffffffffffffffffffffffffffffffffffff16600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561052657600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d47c0fb0346040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016000604051808303818588803b15801561050c57600080fd5b505af1158015610520573d6000803e3d6000fd5b50505050505b7f7f79d700dadc4b64a59aa70f69b8d1abddcedb54be9697b1621073a1b58ae3b433836000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001838152602001828152602001935050505060405180910390a15050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561063757600080fd5b80600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f69c9381b6ab54926e6a1a502e8b7f02c7f2d9b86b377f0438b8d423c2f9ab58681604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1505600a165627a7a72305820badffd320ddb0b511fdcecbdb016b3d485f16ec9546eff20dee002ac2d5b5be8002900000000000000000000000000000000000000000000000000005af3107a4000",
  "constructorArguments": "00000000000000000000000000000000000000000000000000005af3107a4000"
}