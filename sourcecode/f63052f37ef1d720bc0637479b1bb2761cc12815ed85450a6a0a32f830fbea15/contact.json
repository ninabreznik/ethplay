{
  "address": "0x476179f1d00109415059e8236b5e605084ec485a",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "CutieReward",
  "compilerVersion": "v0.4.25+commit.59dbf8f1",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-12-26\n*/\n\npragma solidity ^0.4.23;\n\n\n/**\n * @title Ownable\n * @dev The Ownable contract has an owner address, and provides basic authorization control\n * functions, this simplifies the implementation of \"user permissions\".\n */\ncontract Ownable {\n  address public owner;\n\n\n  event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n\n  /**\n   * @dev The Ownable constructor sets the original `owner` of the contract to the sender\n   * account.\n   */\n  constructor() public {\n    owner = msg.sender;\n  }\n\n  /**\n   * @dev Throws if called by any account other than the owner.\n   */\n  modifier onlyOwner() {\n    require(msg.sender == owner);\n    _;\n  }\n\n  /**\n   * @dev Allows the current owner to transfer control of the contract to a newOwner.\n   * @param newOwner The address to transfer ownership to.\n   */\n  function transferOwnership(address newOwner) public onlyOwner {\n    require(newOwner != address(0));\n    emit OwnershipTransferred(owner, newOwner);\n    owner = newOwner;\n  }\n\n}\n\n\n\n/**\n * @title Pausable\n * @dev Base contract which allows children to implement an emergency stop mechanism.\n */\ncontract Pausable is Ownable {\n  event Pause();\n  event Unpause();\n\n  bool public paused = false;\n\n\n  /**\n   * @dev Modifier to make a function callable only when the contract is not paused.\n   */\n  modifier whenNotPaused() {\n    require(!paused);\n    _;\n  }\n\n  /**\n   * @dev Modifier to make a function callable only when the contract is paused.\n   */\n  modifier whenPaused() {\n    require(paused);\n    _;\n  }\n\n  /**\n   * @dev called by the owner to pause, triggers stopped state\n   */\n  function pause() onlyOwner whenNotPaused public {\n    paused = true;\n    emit Pause();\n  }\n\n  /**\n   * @dev called by the owner to unpause, returns to normal state\n   */\n  function unpause() onlyOwner whenPaused public {\n    paused = false;\n    emit Unpause();\n  }\n}\n\npragma solidity ^0.4.23;\n\n/// @author https://BlockChainArchitect.iocontract Bank is CutiePluginBase\ncontract PluginInterface\n{\n    /// @dev simply a boolean to indicate this is the contract we expect to be\n    function isPluginInterface() public pure returns (bool);\n\n    function onRemove() public;\n\n    /// @dev Begins new feature.\n    /// @param _cutieId - ID of token to auction, sender must be owner.\n    /// @param _parameter - arbitrary parameter\n    /// @param _seller - Old owner, if not the message sender\n    function run(\n        uint40 _cutieId,\n        uint256 _parameter,\n        address _seller\n    ) \n    public\n    payable;\n\n    /// @dev Begins new feature, approved and signed by COO.\n    /// @param _cutieId - ID of token to auction, sender must be owner.\n    /// @param _parameter - arbitrary parameter\n    function runSigned(\n        uint40 _cutieId,\n        uint256 _parameter,\n        address _owner\n    )\n    external\n    payable;\n\n    function withdraw() public;\n}\n\npragma solidity ^0.4.23;\n\npragma solidity ^0.4.23;\n\n/// @title BlockchainCuties: Collectible and breedable cuties on the Ethereum blockchain.\n/// @author https://BlockChainArchitect.io\n/// @dev This is the BlockchainCuties configuration. It can be changed redeploying another version.\ncontract ConfigInterface\n{\n    function isConfig() public pure returns (bool);\n\n    function getCooldownIndexFromGeneration(uint16 _generation) public view returns (uint16);\n    \n    function getCooldownEndTimeFromIndex(uint16 _cooldownIndex) public view returns (uint40);\n\n    function getCooldownIndexCount() public view returns (uint256);\n\n    function getBabyGenFromId(uint40 _momId, uint40 _dadId) public view returns (uint16);\n    function getBabyGen(uint16 _momGen, uint16 _dadGen) public pure returns (uint16);\n\n    function getTutorialBabyGen(uint16 _dadGen) public pure returns (uint16);\n\n    function getBreedingFee(uint40 _momId, uint40 _dadId) public view returns (uint256);\n}\n\n\ncontract CutieCoreInterface\n{\n    function isCutieCore() pure public returns (bool);\n\n    ConfigInterface public config;\n\n    function transferFrom(address _from, address _to, uint256 _cutieId) external;\n    function transfer(address _to, uint256 _cutieId) external;\n\n    function ownerOf(uint256 _cutieId)\n        external\n        view\n        returns (address owner);\n\n    function getCutie(uint40 _id)\n        external\n        view\n        returns (\n        uint256 genes,\n        uint40 birthTime,\n        uint40 cooldownEndTime,\n        uint40 momId,\n        uint40 dadId,\n        uint16 cooldownIndex,\n        uint16 generation\n    );\n\n    function getGenes(uint40 _id)\n        public\n        view\n        returns (\n        uint256 genes\n    );\n\n\n    function getCooldownEndTime(uint40 _id)\n        public\n        view\n        returns (\n        uint40 cooldownEndTime\n    );\n\n    function getCooldownIndex(uint40 _id)\n        public\n        view\n        returns (\n        uint16 cooldownIndex\n    );\n\n\n    function getGeneration(uint40 _id)\n        public\n        view\n        returns (\n        uint16 generation\n    );\n\n    function getOptional(uint40 _id)\n        public\n        view\n        returns (\n        uint64 optional\n    );\n\n\n    function changeGenes(\n        uint40 _cutieId,\n        uint256 _genes)\n        public;\n\n    function changeCooldownEndTime(\n        uint40 _cutieId,\n        uint40 _cooldownEndTime)\n        public;\n\n    function changeCooldownIndex(\n        uint40 _cutieId,\n        uint16 _cooldownIndex)\n        public;\n\n    function changeOptional(\n        uint40 _cutieId,\n        uint64 _optional)\n        public;\n\n    function changeGeneration(\n        uint40 _cutieId,\n        uint16 _generation)\n        public;\n\n    function createSaleAuction(\n        uint40 _cutieId,\n        uint128 _startPrice,\n        uint128 _endPrice,\n        uint40 _duration\n    )\n    public;\n\n    function getApproved(uint256 _tokenId) external returns (address);\n\n    function totalSupply() view returns (uint256);\n    function createPromoCutie(uint256 _genes, address _owner);\n}\n\n\n/// @author https://BlockChainArchitect.iocontract Bank is CutiePluginBase\ncontract CutiePluginBase is PluginInterface, Pausable\n{\n    function isPluginInterface() public pure returns (bool)\n    {\n        return true;\n    }\n\n    // Reference to contract tracking NFT ownership\n    CutieCoreInterface public coreContract;\n\n    // Cut owner takes on each auction, measured in basis points (1/100 of a percent).\n    // Values 0-10,000 map to 0%-100%\n    uint16 public ownerFee;\n\n    // @dev Throws if called by any account other than the owner.\n    modifier onlyCore() {\n        require(msg.sender == address(coreContract));\n        _;\n    }\n\n    /// @dev Constructor creates a reference to the NFT ownership contract\n    ///  and verifies the owner cut is in the valid range.\n    /// @param _coreAddress - address of a deployed contract implementing\n    ///  the Nonfungible Interface.\n    /// @param _fee - percent cut the owner takes on each auction, must be\n    ///  between 0-10,000.\n    function setup(address _coreAddress, uint16 _fee) public {\n        require(_fee <= 10000);\n        require(msg.sender == owner);\n        ownerFee = _fee;\n        \n        CutieCoreInterface candidateContract = CutieCoreInterface(_coreAddress);\n        require(candidateContract.isCutieCore());\n        coreContract = candidateContract;\n    }\n\n    // @dev Set the owner's fee.\n    //  @param fee should be between 0-10,000.\n    function setFee(uint16 _fee) public\n    {\n        require(_fee <= 10000);\n        require(msg.sender == owner);\n\n        ownerFee = _fee;\n    }\n\n    /// @dev Returns true if the claimant owns the token.\n    /// @param _claimant - Address claiming to own the token.\n    /// @param _cutieId - ID of token whose ownership to verify.\n    function _isOwner(address _claimant, uint40 _cutieId) internal view returns (bool) {\n        return (coreContract.ownerOf(_cutieId) == _claimant);\n    }\n\n    /// @dev Escrows the NFT, assigning ownership to this contract.\n    /// Throws if the escrow fails.\n    /// @param _owner - Current owner address of token to escrow.\n    /// @param _cutieId - ID of token whose approval to verify.\n    function _escrow(address _owner, uint40 _cutieId) internal {\n        // it will throw if transfer fails\n        coreContract.transferFrom(_owner, this, _cutieId);\n    }\n\n    /// @dev Transfers an NFT owned by this contract to another address.\n    /// Returns true if the transfer succeeds.\n    /// @param _receiver - Address to transfer NFT to.\n    /// @param _cutieId - ID of token to transfer.\n    function _transfer(address _receiver, uint40 _cutieId) internal {\n        // it will throw if transfer fails\n        coreContract.transfer(_receiver, _cutieId);\n    }\n\n    /// @dev Computes owner's cut of a sale.\n    /// @param _price - Sale price of NFT.\n    function _computeFee(uint128 _price) internal view returns (uint128) {\n        // NOTE: We don't use SafeMath (or similar) in this function because\n        //  all of our entry functions carefully cap the maximum values for\n        //  currency (at 128-bits), and ownerFee <= 10000 (see the require()\n        //  statement in the ClockAuction constructor). The result of this\n        //  function is always guaranteed to be <= _price.\n        return _price * ownerFee / 10000;\n    }\n\n    function withdraw() public\n    {\n        require(\n            msg.sender == owner ||\n            msg.sender == address(coreContract)\n        );\n        if (address(this).balance > 0)\n        {\n            address(coreContract).transfer(address(this).balance);\n        }\n    }\n\n    function onRemove() public onlyCore\n    {\n        withdraw();\n    }\n\n    function run(\n        uint40,\n        uint256,\n        address\n    ) \n        public\n        payable\n        onlyCore\n    {\n        revert();\n    }\n}\n\n\n/// @title Item effect for Blockchain Cuties\n/// @author https://BlockChainArchitect.io\ncontract CutieReward is CutiePluginBase\n{\n    address public operatorAddress;\n\n    function runSigned(\n        uint40/* _cutieId*/,\n        uint256/* _parameter*/,\n        address/* _sender*/\n    )\n        external\n        onlyCore\n        whenNotPaused\n        payable\n    {\n        revert();\n    }\n\n    function setOperator(address _newOperator) external onlyOwner\n    {\n        operatorAddress = _newOperator;\n    }\n\n    function setupCutie(uint40 cutieId, uint16 generation)\n        external\n        whenNotPaused\n    {\n        require(msg.sender == operatorAddress);\n\n        coreContract.changeGeneration(cutieId, generation);\n        ConfigInterface config = coreContract.config();\n        uint16 cooldownIndex = config.getCooldownIndexFromGeneration(generation);\n        coreContract.changeCooldownIndex(cutieId, cooldownIndex);\n    }\n}",
  "abi": "[{\"constant\":false,\"inputs\":[],\"name\":\"onRemove\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"operatorAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_fee\",\"type\":\"uint16\"}],\"name\":\"setFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isPluginInterface\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"\",\"type\":\"uint40\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"address\"}],\"name\":\"runSigned\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"\",\"type\":\"uint40\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"address\"}],\"name\":\"run\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOperator\",\"type\":\"address\"}],\"name\":\"setOperator\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ownerFee\",\"outputs\":[{\"name\":\"\",\"type\":\"uint16\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"cutieId\",\"type\":\"uint40\"},{\"name\":\"generation\",\"type\":\"uint16\"}],\"name\":\"setupCutie\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_coreAddress\",\"type\":\"address\"},{\"name\":\"_fee\",\"type\":\"uint16\"}],\"name\":\"setup\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"coreContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Pause\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Unpause\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}]",
  "bytecode": "608060405260008054600160a860020a031916331790556109c3806100256000396000f3006080604052600436106100d75763ffffffff60e060020a6000350416631195236981146100dc578063127effb2146100f35780633ccfd60b146101245780633f4ba83a146101395780635c975abb1461014e5780638456cb59146101775780638da5cb5b1461018c5780638e005553146101a157806394a89233146101bd5780639652713e146101d2578063a055d455146101f3578063b3ab15fb14610214578063d5b2a01a14610235578063df1b817e14610261578063e410a0c614610287578063e80db5db146102af578063f2fde38b146102c4575b600080fd5b3480156100e857600080fd5b506100f16102e5565b005b3480156100ff57600080fd5b50610108610306565b60408051600160a060020a039092168252519081900360200190f35b34801561013057600080fd5b506100f1610315565b34801561014557600080fd5b506100f161038a565b34801561015a57600080fd5b50610163610400565b604080519115158252519081900360200190f35b34801561018357600080fd5b506100f1610410565b34801561019857600080fd5b5061010861048b565b3480156101ad57600080fd5b506100f161ffff6004351661049a565b3480156101c957600080fd5b506101636104f7565b6100f164ffffffffff60043516602435600160a060020a03604435166104fc565b6100f164ffffffffff60043516602435600160a060020a036044351661052a565b34801561022057600080fd5b506100f1600160a060020a0360043516610541565b34801561024157600080fd5b5061024a610587565b6040805161ffff9092168252519081900360200190f35b34801561026d57600080fd5b506100f164ffffffffff6004351661ffff60243516610598565b34801561029357600080fd5b506100f1600160a060020a036004351661ffff60243516610802565b3480156102bb57600080fd5b506101086108f4565b3480156102d057600080fd5b506100f1600160a060020a0360043516610903565b600154600160a060020a031633146102fc57600080fd5b610304610315565b565b600254600160a060020a031681565b600054600160a060020a03163314806103385750600154600160a060020a031633145b151561034357600080fd5b60003031111561030457600154604051600160a060020a0390911690303180156108fc02916000818181858888f19350505050158015610387573d6000803e3d6000fd5b50565b600054600160a060020a031633146103a157600080fd5b60005460a060020a900460ff1615156103b957600080fd5b6000805474ff0000000000000000000000000000000000000000191681556040517f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b339190a1565b60005460a060020a900460ff1681565b600054600160a060020a0316331461042757600080fd5b60005460a060020a900460ff161561043e57600080fd5b6000805474ff0000000000000000000000000000000000000000191660a060020a1781556040517f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff6259190a1565b600054600160a060020a031681565b61271061ffff821611156104ad57600080fd5b600054600160a060020a031633146104c457600080fd5b6001805461ffff90921660a060020a0275ffff000000000000000000000000000000000000000019909216919091179055565b600190565b600154600160a060020a0316331461051357600080fd5b60005460a060020a900460ff16156100d757600080fd5b600154600160a060020a031633146100d757600080fd5b600054600160a060020a0316331461055857600080fd5b6002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b60015460a060020a900461ffff1681565b60008054819060a060020a900460ff16156105b257600080fd5b600254600160a060020a031633146105c957600080fd5b600154604080517f5a3f88f000000000000000000000000000000000000000000000000000000000815264ffffffffff8716600482015261ffff861660248201529051600160a060020a0390921691635a3f88f09160448082019260009290919082900301818387803b15801561063f57600080fd5b505af1158015610653573d6000803e3d6000fd5b50505050600160009054906101000a9004600160a060020a0316600160a060020a03166379502c556040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156106aa57600080fd5b505af11580156106be573d6000803e3d6000fd5b505050506040513d60208110156106d457600080fd5b5051604080517f5757dcdf00000000000000000000000000000000000000000000000000000000815261ffff861660048201529051919350600160a060020a03841691635757dcdf916024808201926020929091908290030181600087803b15801561073f57600080fd5b505af1158015610753573d6000803e3d6000fd5b505050506040513d602081101561076957600080fd5b5051600154604080517fcf7e69f800000000000000000000000000000000000000000000000000000000815264ffffffffff8816600482015261ffff841660248201529051929350600160a060020a039091169163cf7e69f89160448082019260009290919082900301818387803b1580156107e457600080fd5b505af11580156107f8573d6000803e3d6000fd5b5050505050505050565b600061271061ffff8316111561081757600080fd5b600054600160a060020a0316331461082e57600080fd5b81600160146101000a81548161ffff021916908361ffff16021790555082905080600160a060020a0316634d6a813a6040518163ffffffff1660e060020a028152600401602060405180830381600087803b15801561088c57600080fd5b505af11580156108a0573d6000803e3d6000fd5b505050506040513d60208110156108b657600080fd5b505115156108c357600080fd5b6001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b600154600160a060020a031681565b600054600160a060020a0316331461091a57600080fd5b600160a060020a038116151561092f57600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555600a165627a7a7230582036638986adfc5f950e4729f65e32f53b2a4772e8dae060e016919be662e3c55b0029"
}