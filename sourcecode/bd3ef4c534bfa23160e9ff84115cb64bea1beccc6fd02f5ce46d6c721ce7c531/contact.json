{
  "address": "0x3731685fc2ad19d0d8fe9c3715a522a68e7eabfa",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "AFS",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2019-05-30\n*/\n\n// File: contracts/ignored_contracts/Ownable.sol\n\npragma solidity ^0.4.24;\n\ncontract Ownable {\n\n  address public owner_;\n\n  event TransferApproved(address indexed _previousOwner, address indexed _newOwner);\n  event TransferRequested(address indexed _currentOwner, address indexed _requestedOwner);\n  event RequestRevoked(address indexed _currentOwner, address indexed _requestOwner);\n\n  mapping(bytes32 => bool) public requesters_; // keccak256 hashes of requester addresses\n\n  modifier onlyOwner() {\n    require(msg.sender == owner_);\n    _;\n  }\n\n  modifier hasNotRequested() {\n    require(!requesters_[keccak256(abi.encodePacked(msg.sender))],\n      \"Ownership request already active.\");\n    _;\n  }\n\n  modifier hasRequested(address _newOwner) {\n    require(requesters_[keccak256(abi.encodePacked(_newOwner))], \n      \"Owner request has not been sent.\");\n    _;\n  }\n\n  function requestOwnership() public hasNotRequested {\n    bytes32 hashedAddress = keccak256(abi.encodePacked(msg.sender));\n    requesters_[hashedAddress] = true;\n    emit TransferRequested(owner_, msg.sender);\n  }\n\n  function revokeOwnershipRequest() public hasRequested(msg.sender) {\n    bytes32 hashedAddress = keccak256(abi.encodePacked(msg.sender));\n    requesters_[hashedAddress] = false;\n    emit RequestRevoked(owner_, msg.sender);\n  }\n\n  function approveOwnershipTransfer(address _newOwner) public onlyOwner hasRequested(_newOwner) {\n    owner_ = _newOwner;\n    bytes32 hashedAddress = keccak256(abi.encodePacked(msg.sender));\n    requesters_[hashedAddress] = false;\n  }\n\n}\n\n// File: contracts/SafeMath32.sol\n\npragma solidity ^0.4.24;\n\nlibrary SafeMath32 {\n\n  function mul(uint32 a, uint32 b) internal pure returns (uint32) {\n    if (a == 0) {\n      return 0;\n    }\n\n    uint32 c = a * b;\n    assert(c / a == b);\n    return c;\n  }\n\n  function div(uint32 a, uint32 b) internal pure returns (uint32) {\n    // assert(b > 0); // Solidity automatically throws when dividing by 0\n    uint32 c = a / b;\n    // assert(a == b * c + a % b); // There is no case in which this doesn’t hold\n    return c;\n  }\n\n  function sub(uint32 a, uint32 b) internal pure returns (uint32) {\n    assert(b <= a);\n    return a - b;\n  }\n\n  function add(uint32 a, uint32 b) internal pure returns (uint32) {\n    uint32 c = a + b;\n    assert(c >= a);\n    return c;\n  }\n}\n\n// File: contracts/AraProxy.sol\n\npragma solidity ^0.4.24;\n\n/**\n * @title AraProxy\n * @dev Gives the possibility to delegate any call to a foreign implementation.\n */\ncontract AraProxy {\n\n  bytes32 private constant registryPosition_ = keccak256(\"io.ara.proxy.registry\");\n  bytes32 private constant implementationPosition_ = keccak256(\"io.ara.proxy.implementation\");\n\n  modifier restricted() {\n    bytes32 registryPosition = registryPosition_;\n    address registryAddress;\n    assembly {\n      registryAddress := sload(registryPosition)\n    }\n    require(\n      msg.sender == registryAddress,\n      \"Only the AraRegistry can upgrade this proxy.\"\n    );\n    _;\n  }\n\n  /**\n  * @dev the constructor sets the AraRegistry address\n  */\n  constructor(address _registryAddress, address _implementationAddress) public {\n    bytes32 registryPosition = registryPosition_;\n    bytes32 implementationPosition = implementationPosition_;\n    assembly {\n      sstore(registryPosition, _registryAddress)\n      sstore(implementationPosition, _implementationAddress)\n    }\n  }\n\n  function setImplementation(address _newImplementation) public restricted {\n    require(_newImplementation != address(0));\n    bytes32 implementationPosition = implementationPosition_;\n    assembly {\n      sstore(implementationPosition, _newImplementation)\n    }\n  }\n\n  /**\n  * @dev Fallback function allowing to perform a delegatecall to the given implementation.\n  * This function will return whatever the implementation call returns\n  */\n  function () payable public {\n    bytes32 implementationPosition = implementationPosition_;\n    address _impl;\n    assembly {\n      _impl := sload(implementationPosition)\n    }\n\n    assembly {\n      let ptr := mload(0x40)\n      calldatacopy(ptr, 0, calldatasize)\n      let result := delegatecall(gas, _impl, ptr, calldatasize, 0, 0)\n      let size := returndatasize\n      returndatacopy(ptr, 0, size)\n\n      switch result\n      case 0 { revert(ptr, size) }\n      default { return(ptr, size) }\n    }\n  }\n}\n\n// File: contracts/ignored_contracts/Registry.sol\n\npragma solidity ^0.4.24;\n\n\ncontract Registry {\n  address public owner_;\n  mapping (bytes32 => address) private proxies_; // contentId (unhashed) => proxy\n  mapping (bytes32 => address) private proxyOwners_; // contentId (unhashed) => owner\n  mapping (string => address) private versions_; // version => implementation\n  mapping (address => string) public proxyImpls_; // proxy => version\n  string public latestVersion_;\n\n  event ProxyDeployed(address indexed _owner, bytes32 indexed _contentId, address _address);\n  event ProxyUpgraded(bytes32 indexed _contentId, string indexed _version);\n  event StandardAdded(string indexed _version, address _address);\n\n  function init(bytes _data) public {\n    require(owner_ == address(0), 'Registry has already been initialized.');\n\n    uint256 btsptr;\n    address ownerAddr;\n    assembly {\n      btsptr := add(_data, 32)\n      ownerAddr := mload(btsptr)\n    }\n    owner_ = ownerAddr;\n  }\n\n  modifier restricted() {\n    require (\n      msg.sender == owner_,\n      \"Sender not authorized.\"\n    );\n    _;\n  }\n\n  modifier onlyProxyOwner(bytes32 _contentId) {\n    require(\n      proxyOwners_[_contentId] == msg.sender,\n      \"Sender not authorized.\"\n    );\n    _;\n  }\n\n  function getProxyAddress(bytes32 _contentId) public view returns (address) {\n    return proxies_[_contentId];\n  }\n\n  function getProxyOwner(bytes32 _contentId) public view returns (address) {\n    return proxyOwners_[_contentId];\n  }\n\n  function getImplementation(string _version) public view returns (address) {\n    return versions_[_version];\n  }\n\n  function getProxyVersion(bytes32 _contentId) public view returns (string) {\n    return proxyImpls_[getProxyAddress(_contentId)];\n  }\n  \n  /**\n   * @dev AFS Proxy Factory\n   * @param _contentId The unhashed methodless content DID\n   * @param _version The implementation version to use with this Proxy\n   * @param _data AFS initialization data\n   * @return address of the newly deployed Proxy\n   */\n  function createAFS(bytes32 _contentId, string _version, bytes _data) public {\n    require(proxies_[_contentId] == address(0), \"Proxy already exists for this content.\");\n    require(versions_[_version] != address(0), \"Version does not exist.\");\n    AraProxy proxy = new AraProxy(address(this), versions_[_version]);\n    proxies_[_contentId] = proxy;\n    proxyOwners_[_contentId] = msg.sender;\n    upgradeProxyAndCall(_contentId, _version, _data);\n    emit ProxyDeployed(msg.sender, _contentId, address(proxy));\n  }\n\n  /**\n   * @dev Upgrades proxy implementation version\n   * @param _contentId The unhashed methodless content DID\n   * @param _version The implementation version to upgrade this Proxy to\n   */\n  function upgradeProxy(bytes32 _contentId, string _version) public onlyProxyOwner(_contentId) {\n    require(versions_[_version] != address(0), \"Version does not exist.\");\n    AraProxy proxy = AraProxy(proxies_[_contentId]);\n    proxy.setImplementation(versions_[_version]);\n    proxyImpls_[proxies_[_contentId]] = _version;\n    emit ProxyUpgraded(_contentId, _version);\n  }\n\n  /**\n   * @dev Upgrades proxy implementation version with initialization\n   * @param _contentId The unhashed methodless content DID\n   * @param _version The implementation version to upgrade this Proxy to\n   * @param _data AFS initialization data\n   */\n  function upgradeProxyAndCall(bytes32 _contentId, string _version, bytes _data) public onlyProxyOwner(_contentId) {\n    require(versions_[_version] != address(0), \"Version does not exist.\");\n    require(keccak256(abi.encodePacked(proxyImpls_[proxy])) != keccak256(abi.encodePacked(_version)), \"Proxy is already on this version.\");\n    AraProxy proxy = AraProxy(proxies_[_contentId]);\n    proxy.setImplementation(versions_[_version]);\n    proxyImpls_[proxy] = _version;\n    require(address(proxy).call(abi.encodeWithSignature(\"init(bytes)\", _data)), \"Init failed.\");\n    emit ProxyUpgraded(_contentId, _version);\n  }\n\n  /**\n   * @dev Adds a new AFS implementation standard\n   * @param _version The implementation version name\n   * @param _address The address of the new AFS implementation\n   */\n  function addStandardVersion(string _version, address _address) public restricted {\n    require(versions_[_version] == address(0), \"Version already exists.\");\n    versions_[_version] = _address;\n    latestVersion_ = _version;\n    emit StandardAdded(_version, _address);\n  }\n}\n\n// File: contracts/ignored_contracts/Library.sol\n\npragma solidity ^0.4.24;\n\n\n\ncontract Library {\n  using SafeMath32 for uint32;\n\n  address public owner_;\n  mapping (bytes32 => Lib) private libraries_; // hashed methodless owner did => library\n  Registry registry_;\n\n  struct Lib {\n    uint32 size;\n    mapping (uint32 => bytes32) content; // index => contentId (unhashed)\n  }\n\n  event AddedToLib(bytes32 indexed _identity, bytes32 indexed _contentId);\n\n  function init(bytes _data) public {\n    require(owner_ == address(0), 'Library has already been initialized.');\n\n    uint256 btsptr;\n    address ownerAddr;\n    address registryAddr;\n    assembly {\n      btsptr := add(_data, 32)\n      ownerAddr := mload(btsptr)\n      btsptr := add(_data, 64)\n      registryAddr := mload(btsptr)\n    }\n    owner_ = ownerAddr;\n    registry_ = Registry(registryAddr);\n  }\n\n  modifier restricted() {\n    require (msg.sender == owner_, \"Sender not authorized.\");\n     _;\n  }\n\n  modifier fromProxy(bytes32 _contentId) {\n    require (msg.sender == registry_.getProxyAddress(_contentId), \"Proxy not authorized.\");\n     _;\n  }\n\n  function getLibrarySize(bytes32 _identity) public view returns (uint32 size) {\n    return libraries_[_identity].size;\n  }\n\n  function getLibraryItem(bytes32 _identity, uint32 _index) public view returns (bytes32 contentId) {\n    require (_index < libraries_[_identity].size, \"Index does not exist.\");\n    return libraries_[_identity].content[_index];\n  }\n\n  function addLibraryItem(bytes32 _identity, bytes32 _contentId) public fromProxy(_contentId) {\n    uint32 libSize = libraries_[_identity].size;\n    assert (libraries_[_identity].content[libSize] == bytes32(0));\n    libraries_[_identity].content[libSize] = _contentId;\n    libraries_[_identity].size++;\n    emit AddedToLib(_identity, _contentId);\n  }\n}\n\n// File: contracts/ignored_contracts/ERC20.sol\n\npragma solidity ^0.4.24;\n\n/**\n * NOTE: This contract will be removed once openzeppelin-solidity releases this code as an official release.\n */\n\n/**\n * @title ERC20 interface\n * @dev see https://github.com/ethereum/EIPs/issues/20\n */\ncontract ERC20 {\n  function totalSupply() public view returns (uint256);\n\n  function balanceOf(address _who) public view returns (uint256);\n\n  function allowance(address _owner, address _spender)\n    public view returns (uint256);\n\n  function transfer(address _to, uint256 _value) public returns (bool);\n\n  function approve(address _spender, uint256 _value)\n    public returns (bool);\n\n  function transferFrom(address _from, address _to, uint256 _value)\n    public returns (bool);\n\n  event Transfer(\n    address indexed from,\n    address indexed to,\n    uint256 value\n  );\n\n  event Approval(\n    address indexed owner,\n    address indexed spender,\n    uint256 value\n  );\n}\n\n// File: openzeppelin-solidity/contracts/math/SafeMath.sol\n\npragma solidity ^0.4.24;\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that revert on error\n */\nlibrary SafeMath {\n\n  /**\n  * @dev Multiplies two numbers, reverts on overflow.\n  */\n  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n    // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n    // benefit is lost if 'b' is also tested.\n    // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n    if (a == 0) {\n      return 0;\n    }\n\n    uint256 c = a * b;\n    require(c / a == b);\n\n    return c;\n  }\n\n  /**\n  * @dev Integer division of two numbers truncating the quotient, reverts on division by zero.\n  */\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\n    require(b > 0); // Solidity only automatically asserts when dividing by 0\n    uint256 c = a / b;\n    // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n\n    return c;\n  }\n\n  /**\n  * @dev Subtracts two numbers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n  */\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n    require(b <= a);\n    uint256 c = a - b;\n\n    return c;\n  }\n\n  /**\n  * @dev Adds two numbers, reverts on overflow.\n  */\n  function add(uint256 a, uint256 b) internal pure returns (uint256) {\n    uint256 c = a + b;\n    require(c >= a);\n\n    return c;\n  }\n\n  /**\n  * @dev Divides two numbers and returns the remainder (unsigned integer modulo),\n  * reverts when dividing by zero.\n  */\n  function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n    require(b != 0);\n    return a % b;\n  }\n}\n\n// File: contracts/ignored_contracts/StandardToken.sol\n\npragma solidity ^0.4.24;\n\n/**\n * NOTE: This contract will be removed once openzeppelin-solidity releases this code as an official release.\n * -Charles \n */\n\n\n\n/**\n * @title Standard ERC20 token\n *\n * @dev Implementation of the basic standard token.\n * https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md\n * Based on code by FirstBlood: https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol\n */\ncontract StandardToken is ERC20 {\n  using SafeMath for uint256;\n\n  mapping (address => uint256) private balances_;\n\n  mapping (address => mapping (address => uint256)) private allowed_;\n\n  uint256 private totalSupply_;\n\n  /**\n  * @dev Total number of tokens in existence\n  */\n  function totalSupply() public view returns (uint256) {\n    return totalSupply_;\n  }\n\n  /**\n  * @dev Gets the balance of the specified address.\n  * @param _owner The address to query the the balance of.\n  * @return An uint256 representing the amount owned by the passed address.\n  */\n  function balanceOf(address _owner) public view returns (uint256) {\n    return balances_[_owner];\n  }\n\n  /**\n   * @dev Function to check the amount of tokens that an owner allowed to a spender.\n   * @param _owner address The address which owns the funds.\n   * @param _spender address The address which will spend the funds.\n   * @return A uint256 specifying the amount of tokens still available for the spender.\n   */\n  function allowance(\n    address _owner,\n    address _spender\n   )\n    public\n    view\n    returns (uint256)\n  {\n    return allowed_[_owner][_spender];\n  }\n\n  /**\n  * @dev Transfer token for a specified address\n  * @param _to The address to transfer to.\n  * @param _value The amount to be transferred.\n  */\n  function transfer(address _to, uint256 _value) public returns (bool) {\n    require(_value <= balances_[msg.sender]);\n    require(_to != address(0));\n\n    balances_[msg.sender] = balances_[msg.sender].sub(_value);\n    balances_[_to] = balances_[_to].add(_value);\n    emit Transfer(msg.sender, _to, _value);\n    return true;\n  }\n\n  /**\n   * @dev Approve the passed address to spend the specified amount of tokens on behalf of msg.sender.\n   * Beware that changing an allowance with this method brings the risk that someone may use both the old\n   * and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this\n   * race condition is to first reduce the spender's allowance to 0 and set the desired value afterwards:\n   * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n   * @param _spender The address which will spend the funds.\n   * @param _value The amount of tokens to be spent.\n   */\n  function approve(address _spender, uint256 _value) public returns (bool) {\n    allowed_[msg.sender][_spender] = _value;\n    emit Approval(msg.sender, _spender, _value);\n    return true;\n  }\n\n  /**\n   * @dev Transfer tokens from one address to another\n   * @param _from address The address which you want to send tokens from\n   * @param _to address The address which you want to transfer to\n   * @param _value uint256 the amount of tokens to be transferred\n   */\n  function transferFrom(\n    address _from,\n    address _to,\n    uint256 _value\n  )\n    public\n    returns (bool)\n  {\n    require(_value <= balances_[_from]);\n    require(_value <= allowed_[_from][msg.sender]);\n    require(_to != address(0));\n\n    balances_[_from] = balances_[_from].sub(_value);\n    balances_[_to] = balances_[_to].add(_value);\n    allowed_[_from][msg.sender] = allowed_[_from][msg.sender].sub(_value);\n    emit Transfer(_from, _to, _value);\n    return true;\n  }\n\n  /**\n   * @dev Increase the amount of tokens that an owner allowed to a spender.\n   * approve should be called when allowed_[_spender] == 0. To increment\n   * allowed value is better to use this function to avoid 2 calls (and wait until\n   * the first transaction is mined)\n   * From MonolithDAO Token.sol\n   * @param _spender The address which will spend the funds.\n   * @param _addedValue The amount of tokens to increase the allowance by.\n   */\n  function increaseApproval(\n    address _spender,\n    uint256 _addedValue\n  )\n    public\n    returns (bool)\n  {\n    allowed_[msg.sender][_spender] = (\n      allowed_[msg.sender][_spender].add(_addedValue));\n    emit Approval(msg.sender, _spender, allowed_[msg.sender][_spender]);\n    return true;\n  }\n\n  /**\n   * @dev Decrease the amount of tokens that an owner allowed to a spender.\n   * approve should be called when allowed_[_spender] == 0. To decrement\n   * allowed value is better to use this function to avoid 2 calls (and wait until\n   * the first transaction is mined)\n   * From MonolithDAO Token.sol\n   * @param _spender The address which will spend the funds.\n   * @param _subtractedValue The amount of tokens to decrease the allowance by.\n   */\n  function decreaseApproval(\n    address _spender,\n    uint256 _subtractedValue\n  )\n    public\n    returns (bool)\n  {\n    uint256 oldValue = allowed_[msg.sender][_spender];\n    if (_subtractedValue >= oldValue) {\n      allowed_[msg.sender][_spender] = 0;\n    } else {\n      allowed_[msg.sender][_spender] = oldValue.sub(_subtractedValue);\n    }\n    emit Approval(msg.sender, _spender, allowed_[msg.sender][_spender]);\n    return true;\n  }\n\n  /**\n   * @dev Internal function that mints an amount of the token and assigns it to\n   * an account. This encapsulates the modification of balances such that the\n   * proper events are emitted.\n   * @param _account The account that will receive the created tokens.\n   * @param _amount The amount that will be created.\n   */\n  function _mint(address _account, uint256 _amount) internal {\n    require(_account != 0);\n    totalSupply_ = totalSupply_.add(_amount);\n    balances_[_account] = balances_[_account].add(_amount);\n    emit Transfer(address(0), _account, _amount);\n  }\n\n  /**\n   * @dev Internal function that burns an amount of the token of a given\n   * account.\n   * @param _account The account whose tokens will be burnt.\n   * @param _amount The amount that will be burnt.\n   */\n  function _burn(address _account, uint256 _amount) internal {\n    require(_account != 0);\n    require(_amount <= balances_[_account]);\n\n    totalSupply_ = totalSupply_.sub(_amount);\n    balances_[_account] = balances_[_account].sub(_amount);\n    emit Transfer(_account, address(0), _amount);\n  }\n\n  /**\n   * @dev Internal function that burns an amount of the token of a given\n   * account, deducting from the sender's allowance for said account. Uses the\n   * internal _burn function.\n   * @param _account The account whose tokens will be burnt.\n   * @param _amount The amount that will be burnt.\n   */\n  function _burnFrom(address _account, uint256 _amount) internal {\n    require(_amount <= allowed_[_account][msg.sender]);\n\n    // Should https://github.com/OpenZeppelin/zeppelin-solidity/issues/707 be accepted,\n    // this function needs to emit an event with the updated approval.\n    allowed_[_account][msg.sender] = allowed_[_account][msg.sender].sub(\n      _amount);\n    _burn(_account, _amount);\n  }\n}\n\n// File: contracts/ignored_contracts/AraToken.sol\n\npragma solidity ^0.4.24;\n\n\ncontract AraToken is StandardToken {\n\n  // metadata\n  bool    private initialized;\n  string  public constant name = \"Ara Token\";\n  string  public constant symbol = \"ARA\";\n  uint256 public constant decimals = 18;\n  string  public version = \"1.0\";\n\n\n  mapping (address => uint256) private deposits_;\n\n  event Deposit(address indexed from, uint256 value, uint256 total);\n  event Withdraw(address indexed to, uint256 value, uint256 total);\n\n  function init(bytes _data) public {\n    require(!initialized, 'Ara Token has already been initialized.');\n    initialized = true;\n    \n    uint256 btsptr;\n    address ownerAddr;\n    assembly {\n      btsptr := add(_data, 32)\n      ownerAddr := mload(btsptr)\n    }\n    _mint(ownerAddr, formatDecimals(1000000000)); // 1,000,000,000\n  }\n\n  function formatDecimals(uint256 _value) internal pure returns (uint256) {\n    return _value * 10 ** decimals;\n  }\n\n  function amountDeposited(address _owner) public view returns (uint256) {\n    return deposits_[_owner];\n  }\n\n  function deposit(uint256 _value) external returns (bool) {\n    require(_value <= balanceOf(msg.sender));\n\n    deposits_[msg.sender] = deposits_[msg.sender].add(_value);\n    emit Deposit(msg.sender, _value, deposits_[msg.sender]);\n    return true;\n  }\n\n  function withdraw(uint256 _value) external returns (bool) {\n    require(_value <= deposits_[msg.sender]);\n\n    deposits_[msg.sender] = deposits_[msg.sender].sub(_value);\n    emit Withdraw(msg.sender, _value, deposits_[msg.sender]);\n    return true;\n  }\n\n  function transfer(address _to, uint256 _value) public returns (bool) {\n    require(balanceOf(msg.sender) - _value >= deposits_[msg.sender]);\n    return super.transfer(_to, _value);\n  }\n\n  function approve(address _spender, uint256 _value) public returns (bool) {\n    require(balanceOf(msg.sender) - _value >= deposits_[msg.sender]);\n    return super.approve(_spender, _value);\n  }\n\n  function transferFrom(\n    address _from,\n    address _to,\n    uint256 _value\n  )\n    public\n    returns (bool)\n  {\n    require(balanceOf(_from) - _value >= deposits_[_from]);\n    return super.transferFrom(_from, _to, _value);\n  }\n\n  function increaseApproval(\n    address _spender,\n    uint256 _addedValue\n  )\n    public\n    returns (bool)\n  {\n    require(balanceOf(msg.sender) - (_addedValue + allowance(msg.sender, _spender)) >= deposits_[msg.sender]);\n    return super.increaseApproval(_spender, _addedValue);\n  }\n}\n\n// File: installed_contracts/bytes/contracts/BytesLib.sol\n\n/*\n * @title Solidity Bytes Arrays Utils\n * @author Nick Johnson <[email protected]>\n *\n * @dev Bytes tightly packed arrays utility library for ethereum contracts written in Solidity.\n *      The library lets you concatenate, slice and type cast bytes arrays both in memory and storage.\n */\n\npragma solidity ^0.4.19;\n\n\nlibrary BytesLib {\n    function concat(bytes memory _preBytes, bytes memory _postBytes) internal pure returns (bytes) {\n        bytes memory tempBytes;\n\n        assembly {\n            // Get a location of some free memory and store it in tempBytes as\n            // Solidity does for memory variables.\n            tempBytes := mload(0x40)\n\n            // Store the length of the first bytes array at the beginning of\n            // the memory for tempBytes.\n            let length := mload(_preBytes)\n            mstore(tempBytes, length)\n\n            // Maintain a memory counter for the current write location in the\n            // temp bytes array by adding the 32 bytes for the array length to\n            // the starting location.\n            let mc := add(tempBytes, 0x20)\n            // Stop copying when the memory counter reaches the length of the\n            // first bytes array.\n            let end := add(mc, length)\n\n            for {\n                // Initialize a copy counter to the start of the _preBytes data,\n                // 32 bytes into its memory.\n                let cc := add(_preBytes, 0x20)\n            } lt(mc, end) {\n                // Increase both counters by 32 bytes each iteration.\n                mc := add(mc, 0x20)\n                cc := add(cc, 0x20)\n            } {\n                // Write the _preBytes data into the tempBytes memory 32 bytes\n                // at a time.\n                mstore(mc, mload(cc))\n            }\n\n            // Add the length of _postBytes to the current length of tempBytes\n            // and store it as the new length in the first 32 bytes of the\n            // tempBytes memory.\n            length := mload(_postBytes)\n            mstore(tempBytes, add(length, mload(tempBytes)))\n\n            // Move the memory counter back from a multiple of 0x20 to the\n            // actual end of the _preBytes data.\n            mc := end\n            // Stop copying when the memory counter reaches the new combined\n            // length of the arrays.\n            end := add(mc, length)\n\n            for {\n                let cc := add(_postBytes, 0x20)\n            } lt(mc, end) {\n                mc := add(mc, 0x20)\n                cc := add(cc, 0x20)\n            } {\n                mstore(mc, mload(cc))\n            }\n\n            // Update the free-memory pointer by padding our last write location\n            // to 32 bytes: add 31 bytes to the end of tempBytes to move to the\n            // next 32 byte block, then round down to the nearest multiple of\n            // 32. If the sum of the length of the two arrays is zero then add \n            // one before rounding down to leave a blank 32 bytes (the length block with 0).\n            mstore(0x40, and(\n              add(add(end, iszero(add(length, mload(_preBytes)))), 31),\n              not(31) // Round down to the nearest 32 bytes.\n            ))\n        }\n\n        return tempBytes;\n    }\n\n    function concatStorage(bytes storage _preBytes, bytes memory _postBytes) internal {\n        assembly {\n            // Read the first 32 bytes of _preBytes storage, which is the length\n            // of the array. (We don't need to use the offset into the slot\n            // because arrays use the entire slot.)\n            let fslot := sload(_preBytes_slot)\n            // Arrays of 31 bytes or less have an even value in their slot,\n            // while longer arrays have an odd value. The actual length is\n            // the slot divided by two for odd values, and the lowest order\n            // byte divided by two for even values.\n            // If the slot is even, bitwise and the slot with 255 and divide by\n            // two to get the length. If the slot is odd, bitwise and the slot\n            // with -1 and divide by two.\n            let slength := div(and(fslot, sub(mul(0x100, iszero(and(fslot, 1))), 1)), 2)\n            let mlength := mload(_postBytes)\n            let newlength := add(slength, mlength)\n            // slength can contain both the length and contents of the array\n            // if length < 32 bytes so let's prepare for that\n            // v. http://solidity.readthedocs.io/en/latest/miscellaneous.html#layout-of-state-variables-in-storage\n            switch add(lt(slength, 32), lt(newlength, 32))\n            case 2 {\n                // Since the new array still fits in the slot, we just need to\n                // update the contents of the slot.\n                // uint256(bytes_storage) = uint256(bytes_storage) + uint256(bytes_memory) + new_length\n                sstore(\n                    _preBytes_slot,\n                    // all the modifications to the slot are inside this\n                    // next block\n                    add(\n                        // we can just add to the slot contents because the\n                        // bytes we want to change are the LSBs\n                        fslot,\n                        add(\n                            mul(\n                                div(\n                                    // load the bytes from memory\n                                    mload(add(_postBytes, 0x20)),\n                                    // zero all bytes to the right\n                                    exp(0x100, sub(32, mlength))\n                                ),\n                                // and now shift left the number of bytes to\n                                // leave space for the length in the slot\n                                exp(0x100, sub(32, newlength))\n                            ),\n                            // increase length by the double of the memory\n                            // bytes length\n                            mul(mlength, 2)\n                        )\n                    )\n                )\n            }\n            case 1 {\n                // The stored value fits in the slot, but the combined value\n                // will exceed it.\n                // get the keccak hash to get the contents of the array\n                mstore(0x0, _preBytes_slot)\n                let sc := add(keccak256(0x0, 0x20), div(slength, 32))\n\n                // save new length\n                sstore(_preBytes_slot, add(mul(newlength, 2), 1))\n\n                // The contents of the _postBytes array start 32 bytes into\n                // the structure. Our first read should obtain the `submod`\n                // bytes that can fit into the unused space in the last word\n                // of the stored array. To get this, we read 32 bytes starting\n                // from `submod`, so the data we read overlaps with the array\n                // contents by `submod` bytes. Masking the lowest-order\n                // `submod` bytes allows us to add that value directly to the\n                // stored value.\n\n                let submod := sub(32, slength)\n                let mc := add(_postBytes, submod)\n                let end := add(_postBytes, mlength)\n                let mask := sub(exp(0x100, submod), 1)\n\n                sstore(\n                    sc,\n                    add(\n                        and(\n                            fslot,\n                            0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00\n                        ),\n                        and(mload(mc), mask)\n                    )\n                )\n\n                for {\n                    mc := add(mc, 0x20)\n                    sc := add(sc, 1)\n                } lt(mc, end) {\n                    sc := add(sc, 1)\n                    mc := add(mc, 0x20)\n                } {\n                    sstore(sc, mload(mc))\n                }\n\n                mask := exp(0x100, sub(mc, end))\n\n                sstore(sc, mul(div(mload(mc), mask), mask))\n            }\n            default {\n                // get the keccak hash to get the contents of the array\n                mstore(0x0, _preBytes_slot)\n                // Start copying to the last used word of the stored array.\n                let sc := add(keccak256(0x0, 0x20), div(slength, 32))\n\n                // save new length\n                sstore(_preBytes_slot, add(mul(newlength, 2), 1))\n\n                // Copy over the first `submod` bytes of the new data as in\n                // case 1 above.\n                let slengthmod := mod(slength, 32)\n                let mlengthmod := mod(mlength, 32)\n                let submod := sub(32, slengthmod)\n                let mc := add(_postBytes, submod)\n                let end := add(_postBytes, mlength)\n                let mask := sub(exp(0x100, submod), 1)\n\n                sstore(sc, add(sload(sc), and(mload(mc), mask)))\n                \n                for { \n                    sc := add(sc, 1)\n                    mc := add(mc, 0x20)\n                } lt(mc, end) {\n                    sc := add(sc, 1)\n                    mc := add(mc, 0x20)\n                } {\n                    sstore(sc, mload(mc))\n                }\n\n                mask := exp(0x100, sub(mc, end))\n\n                sstore(sc, mul(div(mload(mc), mask), mask))\n            }\n        }\n    }\n\n    function slice(bytes _bytes, uint _start, uint _length) internal  pure returns (bytes) {\n        require(_bytes.length >= (_start + _length));\n\n        bytes memory tempBytes;\n\n        assembly {\n            switch iszero(_length)\n            case 0 {\n                // Get a location of some free memory and store it in tempBytes as\n                // Solidity does for memory variables.\n                tempBytes := mload(0x40)\n\n                // The first word of the slice result is potentially a partial\n                // word read from the original array. To read it, we calculate\n                // the length of that partial word and start copying that many\n                // bytes into the array. The first word we copy will start with\n                // data we don't care about, but the last `lengthmod` bytes will\n                // land at the beginning of the contents of the new array. When\n                // we're done copying, we overwrite the full first word with\n                // the actual length of the slice.\n                let lengthmod := and(_length, 31)\n\n                // The multiplication in the next line is necessary\n                // because when slicing multiples of 32 bytes (lengthmod == 0)\n                // the following copy loop was copying the origin's length\n                // and then ending prematurely not copying everything it should.\n                let mc := add(add(tempBytes, lengthmod), mul(0x20, iszero(lengthmod)))\n                let end := add(mc, _length)\n\n                for {\n                    // The multiplication in the next line has the same exact purpose\n                    // as the one above.\n                    let cc := add(add(add(_bytes, lengthmod), mul(0x20, iszero(lengthmod))), _start)\n                } lt(mc, end) {\n                    mc := add(mc, 0x20)\n                    cc := add(cc, 0x20)\n                } {\n                    mstore(mc, mload(cc))\n                }\n\n                mstore(tempBytes, _length)\n\n                //update free-memory pointer\n                //allocating the array padded to 32 bytes like the compiler does now\n                mstore(0x40, and(add(mc, 31), not(31)))\n            }\n            //if we want a zero-length slice let's just return a zero-length array\n            default {\n                tempBytes := mload(0x40)\n\n                mstore(0x40, add(tempBytes, 0x20))\n            }\n        }\n\n        return tempBytes;\n    }\n\n    function toAddress(bytes _bytes, uint _start) internal  pure returns (address) {\n        require(_bytes.length >= (_start + 20));\n        address tempAddress;\n\n        assembly {\n            tempAddress := div(mload(add(add(_bytes, 0x20), _start)), 0x1000000000000000000000000)\n        }\n\n        return tempAddress;\n    }\n\n    function toUint(bytes _bytes, uint _start) internal  pure returns (uint256) {\n        require(_bytes.length >= (_start + 32));\n        uint256 tempUint;\n\n        assembly {\n            tempUint := mload(add(add(_bytes, 0x20), _start))\n        }\n\n        return tempUint;\n    }\n\n    function toBytes32(bytes _bytes, uint _start) internal  pure returns (bytes32) {\n        require(_bytes.length >= (_start + 32));\n        bytes32 tempBytes32;\n\n        assembly {\n            tempBytes32 := mload(add(add(_bytes, 0x20), _start))\n        }\n\n        return tempBytes32;\n    }\n\n    function equal(bytes memory _preBytes, bytes memory _postBytes) internal pure returns (bool) {\n        bool success = true;\n\n        assembly {\n            let length := mload(_preBytes)\n\n            // if lengths don't match the arrays are not equal\n            switch eq(length, mload(_postBytes))\n            case 1 {\n                // cb is a circuit breaker in the for loop since there's\n                //  no said feature for inline assembly loops\n                // cb = 1 - don't breaker\n                // cb = 0 - break\n                let cb := 1\n\n                let mc := add(_preBytes, 0x20)\n                let end := add(mc, length)\n\n                for {\n                    let cc := add(_postBytes, 0x20)\n                // the next line is the loop condition:\n                // while(uint(mc < end) + cb == 2)\n                } eq(add(lt(mc, end), cb), 2) {\n                    mc := add(mc, 0x20)\n                    cc := add(cc, 0x20)\n                } {\n                    // if any of these checks fails then arrays are not equal\n                    if iszero(eq(mload(mc), mload(cc))) {\n                        // unsuccess:\n                        success := 0\n                        cb := 0\n                    }\n                }\n            }\n            default {\n                // unsuccess:\n                success := 0\n            }\n        }\n\n        return success;\n    }\n\n    function equalStorage(bytes storage _preBytes, bytes memory _postBytes) internal view returns (bool) {\n        bool success = true;\n\n        assembly {\n            // we know _preBytes_offset is 0\n            let fslot := sload(_preBytes_slot)\n            // Decode the length of the stored array like in concatStorage().\n            let slength := div(and(fslot, sub(mul(0x100, iszero(and(fslot, 1))), 1)), 2)\n            let mlength := mload(_postBytes)\n\n            // if lengths don't match the arrays are not equal\n            switch eq(slength, mlength)\n            case 1 {\n                // slength can contain both the length and contents of the array\n                // if length < 32 bytes so let's prepare for that\n                // v. http://solidity.readthedocs.io/en/latest/miscellaneous.html#layout-of-state-variables-in-storage\n                if iszero(iszero(slength)) {\n                    switch lt(slength, 32)\n                    case 1 {\n                        // blank the last byte which is the length\n                        fslot := mul(div(fslot, 0x100), 0x100)\n\n                        if iszero(eq(fslot, mload(add(_postBytes, 0x20)))) {\n                            // unsuccess:\n                            success := 0\n                        }\n                    }\n                    default {\n                        // cb is a circuit breaker in the for loop since there's\n                        //  no said feature for inline assembly loops\n                        // cb = 1 - don't breaker\n                        // cb = 0 - break\n                        let cb := 1\n\n                        // get the keccak hash to get the contents of the array\n                        mstore(0x0, _preBytes_slot)\n                        let sc := keccak256(0x0, 0x20)\n\n                        let mc := add(_postBytes, 0x20)\n                        let end := add(mc, mlength)\n\n                        // the next line is the loop condition:\n                        // while(uint(mc < end) + cb == 2)\n                        for {} eq(add(lt(mc, end), cb), 2) {\n                            sc := add(sc, 1)\n                            mc := add(mc, 0x20)\n                        } {\n                            if iszero(eq(sload(sc), mload(mc))) {\n                                // unsuccess:\n                                success := 0\n                                cb := 0\n                            }\n                        }\n                    }\n                }\n            }\n            default {\n                // unsuccess:\n                success := 0\n            }\n        }\n\n        return success;\n    }\n}\n\n// File: contracts/ignored_contracts/AFS.sol\n\npragma solidity ^0.4.24;\n\n\n\n\n\n\n\ncontract AFS is Ownable {\n  using SafeMath for uint256;\n  using BytesLib for bytes;\n\n  string   public version_ = \"1\";\n\n  AraToken public token_;\n  Library  public lib_;\n\n  bytes32  public did_;\n  bool     public listed_;\n  uint256  public price_;\n\n  uint256  public depositRequirement_;\n\n  mapping(bytes32 => Job)     public jobs_; // jobId => job { budget, sender }\n  mapping(bytes32 => uint256) public rewards_;    // farmer => rewards\n  mapping(bytes32 => bool)    public purchasers_; // keccak256 hashes of buyer addresses\n  mapping(uint8 => mapping (uint256 => bytes))   public metadata_;\n\n  struct Job {\n    address sender;\n    uint256 budget;\n  }\n\n  event Commit(bytes32 _did);\n  event Unlisted(bytes32 _did);\n  event PriceSet(uint256 _price);\n  event BudgetSubmitted(address indexed _sender, bytes32 indexed _jobId, uint256 _budget);\n  event RewardsAllocated(address indexed _farmer, bytes32 indexed _jobId, uint256 _allocated, uint256 _remaining);\n  event InsufficientDeposit(address indexed _farmer);\n  event Purchased(bytes32 indexed _purchaser, uint256 _price);\n  event Redeemed(address indexed _sender, uint256 _amount);\n\n  uint8 constant mtBufferSize_ = 40;\n  uint8 constant msBufferSize_ = 64;\n\n  modifier onlyBy(address _account)\n  {\n    require(\n      msg.sender == _account,\n      \"Sender not authorized.\"\n    );\n    _;\n  }\n\n  modifier purchaseRequired()\n  {\n    require(\n      purchasers_[keccak256(abi.encodePacked(msg.sender))],\n      \"Content was never purchased.\"\n    );\n    _;\n  }\n\n  modifier budgetSubmitted(bytes32 _jobId)\n  {\n    require(\n      jobs_[_jobId].sender == msg.sender && jobs_[_jobId].budget > 0,\n      \"Job is invalid.\"\n    );\n    _;\n  }\n\n  function init(bytes _data) public {\n    require(owner_ == address(0), 'This AFS standard has already been initialized.');\n  \n    uint256 btsptr;\n    address ownerAddr;\n    address tokenAddr;\n    address libAddr;\n    bytes32 did;\n    /* solium-disable-next-line security/no-inline-assembly */\n    assembly {\n      btsptr := add(_data, 32)\n      ownerAddr := mload(btsptr)\n      btsptr := add(_data, 64)\n      tokenAddr := mload(btsptr)\n      btsptr := add(_data, 96)\n      libAddr := mload(btsptr)\n      btsptr := add(_data, 128)\n      did := mload(btsptr)\n    }\n    owner_    = ownerAddr;\n    token_    = AraToken(tokenAddr);\n    lib_      = Library(libAddr);\n    did_      = did;\n    listed_   = true;\n    price_    = 0;\n    depositRequirement_  = 100 * 10 ** token_.decimals();\n  }\n\n  function setPrice(uint256 _price) external onlyBy(owner_) {\n    price_ = _price;\n    emit PriceSet(price_);\n  }\n\n  function submitBudget(bytes32 _jobId, uint256 _budget) public purchaseRequired {\n    uint256 allowance = token_.allowance(msg.sender, address(this));\n    require(_jobId != bytes32(0) && _budget > 0 && allowance >= _budget\n      && (jobs_[_jobId].sender == address(0) || jobs_[_jobId].sender == msg.sender), \"Job submission invalid.\");\n\n    if (token_.transferFrom(msg.sender, address(this), _budget)) {\n      jobs_[_jobId].budget = jobs_[_jobId].budget.add(_budget);\n      jobs_[_jobId].sender = msg.sender;\n      assert(jobs_[_jobId].budget <= token_.balanceOf(address(this)));\n      emit BudgetSubmitted(msg.sender, _jobId, _budget);\n    }\n  }\n\n  function allocateRewards(bytes32 _jobId, address[] _farmers, uint256[] _rewards) public budgetSubmitted(_jobId) {\n    require(_farmers.length > 0, \"Must allocate to at least one farmer.\");\n    require(_farmers.length == _rewards.length, \"Unequal number of farmers and rewards.\");\n    uint256 totalRewards;\n    for (uint256 i = 0; i < _rewards.length; i++) {\n      address farmer = _farmers[i];\n      require(farmer != msg.sender, \"Cannot allocate rewards to job creator.\");\n      require(purchasers_[keccak256(abi.encodePacked(farmer))] || token_.amountDeposited(farmer) >= depositRequirement_, \"Farmer must be a purchaser of this AFS or have sufficient token deposit.\");\n      totalRewards = totalRewards.add(_rewards[i]);\n    }\n    require(totalRewards <= jobs_[_jobId].budget, \"Insufficient budget.\");\n    for (uint256 j = 0; j < _farmers.length; j++) {\n      assert(jobs_[_jobId].budget >= _rewards[j]);\n      bytes32 hashedFarmer = keccak256(abi.encodePacked(_farmers[j]));\n      rewards_[hashedFarmer] = rewards_[hashedFarmer].add(_rewards[j]);\n      jobs_[_jobId].budget = jobs_[_jobId].budget.sub(_rewards[j]);\n      emit RewardsAllocated(_farmers[j], _jobId, _rewards[j], jobs_[_jobId].budget);\n    }\n  }\n\n  function redeemBalance() public {\n    if (msg.sender == owner_ || token_.amountDeposited(msg.sender) >= depositRequirement_ || purchasers_[keccak256(abi.encodePacked(msg.sender))]) {\n      bytes32 hashedAddress = keccak256(abi.encodePacked(msg.sender));\n      require(rewards_[hashedAddress] > 0, \"No balance to redeem.\");\n      if (token_.transfer(msg.sender, rewards_[hashedAddress])) {\n        emit Redeemed(msg.sender, rewards_[hashedAddress]);\n        rewards_[hashedAddress] = 0;\n      }\n    } else {\n      emit InsufficientDeposit(msg.sender);\n    }\n  }\n\n  function getRewardsBalance(address _farmer) public view returns (uint256) {\n    return rewards_[keccak256(abi.encodePacked(_farmer))];\n  }\n\n  function getBudget(bytes32 _jobId) public view returns (uint256) {\n    return jobs_[_jobId].budget;\n  }\n\n  /**\n   * @dev Purchases this AFS and adds it to _purchaser's library. \n   *      If _download is true, deposits any remaining allowance \n   *      as rewards for this purchase\n   * @param _purchaser The hashed methodless did of the purchaser\n   * @param _jobId The jobId of the download, or 0x00000000000000000000000000000000 if N/A\n   * @param _budget The reward budget for jobId, or 0 if N/A\n   */\n  function purchase(bytes32 _purchaser, bytes32 _jobId, uint256 _budget) external {\n    require(listed_, \"Content is not listed for purchase.\");\n    uint256 allowance = token_.allowance(msg.sender, address(this));\n    bytes32 hashedAddress = keccak256(abi.encodePacked(msg.sender));\n    require (!purchasers_[hashedAddress] && allowance >= price_.add(_budget), \"Unable to purchase.\");\n\n    if (token_.transferFrom(msg.sender, owner_, price_)) {\n      purchasers_[hashedAddress] = true;\n      lib_.addLibraryItem(_purchaser, did_);\n      emit Purchased(_purchaser, price_);\n\n      if (_jobId != bytes32(0) && _budget > 0) {\n        submitBudget(_jobId, _budget);\n      }\n    }\n  }\n\n  function append(uint256[] _mtOffsets, uint256[] _msOffsets, bytes _mtBuffer, \n    bytes _msBuffer) external onlyBy(owner_) {\n    \n    require(listed_, \"AFS is unlisted.\");\n    \n    uint256 maxOffsetLength = _mtOffsets.length > _msOffsets.length \n      ? _mtOffsets.length \n      : _msOffsets.length;\n\n    for (uint i = 0; i < maxOffsetLength; i++) {\n      // metadata/tree\n      if (i <= _mtOffsets.length - 1) {\n        metadata_[0][_mtOffsets[i]] = _mtBuffer.slice(i * mtBufferSize_, mtBufferSize_);\n      }\n\n      // metadata/signatures\n      if (i <= _msOffsets.length - 1) {\n        metadata_[1][_msOffsets[i]] = _msBuffer.slice(i * msBufferSize_, msBufferSize_);\n      }\n    }\n\n    emit Commit(did_);\n  }\n\n  function write(uint256[] _mtOffsets, uint256[] _msOffsets, bytes _mtBuffer, \n    bytes _msBuffer) public onlyBy(owner_) {\n\n    require(listed_, \"AFS is unlisted.\");\n\n    uint256 maxOffsetLength = _mtOffsets.length > _msOffsets.length \n      ? _mtOffsets.length \n      : _msOffsets.length;\n\n    // add headers\n    metadata_[0][0] = _mtBuffer.slice(0, 32);\n    metadata_[1][0] = _msBuffer.slice(0, 32);\n\n    for (uint i = 1; i < maxOffsetLength; i++) {\n      // metadata/tree\n      if (i <= _mtOffsets.length - 1) {\n        metadata_[0][_mtOffsets[i]] = _mtBuffer.slice(_mtOffsets[i], mtBufferSize_);\n      }\n      \n      // metadata/signatures\n      if (i <= _msOffsets.length - 1) {\n        metadata_[1][_msOffsets[i]] = _msBuffer.slice(_msOffsets[i], msBufferSize_);\n      }\n    }\n\n    emit Commit(did_);\n  }\n\n  function read(uint8 _file, uint256 _offset) public view returns (bytes buffer) {\n    if (!listed_) {\n      return \"\"; // empty bytes\n    }\n    return metadata_[_file][_offset];\n  }\n\n  function hasBuffer(uint8 _file, uint256 _offset, bytes _buffer) public view returns (bool exists) {\n    return metadata_[_file][_offset].equal(_buffer);\n  }\n\n  function unlist() public onlyBy(owner_) returns (bool success) {\n    listed_ = false;\n    emit Unlisted(did_);\n    return true;\n  }\n}",
  "abi": "[{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"jobs_\",\"outputs\":[{\"name\":\"sender\",\"type\":\"address\"},{\"name\":\"budget\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"listed_\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_jobId\",\"type\":\"bytes32\"},{\"name\":\"_farmers\",\"type\":\"address[]\"},{\"name\":\"_rewards\",\"type\":\"uint256[]\"}],\"name\":\"allocateRewards\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint8\"},{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"metadata_\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"redeemBalance\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lib_\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"did_\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"init\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"approveOwnershipTransfer\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_jobId\",\"type\":\"bytes32\"}],\"name\":\"getBudget\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"rewards_\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"depositRequirement_\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_mtOffsets\",\"type\":\"uint256[]\"},{\"name\":\"_msOffsets\",\"type\":\"uint256[]\"},{\"name\":\"_mtBuffer\",\"type\":\"bytes\"},{\"name\":\"_msBuffer\",\"type\":\"bytes\"}],\"name\":\"append\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_farmer\",\"type\":\"address\"}],\"name\":\"getRewardsBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"requestOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_price\",\"type\":\"uint256\"}],\"name\":\"setPrice\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"requesters_\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unlist\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_file\",\"type\":\"uint8\"},{\"name\":\"_offset\",\"type\":\"uint256\"}],\"name\":\"read\",\"outputs\":[{\"name\":\"buffer\",\"type\":\"bytes\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_mtOffsets\",\"type\":\"uint256[]\"},{\"name\":\"_msOffsets\",\"type\":\"uint256[]\"},{\"name\":\"_mtBuffer\",\"type\":\"bytes\"},{\"name\":\"_msBuffer\",\"type\":\"bytes\"}],\"name\":\"write\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"price_\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"token_\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"version_\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner_\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_file\",\"type\":\"uint8\"},{\"name\":\"_offset\",\"type\":\"uint256\"},{\"name\":\"_buffer\",\"type\":\"bytes\"}],\"name\":\"hasBuffer\",\"outputs\":[{\"name\":\"exists\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_purchaser\",\"type\":\"bytes32\"},{\"name\":\"_jobId\",\"type\":\"bytes32\"},{\"name\":\"_budget\",\"type\":\"uint256\"}],\"name\":\"purchase\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_jobId\",\"type\":\"bytes32\"},{\"name\":\"_budget\",\"type\":\"uint256\"}],\"name\":\"submitBudget\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"purchasers_\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"revokeOwnershipRequest\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_did\",\"type\":\"bytes32\"}],\"name\":\"Commit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_did\",\"type\":\"bytes32\"}],\"name\":\"Unlisted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_price\",\"type\":\"uint256\"}],\"name\":\"PriceSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_sender\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_jobId\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_budget\",\"type\":\"uint256\"}],\"name\":\"BudgetSubmitted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_farmer\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_jobId\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_allocated\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_remaining\",\"type\":\"uint256\"}],\"name\":\"RewardsAllocated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_farmer\",\"type\":\"address\"}],\"name\":\"InsufficientDeposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_purchaser\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_price\",\"type\":\"uint256\"}],\"name\":\"Purchased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"Redeemed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"TransferApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_currentOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_requestedOwner\",\"type\":\"address\"}],\"name\":\"TransferRequested\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_currentOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_requestOwner\",\"type\":\"address\"}],\"name\":\"RequestRevoked\",\"type\":\"event\"}]",
  "bytecode": "60c0604052600160808190527f310000000000000000000000000000000000000000000000000000000000000060a090815262000040916002919062000055565b503480156200004e57600080fd5b50620000fa565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200009857805160ff1916838001178555620000c8565b82800160010185558215620000c8579182015b82811115620000c8578251825591602001919060010190620000ab565b50620000d6929150620000da565b5090565b620000f791905b80821115620000d65760008155600101620000e1565b90565b612dbd806200010a6000396000f3006080604052600436106101745763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416631e0a1b9581146101795780632a6363be146101b4578063317b2422146101dd57806331ddd9ab146102725780633e5ceede1461030557806346f60dee1461031a578063472697201461034b5780634ddf47d4146103725780634e1d009f146103cb578063546887a3146103ec5780635ee6fa6114610404578063600114731461041c57806366570f17146104315780638a67f4bf146104755780638e5aafe11461049657806391b7f5ed146104ab57806399d20bb1146104c3578063a0d58501146104db578063bb66f9f6146104f0578063bc302cd01461050e578063ce40b03f14610618578063d56805e11461062d578063dd1bb1fc14610642578063e766307914610657578063f0e5bd861461066c578063f4e493d6146106cf578063f51b6979146106ed578063f5bd3e3f14610708578063fc1c34e414610720575b600080fd5b34801561018557600080fd5b50610191600435610735565b60408051600160a060020a03909316835260208301919091528051918290030190f35b3480156101c057600080fd5b506101c961075a565b604080519115158252519081900360200190f35b3480156101e957600080fd5b5060408051602060046024803582810135848102808701860190975280865261027096843596369660449591949091019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a9989019892975090820195509350839250850190849080828437509497506107639650505050505050565b005b34801561027e57600080fd5b5061029060ff60043516602435610e52565b6040805160208082528351818301528351919283929083019185019080838360005b838110156102ca5781810151838201526020016102b2565b50505050905090810190601f1680156102f75780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561031157600080fd5b50610270610ef6565b34801561032657600080fd5b5061032f611275565b60408051600160a060020a039092168252519081900360200190f35b34801561035757600080fd5b50610360611284565b60408051918252519081900360200190f35b34801561037e57600080fd5b506040805160206004803580820135601f810184900484028501840190955284845261027094369492936024939284019190819084018382808284375094975061128a9650505050505050565b3480156103d757600080fd5b50610270600160a060020a036004351661142e565b3480156103f857600080fd5b5061036060043561160a565b34801561041057600080fd5b5061036060043561161f565b34801561042857600080fd5b50610360611631565b34801561043d57600080fd5b506102706024600480358281019290820135918135808301929082013591604435808301929082013591606435918201910135611637565b34801561048157600080fd5b50610360600160a060020a03600435166118c3565b3480156104a257600080fd5b50610270611971565b3480156104b757600080fd5b50610270600435611b69565b3480156104cf57600080fd5b506101c9600435611bf6565b3480156104e757600080fd5b506101c9611c0b565b3480156104fc57600080fd5b5061029060ff60043516602435611ca5565b34801561051a57600080fd5b506040805160206004803580820135838102808601850190965280855261027095369593946024949385019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a99890198929750908201955093508392508501908490808284375050604080516020601f89358b018035918201839004830284018301909452808352979a99988101979196509182019450925082915084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a999881019791965091820194509250829150840183828082843750949750611d769650505050505050565b34801561062457600080fd5b506103606120a9565b34801561063957600080fd5b5061032f6120af565b34801561064e57600080fd5b506102906120be565b34801561066357600080fd5b5061032f612116565b34801561067857600080fd5b50604080516020600460443581810135601f81018490048402850184019095528484526101c994823560ff169460248035953695946064949201919081908401838280828437509497506121259650505050505050565b3480156106db57600080fd5b506102706004356024356044356121e5565b3480156106f957600080fd5b506102706004356024356125b4565b34801561071457600080fd5b506101c96004356129e4565b34801561072c57600080fd5b506102706129f9565b60096020526000908152604090208054600190910154600160a060020a039091169082565b60065460ff1681565b60008381526009602052604081205481908190819081908890600160a060020a0316331480156107a25750600081815260096020526040812060010154115b15156107f8576040805160e560020a62461bcd02815260206004820152600f60248201527f4a6f6220697320696e76616c69642e0000000000000000000000000000000000604482015290519081900360640190fd5b8751600010610877576040805160e560020a62461bcd02815260206004820152602560248201527f4d75737420616c6c6f6361746520746f206174206c65617374206f6e6520666160448201527f726d65722e000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b86518851146108f6576040805160e560020a62461bcd02815260206004820152602660248201527f556e657175616c206e756d626572206f66206661726d65727320616e6420726560448201527f77617264732e0000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600094505b8651851015610bc857878581518110151561091257fe5b602090810290910101519350600160a060020a0384163314156109a5576040805160e560020a62461bcd02815260206004820152602760248201527f43616e6e6f7420616c6c6f63617465207265776172647320746f206a6f62206360448201527f726561746f722e00000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600b6000856040516020018082600160a060020a0316600160a060020a0316606060020a0281526014019150506040516020818303038152906040526040518082805190602001908083835b60208310610a105780518252601f1990920191602091820191016109f1565b51815160209384036101000a600019018019909216911617905260408051929094018290039091208652850195909552929092016000205460ff169250829150610af190505750600854600354604080517ff4f0e1ae000000000000000000000000000000000000000000000000000000008152600160a060020a0388811660048301529151919092169163f4f0e1ae9160248083019260209291908290030181600087803b158015610ac257600080fd5b505af1158015610ad6573d6000803e3d6000fd5b505050506040513d6020811015610aec57600080fd5b505110155b1515610b93576040805160e560020a62461bcd02815260206004820152604860248201527f4661726d6572206d757374206265206120707572636861736572206f6620746860448201527f697320414653206f7220686176652073756666696369656e7420746f6b656e2060648201527f6465706f7369742e000000000000000000000000000000000000000000000000608482015290519081900360a40190fd5b610bbb8786815181101515610ba457fe5b60209081029091010151879063ffffffff612bcb16565b95506001909401936108fb565b600089815260096020526040902060010154861115610c31576040805160e560020a62461bcd02815260206004820152601460248201527f496e73756666696369656e74206275646765742e000000000000000000000000604482015290519081900360640190fd5b600092505b8751831015610e47578683815181101515610c4d57fe5b602090810290910181015160008b815260099092526040909120600101541015610c7357fe5b8783815181101515610c8157fe5b906020019060200201516040516020018082600160a060020a0316600160a060020a0316606060020a0281526014019150506040516020818303038152906040526040518082805190602001908083835b60208310610cf15780518252601f199092019160209182019101610cd2565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390209150610d588784815181101515610d3157fe5b60209081029091018101516000858152600a9092526040909120549063ffffffff612bcb16565b6000838152600a60205260409020558651610da390889085908110610d7957fe5b602090810290910181015160008c815260099092526040909120600101549063ffffffff612be416565b60008a81526009602052604090206001015587518990899085908110610dc557fe5b90602001906020020151600160a060020a03167fe0b17d0a6a4b5e07ef48a007b70f93ff1fc3862becc524e286a3ddc3ac7965f68986815181101515610e0757fe5b602090810290910181015160008e8152600983526040908190206001015481519283529282019290925281519081900390910190a3600190920191610c36565b505050505050505050565b600c6020908152600092835260408084208252918352918190208054825160026001831615610100026000190190921691909104601f810185900485028201850190935282815292909190830182828015610eee5780601f10610ec357610100808354040283529160200191610eee565b820191906000526020600020905b815481529060010190602001808311610ed157829003601f168201915b505050505081565b60008054600160a060020a0316331480610fa35750600854600354604080517ff4f0e1ae0000000000000000000000000000000000000000000000000000000081523360048201529051600160a060020a039092169163f4f0e1ae916024808201926020929091908290030181600087803b158015610f7457600080fd5b505af1158015610f88573d6000803e3d6000fd5b505050506040513d6020811015610f9e57600080fd5b505110155b806110545750600b6000336040516020018082600160a060020a0316600160a060020a0316606060020a0281526014019150506040516020818303038152906040526040518082805190602001908083835b602083106110145780518252601f199092019160209182019101610ff5565b51815160209384036101000a600019018019909216911617905260408051929094018290039091208652850195909552929092016000205460ff16925050505b156112465760408051606060020a330260208083019190915282518083036014018152603490920192839052815191929182918401908083835b602083106110ad5780518252601f19909201916020918201910161108e565b51815160209384036101000a600019018019909216911617905260408051929094018290039091206000818152600a909252928120549295509091119250611142915050576040805160e560020a62461bcd02815260206004820152601560248201527f4e6f2062616c616e636520746f2072656465656d2e0000000000000000000000604482015290519081900360640190fd5b6003546000828152600a602090815260408083205481517fa9059cbb00000000000000000000000000000000000000000000000000000000815233600482015260248101919091529051600160a060020a039094169363a9059cbb93604480840194938390030190829087803b1580156111bb57600080fd5b505af11580156111cf573d6000803e3d6000fd5b505050506040513d60208110156111e557600080fd5b505115611241576000818152600a6020908152604091829020548251908152915133927f4896181ff8f4543cc00db9fe9b6fb7e6f032b7eb772c72ab1ec1b4d2e03b936992908290030190a26000818152600a60205260408120555b611272565b60405133907f51267e37212898aeeb15abec9b3516d1f714b4e2dcf6fa1ab92d1adac0b7a8b390600090a25b50565b600454600160a060020a031681565b60055481565b600080548190819081908190600160a060020a03161561131a576040805160e560020a62461bcd02815260206004820152602f60248201527f5468697320414653207374616e646172642068617320616c726561647920626560448201527f656e20696e697469616c697a65642e0000000000000000000000000000000000606482015290519081900360840190fd5b50505050602082810151604080850151606086015160808701805160008054600160a060020a0380891673ffffffffffffffffffffffffffffffffffffffff1992831617835560038054828916908416179081905560048054838916941693909317835560058590556006805460ff19166001179055600784905588517f313ce5670000000000000000000000000000000000000000000000000000000081529851959b50989996989597939695169463313ce5679484830194919390929183900390910190829087803b1580156113f157600080fd5b505af1158015611405573d6000803e3d6000fd5b505050506040513d602081101561141b57600080fd5b5051600a0a606402600855505050505050565b60008054600160a060020a0316331461144657600080fd5b8160016000826040516020018082600160a060020a0316600160a060020a0316606060020a0281526014019150506040516020818303038152906040526040518082805190602001908083835b602083106114b25780518252601f199092019160209182019101611493565b51815160209384036101000a600019018019909216911617905260408051929094018290039091208652850195909552929092016000205460ff1615159250611548915050576040805160e560020a62461bcd02815260206004820181905260248201527f4f776e6572207265717565737420686173206e6f74206265656e2073656e742e604482015290519081900360640190fd5b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0385161790556040805133606060020a0260208083019190915282516014818403018152603490920192839052815191929182918401908083835b602083106115c45780518252601f1990920191602091820191016115a5565b51815160209384036101000a600019018019909216911617905260408051929094018290039091206000908152600190915291909120805460ff19169055505050505050565b60009081526009602052604090206001015490565b600a6020526000908152604090205481565b60085481565b600080548190600160a060020a031633811461168b576040805160e560020a62461bcd0281526020600482015260166024820152600080516020612d72833981519152604482015290519081900360640190fd5b60065460ff1615156116e7576040805160e560020a62461bcd02815260206004820152601060248201527f41465320697320756e6c69737465642e00000000000000000000000000000000604482015290519081900360640190fd5b878a116116f457876116f6565b895b9250600091505b82821015611881576000198a0182116117c15761175f602860ff168302602860ff1689898080601f0160208091040260200160405190810160405280939291908181526020018383808284375094969594505063ffffffff612bfb1692505050565b6000808052600c6020527f13649b2456f1b42fef0f0040b3aaeabcd21a76a0f3f5defd4f583839455116e8908d8d8681811061179757fe5b90506020020135815260200190815260200160002090805190602001906117bf929190612ce0565b505b6000198801821161187657604080516020601f870181900481028201810183528682526118129285810292909189908990819084018382808284375094969594505063ffffffff612bfb1692505050565b60016000908152600c6020527fd421a5181c571bba3f01190c922c3b2a896fc1d84e86c9f17ac10e67ebef8b5c908b8b8681811061184c57fe5b9050602002013581526020019081526020016000209080519060200190611874929190612ce0565b505b6001909101906116fd565b60055460408051918252517f9e8a51bb6b34b9d5d18c14fd753ee3bf44e2256512665a4577281ffcc91943ff9181900360200190a15050505050505050505050565b6000600a6000836040516020018082600160a060020a0316600160a060020a0316606060020a0281526014019150506040516020818303038152906040526040518082805190602001908083835b602083106119305780518252601f199092019160209182019101611911565b51815160209384036101000a600019018019909216911617905260408051929094018290039091208652850195909552929092016000205495945050505050565b600060016000336040516020018082600160a060020a0316600160a060020a0316606060020a0281526014019150506040516020818303038152906040526040518082805190602001908083835b602083106119de5780518252601f1990920191602091820191016119bf565b51815160209384036101000a600019018019909216911617905260408051929094018290039091208652850195909552929092016000205460ff16159250611a99915050576040805160e560020a62461bcd02815260206004820152602160248201527f4f776e657273686970207265717565737420616c72656164792061637469766560448201527f2e00000000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b60408051606060020a330260208083019190915282518083036014018152603490920192839052815191929182918401908083835b60208310611aed5780518252601f199092019160209182019101611ace565b51815160209384036101000a6000190180199092169116179052604080519290940182900382206000818152600192839052948520805460ff19169092179091558354909650339550600160a060020a031693507fd5b906f2d3dfa8cf0ea788d4ad6e99ebd482d6134c3405e1a5faa5da891cda85929150a350565b600054600160a060020a0316338114611bba576040805160e560020a62461bcd0281526020600482015260166024820152600080516020612d72833981519152604482015290519081900360640190fd5b60078290556040805183815290517f6bfd5e75539a9d2626425a2e2922675256b219fe546d63dad56011759b9a2f669181900360200190a15050565b60016020526000908152604090205460ff1681565b60008054600160a060020a0316338114611c5d576040805160e560020a62461bcd0281526020600482015260166024820152600080516020612d72833981519152604482015290519081900360640190fd5b6006805460ff1916905560055460408051918252517f2e6ec049d62c8a42e7cc223354aadb68d5046a2cba67ed55a089fdb852fb6cb69181900360200190a1600191505b5090565b60065460609060ff161515611cc95750604080516020810190915260008152611d70565b60ff83166000908152600c6020908152604080832085845282529182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529091830182828015611d685780601f10611d3d57610100808354040283529160200191611d68565b820191906000526020600020905b815481529060010190602001808311611d4b57829003601f168201915b505050505090505b92915050565b600080548190600160a060020a0316338114611dca576040805160e560020a62461bcd0281526020600482015260166024820152600080516020612d72833981519152604482015290519081900360640190fd5b60065460ff161515611e26576040805160e560020a62461bcd02815260206004820152601060248201527f41465320697320756e6c69737465642e00000000000000000000000000000000604482015290519081900360640190fd5b8551875111611e36578551611e39565b86515b9250611e4e856000602063ffffffff612bfb16565b600080527f13649b2456f1b42fef0f0040b3aaeabcd21a76a0f3f5defd4f583839455116e860209081528151611ea7927f18ea5137d4b638f7150ef5d67284baa6628dc5dcf2cde6ec4377e9be2774c55f920190612ce0565b50611ebb846000602063ffffffff612bfb16565b600080527fd421a5181c571bba3f01190c922c3b2a896fc1d84e86c9f17ac10e67ebef8b5c60209081528151611f14927fcc045a98e72e59344d4f7091f80bbb561222da6a20eec7c35a2c5e8d6ed5fd83920190612ce0565b50600191505b8282101561206b578651600019018211611fc057611f588783815181101515611f3f57fe5b602090810290910101518690602863ffffffff612bfb16565b6000808052600c60205288517f13649b2456f1b42fef0f0040b3aaeabcd21a76a0f3f5defd4f583839455116e891908a9086908110611f9357fe5b9060200190602002015181526020019081526020016000209080519060200190611fbe929190612ce0565b505b855160001901821161206057611ff68683815181101515611fdd57fe5b602090810290910101518590604063ffffffff612bfb16565b60016000908152600c60205287517fd421a5181c571bba3f01190c922c3b2a896fc1d84e86c9f17ac10e67ebef8b5c919089908690811061203357fe5b906020019060200201518152602001908152602001600020908051906020019061205e929190612ce0565b505b600190910190611f1a565b60055460408051918252517f9e8a51bb6b34b9d5d18c14fd753ee3bf44e2256512665a4577281ffcc91943ff9181900360200190a150505050505050565b60075481565b600354600160a060020a031681565b6002805460408051602060018416156101000260001901909316849004601f81018490048402820184019092528181529291830182828015610eee5780601f10610ec357610100808354040283529160200191610eee565b600054600160a060020a031681565b60ff83166000908152600c60209081526040808320858452825280832080548251601f600260001961010060018616150201909316929092049182018590048502810185019093528083526121dd9386939291908301828280156121ca5780601f1061219f576101008083540402835291602001916121ca565b820191906000526020600020905b8154815290600101906020018083116121ad57829003601f168201915b5050505050612c7c90919063ffffffff16565b949350505050565b600654600090819060ff16151561226c576040805160e560020a62461bcd02815260206004820152602360248201527f436f6e74656e74206973206e6f74206c697374656420666f722070757263686160448201527f73652e0000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600354604080517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523360048201523060248201529051600160a060020a039092169163dd62ed3e916044808201926020929091908290030181600087803b1580156122d857600080fd5b505af11580156122ec573d6000803e3d6000fd5b505050506040513d602081101561230257600080fd5b505160408051606060020a3302602082810191909152825180830360140181526034909201928390528151939550909282918401908083835b6020831061235a5780518252601f19909201916020918201910161233b565b51815160209384036101000a600019018019909216911617905260408051929094018290039091206000818152600b909252929020549194505060ff161591505080156123b957506007546123b5908463ffffffff612bcb16565b8210155b151561240f576040805160e560020a62461bcd02815260206004820152601360248201527f556e61626c6520746f2070757263686173652e00000000000000000000000000604482015290519081900360640190fd5b60035460008054600754604080517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a03938416602482015260448101929092525191909316926323b872dd9260648083019360209390929083900390910190829087803b15801561248e57600080fd5b505af11580156124a2573d6000803e3d6000fd5b505050506040513d60208110156124b857600080fd5b5051156125ad576000818152600b6020526040808220805460ff191660011790556004805460055483517f0c2bb9650000000000000000000000000000000000000000000000000000000081529283018a905260248301529151600160a060020a0390921692630c2bb9659260448084019382900301818387803b15801561253f57600080fd5b505af1158015612553573d6000803e3d6000fd5b505060075460408051918252518893507fcddf9a7164ac111c2b0f5648b8600c8f3e4060c7cc663f8218c748d7357c7ea592509081900360200190a2831580159061259e5750600083115b156125ad576125ad84846125b4565b5050505050565b6000600b6000336040516020018082600160a060020a0316600160a060020a0316606060020a0281526014019150506040516020818303038152906040526040518082805190602001908083835b602083106126215780518252601f199092019160209182019101612602565b51815160209384036101000a600019018019909216911617905260408051929094018290039091208652850195909552929092016000205460ff16151592506126b7915050576040805160e560020a62461bcd02815260206004820152601c60248201527f436f6e74656e7420776173206e65766572207075726368617365642e00000000604482015290519081900360640190fd5b600354604080517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523360048201523060248201529051600160a060020a039092169163dd62ed3e916044808201926020929091908290030181600087803b15801561272357600080fd5b505af1158015612737573d6000803e3d6000fd5b505050506040513d602081101561274d57600080fd5b5051905082158015906127605750600082115b801561276c5750818110155b80156127ad5750600083815260096020526040902054600160a060020a031615806127ad5750600083815260096020526040902054600160a060020a031633145b1515612803576040805160e560020a62461bcd02815260206004820152601760248201527f4a6f62207375626d697373696f6e20696e76616c69642e000000000000000000604482015290519081900360640190fd5b600354604080517f23b872dd000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018590529051600160a060020a03909216916323b872dd916064808201926020929091908290030181600087803b15801561287657600080fd5b505af115801561288a573d6000803e3d6000fd5b505050506040513d60208110156128a057600080fd5b5051156129df576000838152600960205260409020600101546128c9908363ffffffff612bcb16565b60008481526009602090815260408083206001810194909455835473ffffffffffffffffffffffffffffffffffffffff1916331790935560035483517f70a082310000000000000000000000000000000000000000000000000000000081523060048201529351600160a060020a0391909116936370a082319360248083019493928390030190829087803b15801561296157600080fd5b505af1158015612975573d6000803e3d6000fd5b505050506040513d602081101561298b57600080fd5b505160008481526009602052604090206001015411156129a757fe5b604080518381529051849133917ffe90998f27be7536b0ddee58cbabc035ceaf141636bf7ca4216f4aae6a50ca6f9181900360200190a35b505050565b600b6020526000908152604090205460ff1681565b60003360016000826040516020018082600160a060020a0316600160a060020a0316606060020a0281526014019150506040516020818303038152906040526040518082805190602001908083835b60208310612a675780518252601f199092019160209182019101612a48565b51815160209384036101000a600019018019909216911617905260408051929094018290039091208652850195909552929092016000205460ff1615159250612afd915050576040805160e560020a62461bcd02815260206004820181905260248201527f4f776e6572207265717565737420686173206e6f74206265656e2073656e742e604482015290519081900360640190fd5b60408051606060020a330260208083019190915282518083036014018152603490920192839052815191929182918401908083835b60208310612b515780518252601f199092019160209182019101612b32565b51815160209384036101000a60001901801990921691161790526040805192909401829003822060008181526001909252938120805460ff191690558054939750339550600160a060020a0390931693507f1dc90b1ce875ea53ce4f7fb2036478f4ddfef57ec243f3fb5a9d81faf7dac5f4929150a35050565b600082820183811015612bdd57600080fd5b9392505050565b60008083831115612bf457600080fd5b5050900390565b606080828401855110151515612c1057600080fd5b82158015612c2957604051915060208201604052612c73565b6040519150601f8416801560200281840101858101878315602002848b0101015b81831015612c62578051835260209283019201612c4a565b5050858452601f01601f1916604052505b50949350505050565b815181516000916001918114808314612c985760009250612cd6565b600160208701838101602088015b600284838510011415612cd1578051835114612cc55760009650600093505b60209283019201612ca6565b505050505b5090949350505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10612d2157805160ff1916838001178555612d4e565b82800160010185558215612d4e579182015b82811115612d4e578251825591602001919060010190612d33565b50611ca192612d6e9250905b80821115611ca15760008155600101612d5a565b90560053656e646572206e6f7420617574686f72697a65642e00000000000000000000a165627a7a72305820f122a763a251380d1a01f870c093d749b9fd249130d008e015c21dbe9b0f572b0029"
}