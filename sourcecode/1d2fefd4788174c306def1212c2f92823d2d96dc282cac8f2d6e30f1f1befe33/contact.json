{
  "address": "0x0eebe100e4866204497d78d93a1071941dce70a4",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "ExtendedAdvertisement",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": false,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-12-06\n*/\n\npragma solidity ^0.4.24;\n\n\ncontract ERC20Interface {\n    function name() public view returns(bytes32);\n    function symbol() public view returns(bytes32);\n    function balanceOf (address _owner) public view returns(uint256 balance);\n    function transfer(address _to, uint256 _value) public returns (bool success);\n    function transferFrom(address _from, address _to, uint256 _value) public returns (uint);\n    event Transfer(address indexed _from, address indexed _to, uint256 _value);\n}\n\n\ncontract AppCoins is ERC20Interface{\n    // Public variables of the token\n    address public owner;\n    bytes32 private token_name;\n    bytes32 private token_symbol;\n    uint8 public decimals = 18;\n    // 18 decimals is the strongly suggested default, avoid changing it\n    uint256 public totalSupply;\n\n    // This creates an array with all balances\n    mapping (address => uint256) public balances;\n    mapping (address => mapping (address => uint256)) public allowance;\n\n    // This generates a public event on the blockchain that will notify clients\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n    // This notifies clients about the amount burnt\n    event Burn(address indexed from, uint256 value);\n\n    /**\n     * Constrctor function\n     *\n     * Initializes contract with initial supply tokens to the creator of the contract\n     */\n    function AppCoins() public {\n        owner = msg.sender;\n        token_name = \"AppCoins\";\n        token_symbol = \"APPC\";\n        uint256 _totalSupply = 1000000;\n        totalSupply = _totalSupply * 10 ** uint256(decimals);  // Update total supply with the decimal amount\n        balances[owner] = totalSupply;                // Give the creator all initial tokens\n    }\n\n    function name() public view returns(bytes32) {\n        return token_name;\n    }\n\n    function symbol() public view returns(bytes32) {\n        return token_symbol;\n    }\n\n    function balanceOf (address _owner) public view returns(uint256 balance) {\n        return balances[_owner];\n    }\n\n    /**\n     * Internal transfer, only can be called by this contract\n     */\n    function _transfer(address _from, address _to, uint _value) internal returns (bool) {\n        // Prevent transfer to 0x0 address. Use burn() instead\n        require(_to != 0x0);\n        // Check if the sender has enough\n        require(balances[_from] >= _value);\n        // Check for overflows\n        require(balances[_to] + _value > balances[_to]);\n        // Save this for an assertion in the future\n        uint previousBalances = balances[_from] + balances[_to];\n        // Subtract from the sender\n        balances[_from] -= _value;\n        // Add the same to the recipient\n        balances[_to] += _value;\n        emit Transfer(_from, _to, _value);\n        // Asserts are used to use static analysis to find bugs in your code. They should never fail\n        assert(balances[_from] + balances[_to] == previousBalances);\n    }\n\n    // /**\n    //  * Transfer tokens\n    //  *\n    //  * Send `_value` tokens to `_to` from your account\n    //  *\n    //  * @param _to The address of the recipient\n    //  * @param _value the amount to send\n    //  */\n    // function transfer(address _to, uint256 _value) public {\n    //     _transfer(msg.sender, _to, _value);\n    // }\n    function transfer (address _to, uint256 _amount) public returns (bool success) {\n        if( balances[msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) {\n\n            balances[msg.sender] -= _amount;\n            balances[_to] += _amount;\n            emit Transfer(msg.sender, _to, _amount);\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Transfer tokens from other address\n     *\n     * Send `_value` tokens to `_to` on behalf of `_from`\n     *\n     * @param _from The address of the sender\n     * @param _to The address of the recipient\n     * @param _value the amount to send\n     */\n    function transferFrom(address _from, address _to, uint256 _value) public returns (uint) {\n        require(_value <= allowance[_from][msg.sender]);     // Check allowance\n        allowance[_from][msg.sender] -= _value;\n        _transfer(_from, _to, _value);\n        return allowance[_from][msg.sender];\n    }\n\n    /**\n     * Set allowance for other address\n     *\n     * Allows `_spender` to spend no more than `_value` tokens on your behalf\n     *\n     * @param _spender The address authorized to spend\n     * @param _value the max amount they can spend\n     */\n    function approve(address _spender, uint256 _value) public\n        returns (bool success) {\n        allowance[msg.sender][_spender] = _value;\n        return true;\n    }\n\n    /**\n     * Destroy tokens\n     *\n     * Remove `_value` tokens from the system irreversibly\n     *\n     * @param _value the amount of money to burn\n     */\n    function burn(uint256 _value) public returns (bool success) {\n        require(balances[msg.sender] >= _value);   // Check if the sender has enough\n        balances[msg.sender] -= _value;            // Subtract from the sender\n        totalSupply -= _value;                      // Updates totalSupply\n        emit Burn(msg.sender, _value);\n        return true;\n    }\n\n    /**\n     * Destroy tokens from other account\n     *\n     * Remove `_value` tokens from the system irreversibly on behalf of `_from`.\n     *\n     * @param _from the address of the sender\n     * @param _value the amount of money to burn\n     */\n    function burnFrom(address _from, uint256 _value) public returns (bool success) {\n        require(balances[_from] >= _value);                // Check if the targeted balance is enough\n        require(_value <= allowance[_from][msg.sender]);    // Check allowance\n        balances[_from] -= _value;                         // Subtract from the targeted balance\n        allowance[_from][msg.sender] -= _value;             // Subtract from the sender's allowance\n        totalSupply -= _value;                              // Update totalSupply\n        emit Burn(_from, _value);\n        return true;\n    }\n}\nlibrary CampaignLibrary {\n\n    struct Campaign {\n        bytes32 bidId;\n        uint price;\n        uint budget;\n        uint startDate;\n        uint endDate;\n        bool valid;\n        address  owner;\n    }\n\n\n    /**\n    @notice Set campaign id \n    @param _bidId Id of the campaign\n     */\n    function setBidId(Campaign storage _campaign, bytes32 _bidId) internal {\n        _campaign.bidId = _bidId;\n    }\n\n    /**\n    @notice Get campaign id\n    @return {'_bidId' : 'Id of the campaign'}\n     */\n    function getBidId(Campaign storage _campaign) internal view returns(bytes32 _bidId){\n        return _campaign.bidId;\n    }\n   \n    /**\n    @notice Set campaing price per proof of attention\n    @param _price Price of the campaign\n     */\n    function setPrice(Campaign storage _campaign, uint _price) internal {\n        _campaign.price = _price;\n    }\n\n    /**\n    @notice Get campaign price per proof of attention\n    @return {'_price' : 'Price of the campaign'}\n     */\n    function getPrice(Campaign storage _campaign) internal view returns(uint _price){\n        return _campaign.price;\n    }\n\n    /**\n    @notice Set campaign total budget \n    @param _budget Total budget of the campaign\n     */\n    function setBudget(Campaign storage _campaign, uint _budget) internal {\n        _campaign.budget = _budget;\n    }\n\n    /**\n    @notice Get campaign total budget\n    @return {'_budget' : 'Total budget of the campaign'}\n     */\n    function getBudget(Campaign storage _campaign) internal view returns(uint _budget){\n        return _campaign.budget;\n    }\n\n    /**\n    @notice Set campaign start date \n    @param _startDate Start date of the campaign (in milisecounds)\n     */\n    function setStartDate(Campaign storage _campaign, uint _startDate) internal{\n        _campaign.startDate = _startDate;\n    }\n\n    /**\n    @notice Get campaign start date \n    @return {'_startDate' : 'Start date of the campaign (in milisecounds)'}\n     */\n    function getStartDate(Campaign storage _campaign) internal view returns(uint _startDate){\n        return _campaign.startDate;\n    }\n \n    /**\n    @notice Set campaign end date \n    @param _endDate End date of the campaign (in milisecounds)\n     */\n    function setEndDate(Campaign storage _campaign, uint _endDate) internal {\n        _campaign.endDate = _endDate;\n    }\n\n    /**\n    @notice Get campaign end date \n    @return {'_endDate' : 'End date of the campaign (in milisecounds)'}\n     */\n    function getEndDate(Campaign storage _campaign) internal view returns(uint _endDate){\n        return _campaign.endDate;\n    }\n\n    /**\n    @notice Set campaign validity \n    @param _valid Validity of the campaign\n     */\n    function setValidity(Campaign storage _campaign, bool _valid) internal {\n        _campaign.valid = _valid;\n    }\n\n    /**\n    @notice Get campaign validity \n    @return {'_valid' : 'Boolean stating campaign validity'}\n     */\n    function getValidity(Campaign storage _campaign) internal view returns(bool _valid){\n        return _campaign.valid;\n    }\n\n    /**\n    @notice Set campaign owner \n    @param _owner Owner of the campaign\n     */\n    function setOwner(Campaign storage _campaign, address _owner) internal {\n        _campaign.owner = _owner;\n    }\n\n    /**\n    @notice Get campaign owner \n    @return {'_owner' : 'Address of the owner of the campaign'}\n     */\n    function getOwner(Campaign storage _campaign) internal view returns(address _owner){\n        return _campaign.owner;\n    }\n\n    /**\n    @notice Converts country index list into 3 uints\n      \n        Expects a list of country indexes such that the 2 digit country code is converted to an \n        index. Countries are expected to be indexed so a \"AA\" country code is mapped to index 0 and \n        \"ZZ\" country is mapped to index 675.\n    @param countries List of country indexes\n    @return {\n        \"countries1\" : \"First third of the byte array converted in a 256 bytes uint\",\n        \"countries2\" : \"Second third of the byte array converted in a 256 bytes uint\",\n        \"countries3\" : \"Third third of the byte array converted in a 256 bytes uint\"\n    }\n    */\n    function convertCountryIndexToBytes(uint[] countries) public pure\n        returns (uint countries1,uint countries2,uint countries3){\n        countries1 = 0;\n        countries2 = 0;\n        countries3 = 0;\n        for(uint i = 0; i < countries.length; i++){\n            uint index = countries[i];\n\n            if(index<256){\n                countries1 = countries1 | uint(1) << index;\n            } else if (index<512) {\n                countries2 = countries2 | uint(1) << (index - 256);\n            } else {\n                countries3 = countries3 | uint(1) << (index - 512);\n            }\n        }\n\n        return (countries1,countries2,countries3);\n    }    \n}\n\n\n\ninterface StorageUser {\n    function getStorageAddress() external view returns(address _storage);\n}\n\ninterface ErrorThrower {\n    event Error(string func, string message);\n}\n\nlibrary Roles {\n  struct Role {\n    mapping (address => bool) bearer;\n  }\n\n  function add(Role storage _role, address _addr)\n    internal\n  {\n    _role.bearer[_addr] = true;\n  }\n\n  function remove(Role storage _role, address _addr)\n    internal\n  {\n    _role.bearer[_addr] = false;\n  }\n\n\n  function check(Role storage _role, address _addr)\n    internal\n    view\n  {\n    require(has(_role, _addr));\n  }\n\n  function has(Role storage _role, address _addr)\n    internal\n    view\n    returns (bool)\n  {\n    return _role.bearer[_addr];\n  }\n}\n\ncontract RBAC {\n  using Roles for Roles.Role;\n\n  mapping (string => Roles.Role) private roles;\n\n  event RoleAdded(address indexed operator, string role);\n  event RoleRemoved(address indexed operator, string role);\n\n\n  function checkRole(address _operator, string _role)\n    public\n    view\n  {\n    roles[_role].check(_operator);\n  }\n\n  function hasRole(address _operator, string _role)\n    public\n    view\n    returns (bool)\n  {\n    return roles[_role].has(_operator);\n  }\n\n  function addRole(address _operator, string _role)\n    internal\n  {\n    roles[_role].add(_operator);\n    emit RoleAdded(_operator, _role);\n  }\n\n  function removeRole(address _operator, string _role)\n    internal\n  {\n    roles[_role].remove(_operator);\n    emit RoleRemoved(_operator, _role);\n  }\n\n  modifier onlyRole(string _role)\n  {\n    checkRole(msg.sender, _role);\n    _;\n  }\n\n\n}\n\n\ncontract Ownable is ErrorThrower {\n    address public owner;\n    \n    event OwnershipRenounced(address indexed previousOwner);\n    event OwnershipTransferred(\n        address indexed previousOwner,\n        address indexed newOwner\n    );\n\n\n    /**\n    *  The Ownable constructor sets the original `owner` of the contract to the sender\n    * account.\n    */\n    constructor() public {\n        owner = msg.sender;\n    }\n\n    modifier onlyOwner(string _funcName) {\n        if(msg.sender != owner){\n            emit Error(_funcName,\"Operation can only be performed by contract owner\");\n            return;\n        }\n        _;\n    }\n\n    /**\n    *  Allows the current owner to relinquish control of the contract.\n    * @notice Renouncing to ownership will leave the contract without an owner.\n    * It will not be possible to call the functions with the `onlyOwner`\n    * modifier anymore.\n    */\n    function renounceOwnership() public onlyOwner(\"renounceOwnership\") {\n        emit OwnershipRenounced(owner);\n        owner = address(0);\n    }\n\n    /**\n    *  Allows the current owner to transfer control of the contract to a newOwner.\n    * @param _newOwner The address to transfer ownership to.\n    */\n    function transferOwnership(address _newOwner) public onlyOwner(\"transferOwnership\") {\n        _transferOwnership(_newOwner);\n    }\n\n    /**\n    *  Transfers control of the contract to a newOwner.\n    * @param _newOwner The address to transfer ownership to.\n    */\n    function _transferOwnership(address _newOwner) internal {\n        if(_newOwner == address(0)){\n            emit Error(\"transferOwnership\",\"New owner's address needs to be different than 0x0\");\n            return;\n        }\n\n        emit OwnershipTransferred(owner, _newOwner);\n        owner = _newOwner;\n    }\n}\n\ncontract SingleAllowance is Ownable {\n\n    address allowedAddress;\n\n    modifier onlyAllowed() {\n        require(allowedAddress == msg.sender);\n        _;\n    }\n\n    modifier onlyOwnerOrAllowed() {\n        require(owner == msg.sender || allowedAddress == msg.sender);\n        _;\n    }\n\n    function setAllowedAddress(address _addr) public onlyOwner(\"setAllowedAddress\"){\n        allowedAddress = _addr;\n    }\n}\n\n\ncontract Whitelist is Ownable, RBAC {\n    string public constant ROLE_WHITELISTED = \"whitelist\";\n\n    /**\n    *  Throws Error event if operator is not whitelisted.\n    * @param _operator address\n    */\n    modifier onlyIfWhitelisted(string _funcname, address _operator) {\n        if(!hasRole(_operator, ROLE_WHITELISTED)){\n            emit Error(_funcname, \"Operation can only be performed by Whitelisted Addresses\");\n            return;\n        }\n        _;\n    }\n\n    /**\n    *  add an address to the whitelist\n    * @param _operator address\n    * @return true if the address was added to the whitelist, false if the address was already in the whitelist\n    */\n    function addAddressToWhitelist(address _operator)\n        public\n        onlyOwner(\"addAddressToWhitelist\")\n    {\n        addRole(_operator, ROLE_WHITELISTED);\n    }\n\n    /**\n    *  getter to determine if address is in whitelist\n    */\n    function whitelist(address _operator)\n        public\n        view\n        returns (bool)\n    {\n        return hasRole(_operator, ROLE_WHITELISTED);\n    }\n\n    /**\n    *  add addresses to the whitelist\n    * @param _operators addresses\n    * @return true if at least one address was added to the whitelist,\n    * false if all addresses were already in the whitelist\n    */\n    function addAddressesToWhitelist(address[] _operators)\n        public\n        onlyOwner(\"addAddressesToWhitelist\")\n    {\n        for (uint256 i = 0; i < _operators.length; i++) {\n            addAddressToWhitelist(_operators[i]);\n        }\n    }\n\n    /**\n    *  remove an address from the whitelist\n    * @param _operator address\n    * @return true if the address was removed from the whitelist,\n    * false if the address wasn't in the whitelist in the first place\n    */\n    function removeAddressFromWhitelist(address _operator)\n        public\n        onlyOwner(\"removeAddressFromWhitelist\")\n    {\n        removeRole(_operator, ROLE_WHITELISTED);\n    }\n\n    /**\n    *  remove addresses from the whitelist\n    * @param _operators addresses\n    * @return true if at least one address was removed from the whitelist,\n    * false if all addresses weren't in the whitelist in the first place\n    */\n    function removeAddressesFromWhitelist(address[] _operators)\n        public\n        onlyOwner(\"removeAddressesFromWhitelist\")\n    {\n        for (uint256 i = 0; i < _operators.length; i++) {\n            removeAddressFromWhitelist(_operators[i]);\n        }\n    }\n\n}\n\ncontract BaseAdvertisementStorage is Whitelist {\n    using CampaignLibrary for CampaignLibrary.Campaign;\n\n    mapping (bytes32 => CampaignLibrary.Campaign) campaigns;\n\n    bytes32 lastBidId = 0x0;\n\n    modifier onlyIfCampaignExists(string _funcName, bytes32 _bidId) {\n        if(campaigns[_bidId].owner == 0x0){\n            emit Error(_funcName,\"Campaign does not exist\");\n            return;\n        }\n        _;\n    }\n    \n    event CampaignCreated\n        (\n            bytes32 bidId,\n            uint price,\n            uint budget,\n            uint startDate,\n            uint endDate,\n            bool valid,\n            address owner\n    );\n\n    event CampaignUpdated\n        (\n            bytes32 bidId,\n            uint price,\n            uint budget,\n            uint startDate,\n            uint endDate,\n            bool valid,\n            address  owner\n    );\n\n    /**\n    @notice Get a Campaign information\n     \n        Based on a camapaign Id (bidId), returns all stored information for that campaign.\n    @param campaignId Id of the campaign\n    @return {\n        \"bidId\" : \"Id of the campaign\",\n        \"price\" : \"Value to pay for each proof-of-attention\",\n        \"budget\" : \"Total value avaliable to be spent on the campaign\",\n        \"startDate\" : \"Start date of the campaign (in miliseconds)\",\n        \"endDate\" : \"End date of the campaign (in miliseconds)\"\n        \"valid\" : \"Boolean informing if the campaign is valid\",\n        \"campOwner\" : \"Address of the campaing's owner\"\n    }\n    */\n    function _getCampaign(bytes32 campaignId)\n        internal\n        returns (CampaignLibrary.Campaign storage _campaign) {\n\n\n        return campaigns[campaignId];\n    }\n\n\n    /**\n    @notice Add or update a campaign information\n    \n        Based on a campaign Id (bidId), a campaign can be created (if non existent) or updated.\n        This function can only be called by the set of allowed addresses registered earlier.\n        An event will be emited during this function's execution, a CampaignCreated event if the \n        campaign does not exist yet or a CampaignUpdated if the campaign id is already registered.\n\n    @param bidId Id of the campaign\n    @param price Value to pay for each proof-of-attention\n    @param budget Total value avaliable to be spent on the campaign\n    @param startDate Start date of the campaign (in miliseconds)\n    @param endDate End date of the campaign (in miliseconds)\n    @param valid Boolean informing if the campaign is valid\n    @param owner Address of the campaing's owner\n    */\n    function _setCampaign (\n        bytes32 bidId,\n        uint price,\n        uint budget,\n        uint startDate,\n        uint endDate,\n        bool valid,\n        address owner\n    )\n    public\n    onlyIfWhitelisted(\"setCampaign\",msg.sender) {\n\n        CampaignLibrary.Campaign storage campaign = campaigns[bidId];\n        campaign.setBidId(bidId);\n        campaign.setPrice(price);\n        campaign.setBudget(budget);\n        campaign.setStartDate(startDate);\n        campaign.setEndDate(endDate);\n        campaign.setValidity(valid);\n\n        bool newCampaign = (campaigns[bidId].getOwner() == 0x0);\n\n        campaign.setOwner(owner);\n\n\n\n        if(newCampaign){\n            emitCampaignCreated(campaign);\n            setLastBidId(bidId);\n        } else {\n            emitCampaignUpdated(campaign);\n        }\n    }\n\n    /**\n    @notice Constructor function\n    \n        Initializes contract and updates allowed addresses to interact with contract functions.\n    */\n    constructor() public {\n        addAddressToWhitelist(msg.sender);\n    }\n\n      /**\n    @notice Get the price of a campaign\n    \n        Based on the Campaign id, return the value paid for each proof of attention registered.\n    @param bidId Campaign id to which the query refers\n    @return { \"price\" : \"Reward (in wei) for each proof of attention registered\"} \n    */\n    function getCampaignPriceById(bytes32 bidId)\n        public\n        view\n        returns (uint price) {\n        return campaigns[bidId].getPrice();\n    }\n\n    /** \n    @notice Set a new price for a campaign\n    \n        Based on the Campaign id, updates the value paid for each proof of attention registered.\n        This function can only be executed by allowed addresses and emits a CampaingUpdate event.\n    @param bidId Campaing id to which the update refers\n    @param price New price for each proof of attention\n    */\n    function setCampaignPriceById(bytes32 bidId, uint price)\n        public\n        onlyIfWhitelisted(\"setCampaignPriceById\",msg.sender) \n        onlyIfCampaignExists(\"setCampaignPriceById\",bidId)      \n        {\n        campaigns[bidId].setPrice(price);\n        emitCampaignUpdated(campaigns[bidId]);\n    }\n\n    /**\n    @notice Get the budget avaliable of a campaign\n    \n        Based on the Campaign id, return the total value avaliable to pay for proofs of attention.\n    @param bidId Campaign id to which the query refers\n    @return { \"budget\" : \"Total value (in wei) spendable in proof of attention rewards\"} \n    */\n    function getCampaignBudgetById(bytes32 bidId)\n        public\n        view\n        returns (uint budget) {\n        return campaigns[bidId].getBudget();\n    }\n\n    /**\n    @notice Set a new campaign budget\n    \n        Based on the Campaign id, updates the total value avaliable for proof of attention \n        registrations. This function can only be executed by allowed addresses and emits a \n        CampaignUpdated event. This function does not transfer any funds as this contract only works\n        as a data repository, every logic needed will be processed in the Advertisement contract.\n    @param bidId Campaign id to which the query refers\n    @param newBudget New value for the total budget of the campaign\n    */\n    function setCampaignBudgetById(bytes32 bidId, uint newBudget)\n        public\n        onlyIfCampaignExists(\"setCampaignBudgetById\",bidId)\n        onlyIfWhitelisted(\"setCampaignBudgetById\",msg.sender)\n        {\n        campaigns[bidId].setBudget(newBudget);\n        emitCampaignUpdated(campaigns[bidId]);\n    }\n\n    /** \n    @notice Get the start date of a campaign\n    \n        Based on the Campaign id, return the value (in miliseconds) corresponding to the start Date\n        of the campaign.\n    @param bidId Campaign id to which the query refers\n    @return { \"startDate\" : \"Start date (in miliseconds) of the campaign\"} \n    */\n    function getCampaignStartDateById(bytes32 bidId)\n        public\n        view\n        returns (uint startDate) {\n        return campaigns[bidId].getStartDate();\n    }\n\n    /**\n    @notice Set a new start date for a campaign\n    \n        Based of the Campaign id, updates the start date of a campaign. This function can only be \n        executed by allowed addresses and emits a CampaignUpdated event.\n    @param bidId Campaign id to which the query refers\n    @param newStartDate New value (in miliseconds) for the start date of the campaign\n    */\n    function setCampaignStartDateById(bytes32 bidId, uint newStartDate)\n        public\n        onlyIfCampaignExists(\"setCampaignStartDateById\",bidId)\n        onlyIfWhitelisted(\"setCampaignStartDateById\",msg.sender)\n        {\n        campaigns[bidId].setStartDate(newStartDate);\n        emitCampaignUpdated(campaigns[bidId]);\n    }\n    \n    /** \n    @notice Get the end date of a campaign\n    \n        Based on the Campaign id, return the value (in miliseconds) corresponding to the end Date\n        of the campaign.\n    @param bidId Campaign id to which the query refers\n    @return { \"endDate\" : \"End date (in miliseconds) of the campaign\"} \n    */\n    function getCampaignEndDateById(bytes32 bidId)\n        public\n        view\n        returns (uint endDate) {\n        return campaigns[bidId].getEndDate();\n    }\n\n    /**\n    @notice Set a new end date for a campaign\n    \n        Based of the Campaign id, updates the end date of a campaign. This function can only be \n        executed by allowed addresses and emits a CampaignUpdated event.\n    @param bidId Campaign id to which the query refers\n    @param newEndDate New value (in miliseconds) for the end date of the campaign\n    */\n    function setCampaignEndDateById(bytes32 bidId, uint newEndDate)\n        public\n        onlyIfCampaignExists(\"setCampaignEndDateById\",bidId)\n        onlyIfWhitelisted(\"setCampaignEndDateById\",msg.sender)\n        {\n        campaigns[bidId].setEndDate(newEndDate);\n        emitCampaignUpdated(campaigns[bidId]);\n    }\n    /** \n    @notice Get information regarding validity of a campaign.\n    \n        Based on the Campaign id, return a boolean which represents a valid campaign if it has \n        the value of True else has the value of False.\n    @param bidId Campaign id to which the query refers\n    @return { \"valid\" : \"Validity of the campaign\"} \n    */\n    function getCampaignValidById(bytes32 bidId)\n        public\n        view\n        returns (bool valid) {\n        return campaigns[bidId].getValidity();\n    }\n\n    /**\n    @notice Set a new campaign validity state.\n    \n        Updates the validity of a campaign based on a campaign Id. This function can only be \n        executed by allowed addresses and emits a CampaignUpdated event.\n    @param bidId Campaign id to which the query refers\n    @param isValid New value for the campaign validity\n    */\n    function setCampaignValidById(bytes32 bidId, bool isValid)\n        public\n        onlyIfCampaignExists(\"setCampaignValidById\",bidId)\n        onlyIfWhitelisted(\"setCampaignValidById\",msg.sender)\n        {\n        campaigns[bidId].setValidity(isValid);\n        emitCampaignUpdated(campaigns[bidId]);\n    }\n\n    /**\n    @notice Get the owner of a campaign \n     \n        Based on the Campaign id, return the address of the campaign owner.\n    @param bidId Campaign id to which the query refers\n    @return { \"campOwner\" : \"Address of the campaign owner\" } \n    */\n    function getCampaignOwnerById(bytes32 bidId)\n        public\n        view\n        returns (address campOwner) {\n        return campaigns[bidId].getOwner();\n    }\n\n    /**\n    @notice Set a new campaign owner \n    \n        Based on the Campaign id, update the owner of the refered campaign. This function can only \n        be executed by allowed addresses and emits a CampaignUpdated event.\n    @param bidId Campaign id to which the query refers\n    @param newOwner New address to be the owner of the campaign\n    */\n    function setCampaignOwnerById(bytes32 bidId, address newOwner)\n        public\n        onlyIfCampaignExists(\"setCampaignOwnerById\",bidId)\n        onlyIfWhitelisted(\"setCampaignOwnerById\",msg.sender)\n        {\n        campaigns[bidId].setOwner(newOwner);\n        emitCampaignUpdated(campaigns[bidId]);\n    }\n\n    /**\n    @notice Function to emit campaign updates\n    \n        It emits a CampaignUpdated event with the new campaign information. \n    */\n    function emitCampaignUpdated(CampaignLibrary.Campaign storage campaign) private {\n        emit CampaignUpdated(\n            campaign.getBidId(),\n            campaign.getPrice(),\n            campaign.getBudget(),\n            campaign.getStartDate(),\n            campaign.getEndDate(),\n            campaign.getValidity(),\n            campaign.getOwner()\n        );\n    }\n\n    /**\n    @notice Function to emit campaign creations\n    \n        It emits a CampaignCreated event with the new campaign created. \n    */\n    function emitCampaignCreated(CampaignLibrary.Campaign storage campaign) private {\n        emit CampaignCreated(\n            campaign.getBidId(),\n            campaign.getPrice(),\n            campaign.getBudget(),\n            campaign.getStartDate(),\n            campaign.getEndDate(),\n            campaign.getValidity(),\n            campaign.getOwner()\n        );\n    }\n\n    /**\n    @notice Internal function to set most recent bidId\n    \n        This value is stored to avoid conflicts between\n        Advertisement contract upgrades.\n    @param _newBidId Newer bidId\n     */\n    function setLastBidId(bytes32 _newBidId) internal {    \n        lastBidId = _newBidId;\n    }\n\n    /**\n    @notice Returns the greatest BidId ever registered to the contract\n    @return { '_lastBidId' : 'Greatest bidId registered to the contract'}\n     */\n    function getLastBidId() \n        external \n        returns (bytes32 _lastBidId){\n        \n        return lastBidId;\n    }\n}\n\ncontract ExtendedAdvertisementStorage is BaseAdvertisementStorage {\n\n    mapping (bytes32 => string) campaignEndPoints;\n\n    event ExtendedCampaignEndPointCreated(\n        bytes32 bidId,\n        string endPoint\n    );\n\n    event ExtendedCampaignEndPointUpdated(\n        bytes32 bidId,\n        string endPoint\n    );\n\n    /**\n    @notice Get a Campaign information\n     \n        Based on a camapaign Id (bidId), returns all stored information for that campaign.\n    @param _campaignId Id of the campaign\n    @return {\n        \"_bidId\" : \"Id of the campaign\",\n        \"_price\" : \"Value to pay for each proof-of-attention\",\n        \"_budget\" : \"Total value avaliable to be spent on the campaign\",\n        \"_startDate\" : \"Start date of the campaign (in miliseconds)\",\n        \"_endDate\" : \"End date of the campaign (in miliseconds)\"\n        \"_valid\" : \"Boolean informing if the campaign is valid\",\n        \"_campOwner\" : \"Address of the campaing's owner\",\n    }\n    */\n    function getCampaign(bytes32 _campaignId)\n        public\n        view\n        returns (\n            bytes32 _bidId,\n            uint _price,\n            uint _budget,\n            uint _startDate,\n            uint _endDate,\n            bool _valid,\n            address _campOwner\n        ) {\n\n        CampaignLibrary.Campaign storage campaign = _getCampaign(_campaignId);\n\n        return (\n            campaign.getBidId(),\n            campaign.getPrice(),\n            campaign.getBudget(),\n            campaign.getStartDate(),\n            campaign.getEndDate(),\n            campaign.getValidity(),\n            campaign.getOwner()\n        );\n    }\n\n    /**\n    @notice Add or update a campaign information\n    \n        Based on a campaign Id (bidId), a campaign can be created (if non existent) or updated.\n        This function can only be called by the set of allowed addresses registered earlier.\n        An event will be emited during this function's execution, a CampaignCreated and a \n        ExtendedCampaignEndPointCreated event if the campaign does not exist yet or a \n        CampaignUpdated and a ExtendedCampaignEndPointUpdated event if the campaign id is already \n        registered.\n\n    @param _bidId Id of the campaign\n    @param _price Value to pay for each proof-of-attention\n    @param _budget Total value avaliable to be spent on the campaign\n    @param _startDate Start date of the campaign (in miliseconds)\n    @param _endDate End date of the campaign (in miliseconds)\n    @param _valid Boolean informing if the campaign is valid\n    @param _owner Address of the campaing's owner\n    @param _endPoint URL of the signing serivce\n    */\n    function setCampaign (\n        bytes32 _bidId,\n        uint _price,\n        uint _budget,\n        uint _startDate,\n        uint _endDate,\n        bool _valid,\n        address _owner,\n        string _endPoint\n    )\n    public\n    onlyIfWhitelisted(\"setCampaign\",msg.sender) {\n        \n        bool newCampaign = (getCampaignOwnerById(_bidId) == 0x0);\n        _setCampaign(_bidId, _price, _budget, _startDate, _endDate, _valid, _owner);\n        \n        campaignEndPoints[_bidId] = _endPoint;\n\n        if(newCampaign){\n            emit ExtendedCampaignEndPointCreated(_bidId,_endPoint);\n        } else {\n            emit ExtendedCampaignEndPointUpdated(_bidId,_endPoint);\n        }\n    }\n\n    /**\n    @notice Get campaign signing web service endpoint\n    \n        Get the end point to which the user should submit the proof of attention to be signed\n    @param _bidId Id of the campaign\n    @return { \"_endPoint\": \"URL for the signing web service\"}\n    */\n\n    function getCampaignEndPointById(bytes32 _bidId) public returns (string _endPoint){\n        return campaignEndPoints[_bidId];\n    }\n\n    /**\n    @notice Set campaign signing web service endpoint\n    \n        Sets the webservice's endpoint to which the user should submit the proof of attention\n    @param _bidId Id of the campaign\n    @param _endPoint URL for the signing web service\n    */\n    function setCampaignEndPointById(bytes32 _bidId, string _endPoint) \n        public \n        onlyIfCampaignExists(\"setCampaignEndPointById\",_bidId)\n        onlyIfWhitelisted(\"setCampaignEndPointById\",msg.sender) \n        {\n        campaignEndPoints[_bidId] = _endPoint;\n        emit ExtendedCampaignEndPointUpdated(_bidId,_endPoint);\n    }\n\n}\n\n\ncontract BaseAdvertisement is StorageUser,Ownable {\n    \n    AppCoins appc;\n    BaseFinance advertisementFinance;\n    BaseAdvertisementStorage advertisementStorage;\n\n    mapping( bytes32 => mapping(address => uint256)) userAttributions;\n\n    bytes32[] bidIdList;\n    bytes32 lastBidId = 0x0;\n\n\n    /**\n    @notice Constructor function\n    \n        Initializes contract with default validation rules\n    @param _addrAppc Address of the AppCoins (ERC-20) contract\n    @param _addrAdverStorage Address of the Advertisement Storage contract to be used\n    @param _addrAdverFinance Address of the Advertisement Finance contract to be used\n    */\n    constructor(address _addrAppc, address _addrAdverStorage, address _addrAdverFinance) public {\n        appc = AppCoins(_addrAppc);\n\n        advertisementStorage = BaseAdvertisementStorage(_addrAdverStorage);\n        advertisementFinance = BaseFinance(_addrAdverFinance);\n        lastBidId = advertisementStorage.getLastBidId();\n    }\n\n\n    /**\n    @notice Upgrade finance contract used by this contract\n    \n        This function is part of the upgrade mechanism avaliable to the advertisement contracts.\n        Using this function it is possible to update to a new Advertisement Finance contract without\n        the need to cancel avaliable campaigns.\n        Upgrade finance function can only be called by the Advertisement contract owner.\n    @param addrAdverFinance Address of the new Advertisement Finance contract\n    */\n    function upgradeFinance (address addrAdverFinance) public onlyOwner(\"upgradeFinance\") {\n        BaseFinance newAdvFinance = BaseFinance(addrAdverFinance);\n\n        address[] memory devList = advertisementFinance.getUserList();\n        \n        for(uint i = 0; i < devList.length; i++){\n            uint balance = advertisementFinance.getUserBalance(devList[i]);\n            newAdvFinance.increaseBalance(devList[i],balance);\n        }\n        \n        uint256 initBalance = appc.balanceOf(address(advertisementFinance));\n        advertisementFinance.transferAllFunds(address(newAdvFinance));\n        uint256 oldBalance = appc.balanceOf(address(advertisementFinance));\n        uint256 newBalance = appc.balanceOf(address(newAdvFinance));\n        \n        require(initBalance == newBalance);\n        require(oldBalance == 0);\n        advertisementFinance = newAdvFinance;\n    }\n\n    /**\n    @notice Upgrade storage contract used by this contract\n    \n        Upgrades Advertisement Storage contract addres with no need to redeploy\n        Advertisement contract. However every campaign in the old contract will\n        be canceled.\n        This function can only be called by the Advertisement contract owner.\n    @param addrAdverStorage Address of the new Advertisement Storage contract\n    */\n\n    function upgradeStorage (address addrAdverStorage) public onlyOwner(\"upgradeStorage\") {\n        for(uint i = 0; i < bidIdList.length; i++) {\n            cancelCampaign(bidIdList[i]);\n        }\n        delete bidIdList;\n\n        lastBidId = advertisementStorage.getLastBidId();\n        advertisementFinance.setAdsStorageAddress(addrAdverStorage);\n        advertisementStorage = BaseAdvertisementStorage(addrAdverStorage);\n    }\n\n\n    /**\n    @notice Get Advertisement Storage Address used by this contract\n    \n        This function is required to upgrade Advertisement contract address on Advertisement\n        Finance contract. This function can only be called by the Advertisement Finance\n        contract registered in this contract.\n    @return {\n        \"storageContract\" : \"Address of the Advertisement Storage contract used by this contract\"\n        }\n    */\n\n    function getStorageAddress() public view returns(address storageContract) {\n        require (msg.sender == address(advertisementFinance));\n\n        return address(advertisementStorage);\n    }\n\n\n    /**\n    @notice Creates a campaign \n     \n        Method to create a campaign of user aquisition for a certain application.\n        This method will emit a Campaign Information event with every information \n        provided in the arguments of this method.\n    @param packageName Package name of the appication subject to the user aquisition campaign\n    @param countries Encoded list of 3 integers intended to include every \n    county where this campaign will be avaliable.\n    For more detain on this encoding refer to wiki documentation.\n    @param vercodes List of version codes to which the user aquisition campaign is applied.\n    @param price Value (in wei) the campaign owner pays for each proof-of-attention.\n    @param budget Total budget (in wei) the campaign owner will deposit \n    to pay for the proof-of-attention.\n    @param startDate Date (in miliseconds) on which the campaign will start to be \n    avaliable to users.\n    @param endDate Date (in miliseconds) on which the campaign will no longer be avaliable to users.\n    */\n\n    function _generateCampaign (\n        string packageName,\n        uint[3] countries,\n        uint[] vercodes,\n        uint price,\n        uint budget,\n        uint startDate,\n        uint endDate)\n        internal returns (CampaignLibrary.Campaign memory) {\n\n        require(budget >= price);\n        require(endDate >= startDate);\n\n\n        //Transfers the budget to contract address\n        if(appc.allowance(msg.sender, address(this)) >= budget){\n            appc.transferFrom(msg.sender, address(advertisementFinance), budget);\n\n            advertisementFinance.increaseBalance(msg.sender,budget);\n\n            uint newBidId = bytesToUint(lastBidId);\n            lastBidId = uintToBytes(++newBidId);\n            \n\n            CampaignLibrary.Campaign memory newCampaign;\n            newCampaign.price = price;\n            newCampaign.startDate = startDate;\n            newCampaign.endDate = endDate;\n            newCampaign.budget = budget;\n            newCampaign.owner = msg.sender;\n            newCampaign.valid = true;\n            newCampaign.bidId = lastBidId;\n        } else {\n            emit Error(\"createCampaign\",\"Not enough allowance\");\n        }\n        \n        return newCampaign;\n    }\n\n    function _getStorage() internal returns (BaseAdvertisementStorage) {\n        return advertisementStorage;\n    }\n\n    function _getFinance() internal returns (BaseFinance) {\n        return advertisementFinance;\n    }\n\n    function _setUserAttribution(bytes32 _bidId,address _user,uint256 _attributions) internal{\n        userAttributions[_bidId][_user] = _attributions;\n    }\n\n\n    function getUserAttribution(bytes32 _bidId,address _user) internal returns (uint256) {\n        return userAttributions[_bidId][_user];\n    }\n\n    /**\n    @notice Cancel a campaign and give the remaining budget to the campaign owner\n    \n        When a campaing owner wants to cancel a campaign, the campaign owner needs\n        to call this function. This function can only be called either by the campaign owner or by\n        the Advertisement contract owner. This function results in campaign cancelation and\n        retreival of the remaining budget to the respective campaign owner.\n    @param bidId Campaign id to which the cancelation referes to\n     */\n    function cancelCampaign (bytes32 bidId) public {\n        address campaignOwner = getOwnerOfCampaign(bidId);\n\n\t\t// Only contract owner or campaign owner can cancel a campaign\n        require(owner == msg.sender || campaignOwner == msg.sender);\n        uint budget = getBudgetOfCampaign(bidId);\n\n        advertisementFinance.withdraw(campaignOwner, budget);\n\n        advertisementStorage.setCampaignBudgetById(bidId, 0);\n        advertisementStorage.setCampaignValidById(bidId, false);\n    }\n\n     /**\n    @notice Get a campaign validity state\n    @param bidId Campaign id to which the query refers\n    @return { \"state\" : \"Validity of the campaign\"}\n    */\n    function getCampaignValidity(bytes32 bidId) public view returns(bool state){\n        return advertisementStorage.getCampaignValidById(bidId);\n    }\n\n    /**\n    @notice Get the price of a campaign\n    \n        Based on the Campaign id return the value paid for each proof of attention registered.\n    @param bidId Campaign id to which the query refers\n    @return { \"price\" : \"Reward (in wei) for each proof of attention registered\"}\n    */\n    function getPriceOfCampaign (bytes32 bidId) public view returns(uint price) {\n        return advertisementStorage.getCampaignPriceById(bidId);\n    }\n\n    /**\n    @notice Get the start date of a campaign\n    \n        Based on the Campaign id return the value (in miliseconds) corresponding to the start Date\n        of the campaign.\n    @param bidId Campaign id to which the query refers\n    @return { \"startDate\" : \"Start date (in miliseconds) of the campaign\"}\n    */\n    function getStartDateOfCampaign (bytes32 bidId) public view returns(uint startDate) {\n        return advertisementStorage.getCampaignStartDateById(bidId);\n    }\n\n    /**\n    @notice Get the end date of a campaign\n    \n        Based on the Campaign id return the value (in miliseconds) corresponding to the end Date\n        of the campaign.\n    @param bidId Campaign id to which the query refers\n    @return { \"endDate\" : \"End date (in miliseconds) of the campaign\"}\n    */\n    function getEndDateOfCampaign (bytes32 bidId) public view returns(uint endDate) {\n        return advertisementStorage.getCampaignEndDateById(bidId);\n    }\n\n    /**\n    @notice Get the budget avaliable of a campaign\n    \n        Based on the Campaign id return the total value avaliable to pay for proofs of attention.\n    @param bidId Campaign id to which the query refers\n    @return { \"budget\" : \"Total value (in wei) spendable in proof of attention rewards\"}\n    */\n    function getBudgetOfCampaign (bytes32 bidId) public view returns(uint budget) {\n        return advertisementStorage.getCampaignBudgetById(bidId);\n    }\n\n\n    /**\n    @notice Get the owner of a campaign\n    \n        Based on the Campaign id return the address of the campaign owner\n    @param bidId Campaign id to which the query refers\n    @return { \"campaignOwner\" : \"Address of the campaign owner\" }\n    */\n    function getOwnerOfCampaign (bytes32 bidId) public view returns(address campaignOwner) {\n        return advertisementStorage.getCampaignOwnerById(bidId);\n    }\n\n    /**\n    @notice Get the list of Campaign BidIds registered in the contract\n    \n        Returns the list of BidIds of the campaigns ever registered in the contract\n    @return { \"bidIds\" : \"List of BidIds registered in the contract\" }\n    */\n    function getBidIdList() public view returns(bytes32[] bidIds) {\n        return bidIdList;\n    }\n\n    function _getBidIdList() internal returns(bytes32[] storage bidIds){\n        return bidIdList;\n    }\n\n    /**\n    @notice Check if a certain campaign is still valid\n    \n        Returns a boolean representing the validity of the campaign\n        Has value of True if the campaign is still valid else has value of False\n    @param bidId Campaign id to which the query refers\n    @return { \"valid\" : \"validity of the campaign\" }\n    */\n    function isCampaignValid(bytes32 bidId) public view returns(bool valid) {\n        uint startDate = advertisementStorage.getCampaignStartDateById(bidId);\n        uint endDate = advertisementStorage.getCampaignEndDateById(bidId);\n        bool validity = advertisementStorage.getCampaignValidById(bidId);\n\n        uint nowInMilliseconds = now * 1000;\n        return validity && startDate < nowInMilliseconds && endDate > nowInMilliseconds;\n    }\n\n     /**\n    @notice Returns the division of two numbers\n    \n        Function used for division operations inside the smartcontract\n    @param numerator Numerator part of the division\n    @param denominator Denominator part of the division\n    @return { \"result\" : \"Result of the division\"}\n    */\n    function division(uint numerator, uint denominator) public view returns (uint result) {\n        uint _quotient = numerator / denominator;\n        return _quotient;\n    }\n\n    /**\n    @notice Converts a uint256 type variable to a byte32 type variable\n    \n        Mostly used internaly\n    @param i number to be converted\n    @return { \"b\" : \"Input number converted to bytes\"}\n    */\n    function uintToBytes (uint256 i) public view returns(bytes32 b) {\n        b = bytes32(i);\n    }\n\n    function bytesToUint(bytes32 b) public view returns (uint) \n    {\n        return uint(b) & 0xfff;\n    }\n\n}\n\ncontract Signature {\n\n    /**\n    @notice splitSignature\n    \n        Based on a signature Sig (bytes32), returns the r, s, v\n    @param sig Signature\n    @return {\n        \"uint8\" : \"recover Id\",\n        \"bytes32\" : \"Output of the ECDSA signature\",\n        \"bytes32\" : \"Output of the ECDSA signature\",\n    }\n    */\n    function splitSignature(bytes sig)\n        internal\n        pure\n        returns (uint8, bytes32, bytes32)\n        {\n        require(sig.length == 65);\n\n        bytes32 r;\n        bytes32 s;\n        uint8 v;\n\n        assembly {\n            // first 32 bytes, after the length prefix\n            r := mload(add(sig, 32))\n            // second 32 bytes\n            s := mload(add(sig, 64))\n            // final byte (first byte of the next 32 bytes)\n            v := byte(0, mload(add(sig, 96)))\n        }\n\n        return (v, r, s);\n    }\n\n    /**\n    @notice recoverSigner\n    \n        Based on a message and signature returns the address\n    @param message Message\n    @param sig Signature\n    @return {\n        \"address\" : \"Address of the private key that signed\",\n    }\n    */\n    function recoverSigner(bytes32 message, bytes sig)\n        public\n        pure\n        returns (address)\n        {\n        uint8 v;\n        bytes32 r;\n        bytes32 s;\n\n        (v, r, s) = splitSignature(sig);\n\n        return ecrecover(message, v, r, s);\n    }\n}\n\n\ncontract BaseFinance is SingleAllowance {\n\n    mapping (address => uint256) balanceUsers;\n    mapping (address => bool) userExists;\n\n    address[] users;\n\n    address advStorageContract;\n\n    AppCoins appc;\n\n    /**\n    @notice Constructor function\n     \n        Initializes contract with the AppCoins contract address\n    @param _addrAppc Address of the AppCoins (ERC-20) contract\n    */\n    constructor (address _addrAppc) \n        public {\n        appc = AppCoins(_addrAppc);\n        advStorageContract = 0x0;\n    }\n\n\n    /**\n    @notice Sets the Storage contract address used by the allowed contract\n    \n        The Storage contract address is mostly used as part of a failsafe mechanism to\n        ensure contract upgrades are executed using the same Storage \n        contract. This function returns every value of AppCoins stored in this contract to their \n        owners. This function can only be called by the \n        Finance contract owner or by the allowed contract registered earlier in \n        this contract.\n    @param _addrStorage Address of the new Storage contract\n    */\n    function setAdsStorageAddress (address _addrStorage) external onlyOwnerOrAllowed {\n        reset();\n        advStorageContract = _addrStorage;\n    }\n\n        /**\n    @notice Sets the Advertisement contract address to allow calls from Advertisement contract\n    \n        This function is used for upgrading the Advertisement contract without need to redeploy \n        Advertisement Finance and Advertisement Storage contracts. The function can only be called \n        by this contract's owner. During the update of the Advertisement contract address, the \n        contract for Advertisement Storage used by the new Advertisement contract is checked. \n        This function reverts if the new Advertisement contract does not use the same Advertisement \n        Storage contract earlier registered in this Advertisement Finance contract.\n    @param _addr Address of the newly allowed contract \n    */\n    function setAllowedAddress (address _addr) public onlyOwner(\"setAllowedAddress\") {\n        // Verify if the new Ads contract is using the same storage as before \n        if (allowedAddress != 0x0){\n            StorageUser storageUser = StorageUser(_addr);\n            address storageContract = storageUser.getStorageAddress();\n            require (storageContract == advStorageContract);\n        }\n        \n        //Update contract\n        super.setAllowedAddress(_addr);\n    }\n\n    /**\n    @notice Increases balance of a user\n    \n        This function can only be called by the registered Advertisement contract and increases the \n        balance of a specific user on this contract. This function does not transfer funds, \n        this step need to be done earlier by the Advertisement contract. This function can only be \n        called by the registered Advertisement contract.\n    @param _user Address of the user who will receive a balance increase\n    @param _value Value of coins to increase the user's balance\n    */\n    function increaseBalance(address _user, uint256 _value) \n        public onlyAllowed{\n\n        if(userExists[_user] == false){\n            users.push(_user);\n            userExists[_user] = true;\n        }\n\n        balanceUsers[_user] += _value;\n    }\n\n     /**\n    @notice Transfers coins from a certain user to a destination address\n    \n        Used to release a certain value of coins from a certain user to a destination address.\n        This function updates the user's balance in the contract. It can only be called by the \n        Advertisement contract registered.\n    @param _user Address of the user from which the value will be subtracted\n    @param _destination Address receiving the value transfered\n    @param _value Value to be transfered in AppCoins\n    */\n    function pay(address _user, address _destination, uint256 _value) public onlyAllowed;\n\n    /**\n    @notice Withdraws a certain value from a user's balance back to the user's account\n    \n        Can be called from the Advertisement contract registered or by this contract's owner.\n    @param _user Address of the user\n    @param _value Value to be transfered in AppCoins\n    */\n    function withdraw(address _user, uint256 _value) public onlyOwnerOrAllowed;\n\n\n    /**\n    @notice Resets this contract and returns every amount deposited to each user registered\n    \n        This function is used in case a contract reset is needed or the contract needs to be \n        deactivated. Thus returns every fund deposited to it's respective owner.\n    */\n    function reset() public onlyOwnerOrAllowed {\n        for(uint i = 0; i < users.length; i++){\n            withdraw(users[i],balanceUsers[users[i]]);\n        }\n    }\n    /**\n    @notice Transfers all funds of the contract to a single address\n    \n        This function is used for finance contract upgrades in order to be more cost efficient.\n    @param _destination Address receiving the funds\n     */\n    function transferAllFunds(address _destination) public onlyAllowed {\n        uint256 balance = appc.balanceOf(address(this));\n        appc.transfer(_destination,balance);\n    }\n\n      /**\n    @notice Get balance of coins stored in the contract by a specific user\n    \n        This function can only be called by the Advertisement contract\n    @param _user Developer's address\n    @return { '_balance' : 'Balance of coins deposited in the contract by the address' }\n    */\n    function getUserBalance(address _user) public view onlyAllowed returns(uint256 _balance){\n        return balanceUsers[_user];\n    }\n\n    /**\n    @notice Get list of users with coins stored in the contract \n    \n        This function can only be called by the Advertisement contract        \n    @return { '_userList' : ' List of users registered in the contract'}\n    */\n    function getUserList() public view onlyAllowed returns(address[] _userList){\n        return users;\n    }\n}\n\ncontract ExtendedFinance is BaseFinance {\n\n    mapping ( address => uint256 ) rewardedBalance;\n\n    constructor(address _appc) public BaseFinance(_appc){\n\n    }\n\n\n    function pay(address _user, address _destination, uint256 _value)\n        public onlyAllowed{\n\n        require(balanceUsers[_user] >= _value);\n\n        balanceUsers[_user] -= _value;\n        rewardedBalance[_destination] += _value;\n    }\n\n\n    function withdraw(address _user, uint256 _value) public onlyOwnerOrAllowed {\n\n        require(balanceUsers[_user] >= _value);\n\n        balanceUsers[_user] -= _value;\n        appc.transfer(_user, _value);\n\n    }\n\n    /**\n    @notice Withdraws user's rewards\n    \n        Function to transfer a certain user's rewards to his address \n    @param _user Address who's rewards will be withdrawn\n    @param _value Value of the withdraws which will be transfered to the user \n    */\n    function withdrawRewards(address _user, uint256 _value) public onlyOwnerOrAllowed {\n        require(rewardedBalance[_user] >= _value);\n\n        rewardedBalance[_user] -= _value;\n        appc.transfer(_user, _value);\n    }\n    /**\n    @notice Get user's rewards balance\n    \n        Function returning a user's rewards balance not yet withdrawn\n    @param _user Address of the user\n    @return { \"_balance\" : \"Rewards balance of the user\" }\n    */\n    function getRewardsBalance(address _user) public onlyOwnerOrAllowed returns (uint256 _balance) {\n        return rewardedBalance[_user];\n    }\n\n}\n\n\ncontract ExtendedAdvertisement is BaseAdvertisement, Whitelist {\n\n    event BulkPoARegistered(bytes32 bidId, bytes32 rootHash, bytes signedrootHash, uint256 newPoAs, uint256 convertedPoAs);\n    event CampaignInformation\n        (\n            bytes32 bidId,\n            address  owner,\n            string ipValidator,\n            string packageName,\n            uint[3] countries,\n            uint[] vercodes,\n            string endpoint\n    );\n\n    constructor(address _addrAppc, address _addrAdverStorage, address _addrAdverFinance) public\n        BaseAdvertisement(_addrAppc,_addrAdverStorage,_addrAdverFinance) {\n        addAddressToWhitelist(msg.sender);\n    }\n\n\n    /**\n    @notice Creates an extebded campaign\n    */\n    function createCampaign (\n        string packageName,\n        uint[3] countries,\n        uint[] vercodes,\n        uint price,\n        uint budget,\n        uint startDate,\n        uint endDate,\n        string endPoint)\n        external\n        {\n\n        CampaignLibrary.Campaign memory newCampaign = _generateCampaign(packageName, countries, vercodes, price, budget, startDate, endDate);\n\n        if(newCampaign.owner == 0x0){\n            // campaign was not generated correctly (revert)\n            return;\n        }\n\n        _getBidIdList().push(newCampaign.bidId);\n\n        ExtendedAdvertisementStorage(address(_getStorage())).setCampaign(\n            newCampaign.bidId,\n            newCampaign.price,\n            newCampaign.budget,\n            newCampaign.startDate,\n            newCampaign.endDate,\n            newCampaign.valid,\n            newCampaign.owner,\n            endPoint);\n\n        emit CampaignInformation(\n            newCampaign.bidId,\n            newCampaign.owner,\n            \"\", // ipValidator field\n            packageName,\n            countries,\n            vercodes,\n            endPoint);\n    }\n\n    /**\n    @notice Function to submit in bulk PoAs\n    @param bidId Campaign id for which the Proof of attention root hash refferes to\n    @param rootHash Root hash of all submitted proof of attention to a given campaign\n    @param signedRootHash Root hash signed by the signing service of the campaign\n    @param newHashes Number of new proof of attention hashes since last submission\n    */\n    function bulkRegisterPoA(bytes32 bidId, bytes32 rootHash, bytes signedRootHash, uint256 newHashes)\n        public\n        onlyIfWhitelisted(\"createCampaign\",msg.sender)\n        {\n\n        /* address addressSig = recoverSigner(rootHash, signedRootHash); */\n\n        /* if (msg.sender != addressSig) {\n            emit Error(\"bulkRegisterPoA\",\"Invalid signature\");\n            return;\n        } */\n\n        uint price = _getStorage().getCampaignPriceById(bidId);\n        uint budget = _getStorage().getCampaignBudgetById(bidId);\n        address owner = _getStorage().getCampaignOwnerById(bidId);\n        uint maxConversions = division(budget,price);\n        uint effectiveConversions;\n        uint totalPay;\n        uint newBudget;\n\n        if (maxConversions >= newHashes){\n            effectiveConversions = newHashes;\n        } else {\n            effectiveConversions = maxConversions;\n        }\n\n        totalPay = price*effectiveConversions;\n        newBudget = budget - totalPay;\n\n        _getFinance().pay(owner,msg.sender,totalPay);\n        _getStorage().setCampaignBudgetById(bidId,newBudget);\n\n        if(newBudget < price){\n            _getStorage().setCampaignValidById(bidId,false);\n        }\n\n        emit BulkPoARegistered(bidId,rootHash,signedRootHash,newHashes,effectiveConversions);\n    }\n\n    /**\n    @notice Function to withdraw PoA convertions\n    */\n\n    function withdraw()\n        public\n        onlyIfWhitelisted(\"withdraw\",msg.sender)\n        {\n        uint256 balance = ExtendedFinance(address(_getFinance())).getRewardsBalance(msg.sender);\n        ExtendedFinance(address(_getFinance())).withdrawRewards(msg.sender,balance);\n    }\n    /**\n    @notice Get user's balance of funds obtainded by rewards\n    @param _user Address from which the balance refers to\n    @return { \"_balance\" : \"\" } */\n    function getRewardsBalance(address _user) public view returns (uint256 _balance) {\n        return ExtendedFinance(address(_getFinance())).getRewardsBalance(_user);\n    }\n\n    /**\n    @notice Returns the signing Endpoint of a camapign\n    @param bidId Campaign id to which the Endpoint is associated\n    @return { \"url\" : \"Validation and signature endpoint\"}\n    */\n\n    function getEndPointOfCampaign (bytes32 bidId) public view returns (string url){\n        return ExtendedAdvertisementStorage(address(_getStorage())).getCampaignEndPointById(bidId);\n    }\n}",
  "bytecode": "608060405260006001026006906000191690553480156200001f57600080fd5b50604051606080620052d2833981018060405281019080805190602001909291908051906020019092919080519060200190929190505050828282336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555082600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166360b4a8fd6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015620001e457600080fd5b505af1158015620001f9573d6000803e3d6000fd5b505050506040513d60208110156200021057600080fd5b810190808051906020019092919050505060068160001916905550505050620002483362000251640100000000026401000000009004565b505050620005de565b6040805190810160405280601581526020017f61646441646472657373546f57686974656c69737400000000000000000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515620003e2577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b838110156200034657808201518184015260208101905062000329565b50505050905090810190601f168015620003745780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a162000433565b62000432826040805190810160405280600981526020017f77686974656c697374000000000000000000000000000000000000000000000081525062000437640100000000026401000000009004565b5b5050565b620004c6826007836040518082805190602001908083835b6020831015156200047657805182526020820191506020810190506020830392506200044f565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020620005806401000000000262004bbb179091906401000000009004565b8173ffffffffffffffffffffffffffffffffffffffff167fbfec83d64eaa953f2708271a023ab9ee82057f8f3578d548c1a4ba0b5b700489826040518080602001828103825283818151815260200191508051906020019080838360005b838110156200054157808201518184015260208101905062000524565b50505050905090810190601f1680156200056f5780820380516001836020036101000a031916815260200191505b509250505060405180910390a25050565b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b614ce480620005ee6000396000f30060806040526004361061018b576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063060b2128146101905780630988ca8c1461023a57806318b919e9146102c35780631f16c8b914610353578063217fe6c61461039857806324953eaa14610439578063286dd3f51461049f578063393a4d34146104e25780633ccfd60b146105395780634f51bf461461055057806363735598146105bc5780636904c104146106015780636b128b2f1461064a578063715018a61461068d5780637b9417c8146106a457806382a0ad4d146106e757806382bfa9f2146107845780638a67f4bf146107c75780638da5cb5b1461081e57806394e8767d146108755780639b19251a146108be578063ad36c59314610919578063cfc5a9691461098a578063d050557d146109cf578063dd16d98114610a5e578063df8bb14014610aa7578063e006805214610ad8578063e2ec6ec314610b23578063e55c6d0714610b89578063e83400f614610bce578063f2fde38b14610c13575b600080fd5b34801561019c57600080fd5b506101bf6004803603810190808035600019169060200190929190505050610c56565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101ff5780820151818401526020810190506101e4565b50505050905090810190601f16801561022c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561024657600080fd5b506102c1600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610d6e565b005b3480156102cf57600080fd5b506102d8610def565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103185780820151818401526020810190506102fd565b50505050905090810190601f1680156103455780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561035f57600080fd5b506103826004803603810190808035600019169060200190929190505050610e28565b6040518082815260200191505060405180910390f35b3480156103a457600080fd5b5061041f600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610f05565b604051808215151515815260200191505060405180910390f35b34801561044557600080fd5b5061049d60048036038101908080359060200190820180359060200190808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050509192919290505050610f8c565b005b3480156104ab57600080fd5b506104e0600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061115b565b005b3480156104ee57600080fd5b506104f761132b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561054557600080fd5b5061054e6113b1565b005b34801561055c57600080fd5b506105656116d6565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b838110156105a857808201518184015260208101905061058d565b505050509050019250505060405180910390f35b3480156105c857600080fd5b506105eb6004803603810190808035600019169060200190929190505050611732565b6040518082815260200191505060405180910390f35b34801561060d57600080fd5b50610630600480360381019080803560001916906020019092919050505061180f565b604051808215151515815260200191505060405180910390f35b34801561065657600080fd5b5061068b600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506118ec565b005b34801561069957600080fd5b506106a261220f565b005b3480156106b057600080fd5b506106e5600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050612444565b005b3480156106f357600080fd5b506107826004803603810190808035906020019082018035906020019190919293919293908060600190919291929080359060200190820180359060200191909192939192939080359060200190929190803590602001909291908035906020019092919080359060200190929190803590602001908201803590602001919091929391929390505050612614565b005b34801561079057600080fd5b506107c5600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050612963565b005b3480156107d357600080fd5b50610808600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050612d27565b6040518082815260200191505060405180910390f35b34801561082a57600080fd5b50610833612e0d565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561088157600080fd5b506108a060048036038101908080359060200190929190505050612e32565b60405180826000191660001916815260200191505060405180910390f35b3480156108ca57600080fd5b506108ff600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050612e3f565b604051808215151515815260200191505060405180910390f35b34801561092557600080fd5b506109486004803603810190808035600019169060200190929190505050612e87565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561099657600080fd5b506109b96004803603810190808035600019169060200190929190505050612f64565b6040518082815260200191505060405180910390f35b3480156109db57600080fd5b50610a5c60048036038101908080356000191690602001909291908035600019169060200190929190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190505050612f76565b005b348015610a6a57600080fd5b50610a8d6004803603810190808035600019169060200190929190505050613675565b604051808215151515815260200191505060405180910390f35b348015610ab357600080fd5b50610ad66004803603810190808035600019169060200190929190505050613928565b005b348015610ae457600080fd5b50610b0d6004803603810190808035906020019092919080359060200190929190505050613c2c565b6040518082815260200191505060405180910390f35b348015610b2f57600080fd5b50610b8760048036038101908080359060200190820180359060200190808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050509192919290505050613c47565b005b348015610b9557600080fd5b50610bb86004803603810190808035600019169060200190929190505050613e16565b6040518082815260200191505060405180910390f35b348015610bda57600080fd5b50610bfd6004803603810190808035600019169060200190929190505050613ef3565b6040518082815260200191505060405180910390f35b348015610c1f57600080fd5b50610c54600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050613fd0565b005b6060610c6061416a565b73ffffffffffffffffffffffffffffffffffffffff1663916c99fd836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050600060405180830381600087803b158015610cd657600080fd5b505af1158015610cea573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052506020811015610d1457600080fd5b810190808051640100000000811115610d2c57600080fd5b82810190506020810184811115610d4257600080fd5b8151856001820283011164010000000082111715610d5f57600080fd5b50509291905050509050919050565b610deb826007836040518082805190602001908083835b602083101515610daa5780518252602082019150602081019050602083039250610d85565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902061419490919063ffffffff16565b5050565b6040805190810160405280600981526020017f77686974656c697374000000000000000000000000000000000000000000000081525081565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a941ff21836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015610ec357600080fd5b505af1158015610ed7573d6000803e3d6000fd5b505050506040513d6020811015610eed57600080fd5b81019080805190602001909291905050509050919050565b6000610f84836007846040518082805190602001908083835b602083101515610f435780518252602082019150602081019050602083039250610f1e565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206141ad90919063ffffffff16565b905092915050565b60006040805190810160405280601c81526020017f72656d6f766541646472657373657346726f6d57686974656c697374000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561111a577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b83811015611080578082015181840152602081019050611065565b50505050905090810190601f1680156110ad5780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a1611156565b600091505b825182101561115557611148838381518110151561113957fe5b9060200190602002015161115b565b818060010192505061111f565b5b505050565b6040805190810160405280601a81526020017f72656d6f76654164647265737346726f6d57686974656c6973740000000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156112e7577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b8381101561124d578082015181840152602081019050611232565b50505050905090810190601f16801561127a5780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a1611327565b611326826040805190810160405280600981526020017f77686974656c6973740000000000000000000000000000000000000000000000815250614206565b5b5050565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561138957600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60006040805190810160405280600881526020017f776974686472617700000000000000000000000000000000000000000000000081525033611429816040805190810160405280600981526020017f77686974656c6973740000000000000000000000000000000000000000000000815250610f05565b151561152f577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70082604051808060200180602001838103835284818151815260200191508051906020019080838360005b8381101561149557808201518184015260208101905061147a565b50505050905090810190601f1680156114c25780820380516001836020036101000a031916815260200191505b50838103825260388152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f62792057686974656c6973746564204164647265737365730000000000000000815250604001935050505060405180910390a16116d1565b61153761433a565b73ffffffffffffffffffffffffffffffffffffffff16638a67f4bf336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1580156115d157600080fd5b505af11580156115e5573d6000803e3d6000fd5b505050506040513d60208110156115fb57600080fd5b8101908080519060200190929190505050925061161661433a565b73ffffffffffffffffffffffffffffffffffffffff1663d6ef7af033856040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b1580156116b857600080fd5b505af11580156116cc573d6000803e3d6000fd5b505050505b505050565b6060600580548060200260200160405190810160405280929190818152602001828054801561172857602002820191906000526020600020905b81546000191681526020019060010190808311611710575b5050505050905090565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d55bdc5f836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156117cd57600080fd5b505af11580156117e1573d6000803e3d6000fd5b505050506040513d60208110156117f757600080fd5b81019080805190602001909291905050509050919050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166339384126836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156118aa57600080fd5b505af11580156118be573d6000803e3d6000fd5b505050506040513d60208110156118d457600080fd5b81019080805190602001909291905050509050919050565b6000606060008060008060006040805190810160405280600e81526020017f7570677261646546696e616e63650000000000000000000000000000000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611a84577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b838110156119ea5780820151818401526020810190506119cf565b50505050905090810190601f168015611a175780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a1612204565b889750600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b85220436040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b158015611b0d57600080fd5b505af1158015611b21573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052506020811015611b4b57600080fd5b810190808051640100000000811115611b6357600080fd5b82810190506020810184811115611b7957600080fd5b8151856020820283011164010000000082111715611b9657600080fd5b50509291905050509650600095505b8651861015611d9e57600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663477348928888815181101515611bfa57fe5b906020019060200201516040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b158015611c8257600080fd5b505af1158015611c96573d6000803e3d6000fd5b505050506040513d6020811015611cac57600080fd5b810190808051906020019092919050505094508773ffffffffffffffffffffffffffffffffffffffff16635b86f5998888815181101515611ce957fe5b90602001906020020151876040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b158015611d7957600080fd5b505af1158015611d8d573d6000803e3d6000fd5b505050508580600101965050611ba5565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b158015611e7d57600080fd5b505af1158015611e91573d6000803e3d6000fd5b505050506040513d6020811015611ea757600080fd5b81019080805190602001909291905050509350600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16633b789750896040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b158015611f7757600080fd5b505af1158015611f8b573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561206e57600080fd5b505af1158015612082573d6000803e3d6000fd5b505050506040513d602081101561209857600080fd5b81019080805190602001909291905050509250600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231896040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561216857600080fd5b505af115801561217c573d6000803e3d6000fd5b505050506040513d602081101561219257600080fd5b8101908080519060200190929190505050915081841415156121b357600080fd5b6000831415156121c257600080fd5b87600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b505050505050505050565b6040805190810160405280601181526020017f72656e6f756e63654f776e6572736869700000000000000000000000000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561239b577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b838110156123015780820151818401526020810190506122e6565b50505050905090810190601f16801561232e5780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a1612441565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482060405160405180910390a260008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b50565b6040805190810160405280601581526020017f61646441646472657373546f57686974656c69737400000000000000000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156125d0577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b8381101561253657808201518184015260208101905061251b565b50505050905090810190601f1680156125635780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a1612610565b61260f826040805190810160405280600981526020017f77686974656c6973740000000000000000000000000000000000000000000000815250614364565b5b5050565b61261c614c19565b6126b18c8c8080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050508b600380602002604051908101604052809291908260036020028082843782019150505050508b8b808060200260200160405190810160405280939291908181526020018383602002808284378201915050505050508a8a8a8a614498565b905060008160c0015173ffffffffffffffffffffffffffffffffffffffff1614156126db57612955565b6126e3614994565b8160000151908060018154018082558091505090600182039060005260206000200160009091929091909150906000191690555061271f61416a565b73ffffffffffffffffffffffffffffffffffffffff166308901d78826000015183602001518460400151856060015186608001518760a001518860c001518b8b6040518a63ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808a60001916600019168152602001898152602001888152602001878152602001868152602001851515151581526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825284848281815260200192508082843782019150509a5050505050505050505050600060405180830381600087803b15801561283357600080fd5b505af1158015612847573d6000803e3d6000fd5b505050507f4c34731124d1efa92aedbd7b4c9210ab2c8f154fe1a1634ae431bcb2275eefdf81600001518260c001518e8e8e8e8e8a8a604051808a600019166000191681526020018973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018060200180602001886003602002808284378201915050806020018060200185810385526000815260200160200185810384528c8c82818152602001925080828437820191505085810383528989828181526020019250602002808284378201915050858103825287878281815260200192508082843782019150509d505050505050505050505050505060405180910390a15b505050505050505050505050565b60006040805190810160405280600e81526020017f7570677261646553746f726167650000000000000000000000000000000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515612af1577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b83811015612a57578082015181840152602081019050612a3c565b50505050905090810190601f168015612a845780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a1612d22565b600091505b600580549050821015612b3257612b25600583815481101515612b1557fe5b9060005260206000200154613928565b8180600101925050612af6565b60056000612b409190614c72565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166360b4a8fd6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015612bc657600080fd5b505af1158015612bda573d6000803e3d6000fd5b505050506040513d6020811015612bf057600080fd5b810190808051906020019092919050505060068160001916905550600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663971fff63846040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b158015612cc857600080fd5b505af1158015612cdc573d6000803e3d6000fd5b5050505082600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b505050565b6000612d3161433a565b73ffffffffffffffffffffffffffffffffffffffff16638a67f4bf836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b158015612dcb57600080fd5b505af1158015612ddf573d6000803e3d6000fd5b505050506040513d6020811015612df557600080fd5b81019080805190602001909291905050509050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000816001029050919050565b6000612e80826040805190810160405280600981526020017f77686974656c6973740000000000000000000000000000000000000000000000815250610f05565b9050919050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663433b77c7836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015612f2257600080fd5b505af1158015612f36573d6000803e3d6000fd5b505050506040513d6020811015612f4c57600080fd5b81019080805190602001909291905050509050919050565b6000610fff8260019004169050919050565b60008060008060008060006040805190810160405280600e81526020017f63726561746543616d706169676e00000000000000000000000000000000000081525033612ff7816040805190810160405280600981526020017f77686974656c6973740000000000000000000000000000000000000000000000815250610f05565b15156130fd577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70082604051808060200180602001838103835284818151815260200191508051906020019080838360005b83811015613063578082015181840152602081019050613048565b50505050905090810190601f1680156130905780820380516001836020036101000a031916815260200191505b50838103825260388152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f62792057686974656c6973746564204164647265737365730000000000000000815250604001935050505060405180910390a1613666565b61310561416a565b73ffffffffffffffffffffffffffffffffffffffff1663d55bdc5f8e6040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561317b57600080fd5b505af115801561318f573d6000803e3d6000fd5b505050506040513d60208110156131a557600080fd5b810190808051906020019092919050505098506131c061416a565b73ffffffffffffffffffffffffffffffffffffffff1663094fb8648e6040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561323657600080fd5b505af115801561324a573d6000803e3d6000fd5b505050506040513d602081101561326057600080fd5b8101908080519060200190929190505050975061327b61416a565b73ffffffffffffffffffffffffffffffffffffffff1663433b77c78e6040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156132f157600080fd5b505af1158015613305573d6000803e3d6000fd5b505050506040513d602081101561331b57600080fd5b81019080805190602001909291905050509650613338888a613c2c565b9550898610151561334b5789945061334f565b8594505b8489029350838803925061336161433a565b73ffffffffffffffffffffffffffffffffffffffff1663b3d761888833876040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b15801561343757600080fd5b505af115801561344b573d6000803e3d6000fd5b5050505061345761416a565b73ffffffffffffffffffffffffffffffffffffffff1663965acc738e856040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050600060405180830381600087803b1580156134d557600080fd5b505af11580156134e9573d6000803e3d6000fd5b5050505088831015613599576134fd61416a565b73ffffffffffffffffffffffffffffffffffffffff1663745944d58e60006040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083600019166000191681526020018215151515815260200192505050600060405180830381600087803b15801561358057600080fd5b505af1158015613594573d6000803e3d6000fd5b505050505b7f2df836c5b746015b987e2e81b2a20137b0a0da3f2ba067911214278915fe48f38d8d8d8d89604051808660001916600019168152602001856000191660001916815260200180602001848152602001838152602001828103825285818151815260200191508051906020019080838360005b8381101561362757808201518184015260208101905061360c565b50505050905090810190601f1680156136545780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a15b50505050505050505050505050565b6000806000806000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166312e6414e876040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561371657600080fd5b505af115801561372a573d6000803e3d6000fd5b505050506040513d602081101561374057600080fd5b81019080805190602001909291905050509350600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a941ff21876040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156137ec57600080fd5b505af1158015613800573d6000803e3d6000fd5b505050506040513d602081101561381657600080fd5b81019080805190602001909291905050509250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166339384126876040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156138c257600080fd5b505af11580156138d6573d6000803e3d6000fd5b505050506040513d60208110156138ec57600080fd5b810190808051906020019092919050505091506103e84202905081801561391257508084105b801561391d57508083115b945050505050919050565b60008061393483612e87565b91503373ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614806139bc57503373ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16145b15156139c757600080fd5b6139d083613ef3565b9050600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f3fef3a383836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b158015613a9757600080fd5b505af1158015613aab573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663965acc738460006040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050600060405180830381600087803b158015613b5157600080fd5b505af1158015613b65573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663745944d58460006040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083600019166000191681526020018215151515815260200192505050600060405180830381600087803b158015613c0f57600080fd5b505af1158015613c23573d6000803e3d6000fd5b50505050505050565b6000808284811515613c3a57fe5b0490508091505092915050565b60006040805190810160405280601781526020017f616464416464726573736573546f57686974656c6973740000000000000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515613dd5577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b83811015613d3b578082015181840152602081019050613d20565b50505050905090810190601f168015613d685780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a1613e11565b600091505b8251821015613e1057613e038383815181101515613df457fe5b90602001906020020151612444565b8180600101925050613dda565b5b505050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166312e6414e836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015613eb157600080fd5b505af1158015613ec5573d6000803e3d6000fd5b505050506040513d6020811015613edb57600080fd5b81019080805190602001909291905050509050919050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663094fb864836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015613f8e57600080fd5b505af1158015613fa2573d6000803e3d6000fd5b505050506040513d6020811015613fb857600080fd5b81019080805190602001909291905050509050919050565b6040805190810160405280601181526020017f7472616e736665724f776e6572736869700000000000000000000000000000008152506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561415c577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b70081604051808060200180602001838103835284818151815260200191508051906020019080838360005b838110156140c25780820151818401526020810190506140a7565b50505050905090810190601f1680156140ef5780820380516001836020036101000a031916815260200191505b50838103825260318152602001807f4f7065726174696f6e2063616e206f6e6c7920626520706572666f726d65642081526020017f627920636f6e7472616374206f776e6572000000000000000000000000000000815250604001935050505060405180910390a1614166565b6141658261499d565b5b5050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b61419e82826141ad565b15156141a957600080fd5b5050565b60008260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b614283826007836040518082805190602001908083835b602083101515614242578051825260208201915060208101905060208303925061421d565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020614b5d90919063ffffffff16565b8173ffffffffffffffffffffffffffffffffffffffff167fd211483f91fc6eff862467f8de606587a30c8fc9981056f051b897a418df803a826040518080602001828103825283818151815260200191508051906020019080838360005b838110156142fc5780820151818401526020810190506142e1565b50505050905090810190601f1680156143295780820380516001836020036101000a031916815260200191505b509250505060405180910390a25050565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6143e1826007836040518082805190602001908083835b6020831015156143a0578051825260208201915060208101905060208303925061437b565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020614bbb90919063ffffffff16565b8173ffffffffffffffffffffffffffffffffffffffff167fbfec83d64eaa953f2708271a023ab9ee82057f8f3578d548c1a4ba0b5b700489826040518080602001828103825283818151815260200191508051906020019080838360005b8381101561445a57808201518184015260208101905061443f565b50505050905090810190601f1680156144875780820380516001836020036101000a031916815260200191505b509250505060405180910390a25050565b6144a0614c19565b60006144aa614c19565b8686101515156144b957600080fd5b8484101515156144c857600080fd5b85600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e33306040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b1580156145ba57600080fd5b505af11580156145ce573d6000803e3d6000fd5b505050506040513d60208110156145e457600080fd5b81019080805190602001909291905050501015156148e257600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd33600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16896040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b15801561471757600080fd5b505af115801561472b573d6000803e3d6000fd5b505050506040513d602081101561474157600080fd5b810190808051906020019092919050505050600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635b86f59933886040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b15801561481857600080fd5b505af115801561482c573d6000803e3d6000fd5b5050505061483b600654612f64565b915061484c82600101925082612e32565b6006816000191690555086816020018181525050848160600181815250508381608001818152505085816040018181525050338160c0019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505060018160a001901515908115158152505060065481600001906000191690816000191681525050614984565b7fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b7006040518080602001806020018381038352600e8152602001807f63726561746543616d706169676e000000000000000000000000000000000000815250602001838103825260148152602001807f4e6f7420656e6f75676820616c6c6f77616e63650000000000000000000000008152506020019250505060405180910390a15b8092505050979650505050505050565b60006005905090565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415614a9e577fac283f5b35fa78f7f5e8923cb5db86b4c10c166580c43bb59f1d1d9ae108b700604051808060200180602001838103835260118152602001807f7472616e736665724f776e657273686970000000000000000000000000000000815250602001838103825260328152602001807f4e6577206f776e657227732061646472657373206e6565647320746f2062652081526020017f646966666572656e74207468616e2030783000000000000000000000000000008152506040019250505060405180910390a1614b5a565b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b50565b60008260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60e0604051908101604052806000801916815260200160008152602001600081526020016000815260200160008152602001600015158152602001600073ffffffffffffffffffffffffffffffffffffffff1681525090565b5080546000825590600052602060002090810190614c909190614c93565b50565b614cb591905b80821115614cb1576000816000905550600101614c99565b5090565b905600a165627a7a723058201fab42602ba90fb2498a5911386b2b34dce7562d8ac9cefae214186d824a4a2800290000000000000000000000001a7a8bd9106f2b8d977e08582dc7d24c723ab0db000000000000000000000000c18dac9b511bd8f99f5effd7a0d18152f965c39300000000000000000000000063fe92c3817baea5b3e32e416ce2f1aac66f4a8d",
  "constructorArguments": "0000000000000000000000001a7a8bd9106f2b8d977e08582dc7d24c723ab0db000000000000000000000000c18dac9b511bd8f99f5effd7a0d18152f965c39300000000000000000000000063fe92c3817baea5b3e32e416ce2f1aac66f4a8d"
}