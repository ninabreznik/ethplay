{
  "address": "0x0b12cf7964731f7190b74600fcdad9ba4cac870c",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "BZRxTokenSale",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-10-08\n*/\n\n/**\n * Copyright 2017â€“2018, bZeroX, LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0.\n */\n\npragma solidity 0.4.24;\n\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that throw on error\n */\nlibrary SafeMath {\n\n  /**\n  * @dev Multiplies two numbers, throws on overflow.\n  */\n  function mul(uint256 _a, uint256 _b) internal pure returns (uint256 c) {\n    // Gas optimization: this is cheaper than asserting 'a' not being zero, but the\n    // benefit is lost if 'b' is also tested.\n    // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n    if (_a == 0) {\n      return 0;\n    }\n\n    c = _a * _b;\n    assert(c / _a == _b);\n    return c;\n  }\n\n  /**\n  * @dev Integer division of two numbers, truncating the quotient.\n  */\n  function div(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    // assert(_b > 0); // Solidity automatically throws when dividing by 0\n    // uint256 c = _a / _b;\n    // assert(_a == _b * c + _a % _b); // There is no case in which this doesn't hold\n    return _a / _b;\n  }\n\n  /**\n  * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n  */\n  function sub(uint256 _a, uint256 _b) internal pure returns (uint256) {\n    assert(_b <= _a);\n    return _a - _b;\n  }\n\n  /**\n  * @dev Adds two numbers, throws on overflow.\n  */\n  function add(uint256 _a, uint256 _b) internal pure returns (uint256 c) {\n    c = _a + _b;\n    assert(c >= _a);\n    return c;\n  }\n}\n\n/**\n * @title Ownable\n * @dev The Ownable contract has an owner address, and provides basic authorization control\n * functions, this simplifies the implementation of \"user permissions\".\n */\ncontract Ownable {\n  address public owner;\n\n\n  event OwnershipRenounced(address indexed previousOwner);\n  event OwnershipTransferred(\n    address indexed previousOwner,\n    address indexed newOwner\n  );\n\n\n  /**\n   * @dev The Ownable constructor sets the original `owner` of the contract to the sender\n   * account.\n   */\n  constructor() public {\n    owner = msg.sender;\n  }\n\n  /**\n   * @dev Throws if called by any account other than the owner.\n   */\n  modifier onlyOwner() {\n    require(msg.sender == owner);\n    _;\n  }\n\n  /**\n   * @dev Allows the current owner to relinquish control of the contract.\n   * @notice Renouncing to ownership will leave the contract without an owner.\n   * It will not be possible to call the functions with the `onlyOwner`\n   * modifier anymore.\n   */\n  function renounceOwnership() public onlyOwner {\n    emit OwnershipRenounced(owner);\n    owner = address(0);\n  }\n\n  /**\n   * @dev Allows the current owner to transfer control of the contract to a newOwner.\n   * @param _newOwner The address to transfer ownership to.\n   */\n  function transferOwnership(address _newOwner) public onlyOwner {\n    _transferOwnership(_newOwner);\n  }\n\n  /**\n   * @dev Transfers control of the contract to a newOwner.\n   * @param _newOwner The address to transfer ownership to.\n   */\n  function _transferOwnership(address _newOwner) internal {\n    require(_newOwner != address(0));\n    emit OwnershipTransferred(owner, _newOwner);\n    owner = _newOwner;\n  }\n}\n\n/**\n * @title ERC20Basic\n * @dev Simpler version of ERC20 interface\n * See https://github.com/ethereum/EIPs/issues/179\n */\ncontract ERC20Basic {\n  function totalSupply() public view returns (uint256);\n  function balanceOf(address _who) public view returns (uint256);\n  function transfer(address _to, uint256 _value) public returns (bool);\n  event Transfer(address indexed from, address indexed to, uint256 value);\n}\n\n/**\n * @title ERC20 interface\n * @dev see https://github.com/ethereum/EIPs/issues/20\n */\ncontract ERC20 is ERC20Basic {\n  function allowance(address _owner, address _spender)\n    public view returns (uint256);\n\n  function transferFrom(address _from, address _to, uint256 _value)\n    public returns (bool);\n\n  function approve(address _spender, uint256 _value) public returns (bool);\n  event Approval(\n    address indexed owner,\n    address indexed spender,\n    uint256 value\n  );\n}\n\n/**\n * @title DetailedERC20 token\n * @dev The decimals are only for visualization purposes.\n * All the operations are done using the smallest and indivisible token unit,\n * just as on Ethereum all the operations are done in wei.\n */\ncontract DetailedERC20 is ERC20 {\n  string public name;\n  string public symbol;\n  uint8 public decimals;\n\n  constructor(string _name, string _symbol, uint8 _decimals) public {\n    name = _name;\n    symbol = _symbol;\n    decimals = _decimals;\n  }\n}\n\n/**\n * @title Basic token\n * @dev Basic version of StandardToken, with no allowances.\n */\ncontract BasicToken is ERC20Basic {\n  using SafeMath for uint256;\n\n  mapping(address => uint256) internal balances;\n\n  uint256 internal totalSupply_;\n\n  /**\n  * @dev Total number of tokens in existence\n  */\n  function totalSupply() public view returns (uint256) {\n    return totalSupply_;\n  }\n\n  /**\n  * @dev Transfer token for a specified address\n  * @param _to The address to transfer to.\n  * @param _value The amount to be transferred.\n  */\n  function transfer(address _to, uint256 _value) public returns (bool) {\n    require(_value <= balances[msg.sender]);\n    require(_to != address(0));\n\n    balances[msg.sender] = balances[msg.sender].sub(_value);\n    balances[_to] = balances[_to].add(_value);\n    emit Transfer(msg.sender, _to, _value);\n    return true;\n  }\n\n  /**\n  * @dev Gets the balance of the specified address.\n  * @param _owner The address to query the the balance of.\n  * @return An uint256 representing the amount owned by the passed address.\n  */\n  function balanceOf(address _owner) public view returns (uint256) {\n    return balances[_owner];\n  }\n\n}\n\n/**\n * @title Standard ERC20 token\n *\n * @dev Implementation of the basic standard token.\n * https://github.com/ethereum/EIPs/issues/20\n * Based on code by FirstBlood: https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol\n */\ncontract StandardToken is ERC20, BasicToken {\n\n  mapping (address => mapping (address => uint256)) internal allowed;\n\n\n  /**\n   * @dev Transfer tokens from one address to another\n   * @param _from address The address which you want to send tokens from\n   * @param _to address The address which you want to transfer to\n   * @param _value uint256 the amount of tokens to be transferred\n   */\n  function transferFrom(\n    address _from,\n    address _to,\n    uint256 _value\n  )\n    public\n    returns (bool)\n  {\n    require(_value <= balances[_from]);\n    require(_value <= allowed[_from][msg.sender]);\n    require(_to != address(0));\n\n    balances[_from] = balances[_from].sub(_value);\n    balances[_to] = balances[_to].add(_value);\n    allowed[_from][msg.sender] = allowed[_from][msg.sender].sub(_value);\n    emit Transfer(_from, _to, _value);\n    return true;\n  }\n\n  /**\n   * @dev Approve the passed address to spend the specified amount of tokens on behalf of msg.sender.\n   * Beware that changing an allowance with this method brings the risk that someone may use both the old\n   * and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this\n   * race condition is to first reduce the spender's allowance to 0 and set the desired value afterwards:\n   * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n   * @param _spender The address which will spend the funds.\n   * @param _value The amount of tokens to be spent.\n   */\n  function approve(address _spender, uint256 _value) public returns (bool) {\n    allowed[msg.sender][_spender] = _value;\n    emit Approval(msg.sender, _spender, _value);\n    return true;\n  }\n\n  /**\n   * @dev Function to check the amount of tokens that an owner allowed to a spender.\n   * @param _owner address The address which owns the funds.\n   * @param _spender address The address which will spend the funds.\n   * @return A uint256 specifying the amount of tokens still available for the spender.\n   */\n  function allowance(\n    address _owner,\n    address _spender\n   )\n    public\n    view\n    returns (uint256)\n  {\n    return allowed[_owner][_spender];\n  }\n\n  /**\n   * @dev Increase the amount of tokens that an owner allowed to a spender.\n   * approve should be called when allowed[_spender] == 0. To increment\n   * allowed value is better to use this function to avoid 2 calls (and wait until\n   * the first transaction is mined)\n   * From MonolithDAO Token.sol\n   * @param _spender The address which will spend the funds.\n   * @param _addedValue The amount of tokens to increase the allowance by.\n   */\n  function increaseApproval(\n    address _spender,\n    uint256 _addedValue\n  )\n    public\n    returns (bool)\n  {\n    allowed[msg.sender][_spender] = (\n      allowed[msg.sender][_spender].add(_addedValue));\n    emit Approval(msg.sender, _spender, allowed[msg.sender][_spender]);\n    return true;\n  }\n\n  /**\n   * @dev Decrease the amount of tokens that an owner allowed to a spender.\n   * approve should be called when allowed[_spender] == 0. To decrement\n   * allowed value is better to use this function to avoid 2 calls (and wait until\n   * the first transaction is mined)\n   * From MonolithDAO Token.sol\n   * @param _spender The address which will spend the funds.\n   * @param _subtractedValue The amount of tokens to decrease the allowance by.\n   */\n  function decreaseApproval(\n    address _spender,\n    uint256 _subtractedValue\n  )\n    public\n    returns (bool)\n  {\n    uint256 oldValue = allowed[msg.sender][_spender];\n    if (_subtractedValue >= oldValue) {\n      allowed[msg.sender][_spender] = 0;\n    } else {\n      allowed[msg.sender][_spender] = oldValue.sub(_subtractedValue);\n    }\n    emit Approval(msg.sender, _spender, allowed[msg.sender][_spender]);\n    return true;\n  }\n\n}\n\ncontract UnlimitedAllowanceToken is StandardToken {\n\n    uint internal constant MAX_UINT = 2**256 - 1;\n    \n    /// @dev ERC20 transferFrom, modified such that an allowance of MAX_UINT represents an unlimited allowance, and to add revert reasons.\n    /// @param _from Address to transfer from.\n    /// @param _to Address to transfer to.\n    /// @param _value Amount to transfer.\n    /// @return Success of transfer.\n    function transferFrom(\n        address _from,\n        address _to,\n        uint256 _value)\n        public\n        returns (bool)\n    {\n        uint allowance = allowed[_from][msg.sender];\n        require(_value <= balances[_from], \"insufficient balance\");\n        require(_value <= allowance, \"insufficient allowance\");\n        require(_to != address(0), \"token burn not allowed\");\n\n        balances[_from] = balances[_from].sub(_value);\n        balances[_to] = balances[_to].add(_value);\n        if (allowance < MAX_UINT) {\n            allowed[_from][msg.sender] = allowance.sub(_value);\n        }\n        emit Transfer(_from, _to, _value);\n        return true;\n    }\n\n    /// @dev Transfer token for a specified address, modified to add revert reasons.\n    /// @param _to The address to transfer to.\n    /// @param _value The amount to be transferred.\n    function transfer(\n        address _to,\n        uint256 _value)\n        public \n        returns (bool)\n    {\n        require(_value <= balances[msg.sender], \"insufficient balance\");\n        require(_to != address(0), \"token burn not allowed\");\n\n        balances[msg.sender] = balances[msg.sender].sub(_value);\n        balances[_to] = balances[_to].add(_value);\n        emit Transfer(msg.sender, _to, _value);\n        return true;\n    }\n}\n\ncontract BZRxToken is UnlimitedAllowanceToken, DetailedERC20, Ownable {\n\n    event Mint(address indexed to, uint256 amount);\n    event MintFinished();\n    event LockingFinished();\n\n    bool public mintingFinished = false;\n    bool public lockingFinished = false;\n\n    mapping (address => bool) public minters;\n\n    modifier canMint() {\n        require(!mintingFinished);\n        _;\n    }\n\n    modifier hasMintPermission() {\n        require(minters[msg.sender]);\n        _;\n    }\n\n    modifier isLocked() {\n        require(!lockingFinished);\n        _;\n    }\n\n    constructor()\n        public\n        DetailedERC20(\n            \"bZx Protocol Token\",\n            \"BZRX\", \n            18\n        )\n    {\n        minters[msg.sender] = true;\n    }\n\n    /// @dev ERC20 transferFrom function\n    /// @param _from Address to transfer from.\n    /// @param _to Address to transfer to.\n    /// @param _value Amount to transfer.\n    /// @return Success of transfer.\n    function transferFrom(\n        address _from,\n        address _to,\n        uint256 _value)\n        public\n        returns (bool)\n    {\n        if (lockingFinished || minters[msg.sender]) {\n            return super.transferFrom(\n                _from,\n                _to,\n                _value\n            );\n        }\n\n        revert(\"this token is locked for transfers\");\n    }\n\n    /// @dev ERC20 transfer function\n    /// @param _to Address to transfer to.\n    /// @param _value Amount to transfer.\n    /// @return Success of transfer.\n    function transfer(\n        address _to, \n        uint256 _value) \n        public \n        returns (bool)\n    {\n        if (lockingFinished || minters[msg.sender]) {\n            return super.transfer(\n                _to,\n                _value\n            );\n        }\n\n        revert(\"this token is locked for transfers\");\n    }\n\n    /// @dev Allows minter to initiate a transfer on behalf of another spender\n    /// @param _spender Minter with permission to spend.\n    /// @param _from Address to transfer from.\n    /// @param _to Address to transfer to.\n    /// @param _value Amount to transfer.\n    /// @return Success of transfer.\n    function minterTransferFrom(\n        address _spender,\n        address _from,\n        address _to,\n        uint256 _value)\n        public\n        hasMintPermission\n        canMint\n        returns (bool)\n    {\n        require(canTransfer(\n            _spender,\n            _from,\n            _value),\n            \"canTransfer is false\");\n\n        require(_to != address(0), \"token burn not allowed\");\n\n        uint allowance = allowed[_from][_spender];\n        balances[_from] = balances[_from].sub(_value);\n        balances[_to] = balances[_to].add(_value);\n        if (allowance < MAX_UINT) {\n            allowed[_from][_spender] = allowance.sub(_value);\n        }\n        emit Transfer(_from, _to, _value);\n        return true;\n    }\n\n    /**\n    * @dev Function to mint tokens\n    * @param _to The address that will receive the minted tokens.\n    * @param _amount The amount of tokens to mint.\n    * @return A boolean that indicates if the operation was successful.\n    */\n    function mint(\n        address _to,\n        uint256 _amount)\n        public\n        hasMintPermission\n        canMint\n        returns (bool)\n    {\n        require(_to != address(0), \"token burn not allowed\");\n        totalSupply_ = totalSupply_.add(_amount);\n        balances[_to] = balances[_to].add(_amount);\n        emit Mint(_to, _amount);\n        emit Transfer(address(0), _to, _amount);\n        return true;\n    }\n\n    /**\n    * @dev Function to stop minting new tokens.\n    * @return True if the operation was successful.\n    */\n    function finishMinting() \n        public \n        onlyOwner \n        canMint \n    {\n        mintingFinished = true;\n        emit MintFinished();\n    }\n\n    /**\n    * @dev Function to stop locking token.\n    * @return True if the operation was successful.\n    */\n    function finishLocking() \n        public \n        onlyOwner \n        isLocked \n    {\n        lockingFinished = true;\n        emit LockingFinished();\n    }\n\n    /**\n    * @dev Function to add minter address.\n    * @return True if the operation was successful.\n    */\n    function addMinter(\n        address _minter) \n        public \n        onlyOwner \n        canMint \n    {\n        minters[_minter] = true;\n    }\n\n    /**\n    * @dev Function to remove minter address.\n    * @return True if the operation was successful.\n    */\n    function removeMinter(\n        address _minter) \n        public \n        onlyOwner \n        canMint \n    {\n        minters[_minter] = false;\n    }\n\n    /**\n    * @dev Function to check balance and allowance for a spender.\n    * @return True transfer will succeed based on balance and allowance.\n    */\n    function canTransfer(\n        address _spender,\n        address _from,\n        uint256 _value)\n        public\n        view\n        returns (bool)\n    {\n        return (\n            balances[_from] >= _value && \n            (_spender == _from || allowed[_from][_spender] >= _value)\n        );\n    }\n}\n\ninterface WETHInterface {\n    function deposit() external payable;\n    function withdraw(uint wad) external;\n}\n\ncontract BZRxTokenSale is Ownable {\n    using SafeMath for uint256;\n\n    uint public constant tokenPrice = 73 * 10**12; // 0.000073 ETH\n\n    struct TokenPurchases {\n        uint totalETH;\n        uint totalTokens;\n        uint totalTokenBonus;\n    }\n\n    event BonusChanged(uint oldBonus, uint newBonus);\n    event TokenPurchase(address indexed buyer, uint ethAmount, uint tokensReceived);\n    \n    event SaleOpened(uint bonusMultiplier);\n    event SaleClosed(uint bonusMultiplier);\n    \n    bool public saleClosed = true;\n\n    address public bZRxTokenContractAddress;    // BZRX Token\n    address public bZxVaultAddress;             // bZx Vault\n    address public wethContractAddress;         // WETH Token\n\n    // The current token bonus offered to purchasers (example: 110 == 10% bonus)\n    uint public bonusMultiplier;\n\n    uint public ethRaised;\n\n    address[] public purchasers;\n    mapping (address => TokenPurchases) public purchases;\n\n    bool public whitelistEnforced = false;\n    mapping (address => uint) public whitelist;\n\n    modifier saleOpen() {\n        require(!saleClosed, \"sale is closed\");\n        _;\n    }\n\n    modifier whitelisted(address user, uint value) {\n        require(canPurchaseAmount(user, value), \"not whitelisted\");\n        _;\n    }\n\n    constructor(\n        address _bZRxTokenContractAddress,\n        address _bZxVaultAddress,\n        address _wethContractAddress,\n        uint _bonusMultiplier,\n        uint _previousAmountRaised)\n        public\n    {\n        require(_bonusMultiplier > 100);\n        \n        bZRxTokenContractAddress = _bZRxTokenContractAddress;\n        bZxVaultAddress = _bZxVaultAddress;\n        wethContractAddress = _wethContractAddress;\n        bonusMultiplier = _bonusMultiplier;\n        ethRaised = _previousAmountRaised;\n    }\n\n    function()  \n        public\n        payable \n    {\n        if (msg.sender != wethContractAddress && msg.sender != owner)\n            buyToken();\n    }\n\n    function buyToken()\n        public\n        payable \n        saleOpen\n        whitelisted(msg.sender, msg.value)\n        returns (bool)\n    {\n        require(msg.value > 0, \"no ether sent\");\n        \n        ethRaised += msg.value;\n\n        uint tokenAmount = msg.value                        // amount of ETH sent\n                            .mul(10**18).div(tokenPrice);   // fixed ETH price per token (0.000073 ETH)\n\n        uint tokenAmountAndBonus = tokenAmount\n                                        .mul(bonusMultiplier).div(100);\n\n        TokenPurchases storage purchase = purchases[msg.sender];\n        \n        if (purchase.totalETH == 0) {\n            purchasers.push(msg.sender);\n        }\n        \n        purchase.totalETH += msg.value;\n        purchase.totalTokens += tokenAmountAndBonus;\n        purchase.totalTokenBonus += tokenAmountAndBonus.sub(tokenAmount);\n\n        emit TokenPurchase(msg.sender, msg.value, tokenAmountAndBonus);\n\n        return BZRxToken(bZRxTokenContractAddress).mint(\n            msg.sender,\n            tokenAmountAndBonus\n        );\n    }\n\n    // conforms to ERC20 transferFrom function for BZRX token support\n    function transferFrom(\n        address _from,\n        address _to,\n        uint256 _value)\n        public\n        saleOpen\n        returns (bool)\n    {\n        require(msg.sender == bZxVaultAddress, \"only the bZx vault can call this function\");\n        \n        if (BZRxToken(bZRxTokenContractAddress).canTransfer(msg.sender, _from, _value)) {\n            return BZRxToken(bZRxTokenContractAddress).minterTransferFrom(\n                msg.sender,\n                _from,\n                _to,\n                _value\n            );\n        } else {\n            uint wethValue = _value                             // amount of BZRX\n                                .mul(tokenPrice).div(10**18);   // fixed ETH price per token (0.000073 ETH)\n\n            require(canPurchaseAmount(_from, wethValue), \"not whitelisted\");\n\n            require(StandardToken(wethContractAddress).transferFrom(\n                _from,\n                this,\n                wethValue\n            ), \"weth transfer failed\");\n\n            ethRaised += wethValue;\n\n            TokenPurchases storage purchase = purchases[_from];\n\n            if (purchase.totalETH == 0) {\n                purchasers.push(_from);\n            }\n\n            purchase.totalETH += wethValue;\n            purchase.totalTokens += _value;\n\n            return BZRxToken(bZRxTokenContractAddress).mint(\n                _to,\n                _value\n            );\n        }\n    }\n\n    /**\n    * @dev Function to close the token sale for this contract.\n    * @return True if the operation was successful.\n    */\n    function closeSale(\n        bool _closed) \n        public \n        onlyOwner \n        returns (bool)\n    {\n        saleClosed = _closed;\n\n        if (_closed)\n            emit SaleClosed(bonusMultiplier);\n        else\n            emit SaleOpened(bonusMultiplier);\n\n        return true;\n    }\n\n    function changeBZRxTokenContract(\n        address _bZRxTokenContractAddress) \n        public \n        onlyOwner \n        returns (bool)\n    {\n        bZRxTokenContractAddress = _bZRxTokenContractAddress;\n        return true;\n    }\n\n    function changeBZxVault(\n        address _bZxVaultAddress) \n        public \n        onlyOwner \n        returns (bool)\n    {\n        bZxVaultAddress = _bZxVaultAddress;\n        return true;\n    }\n\n    function changeWethContract(\n        address _wethContractAddress) \n        public \n        onlyOwner \n        returns (bool)\n    {\n        wethContractAddress = _wethContractAddress;\n        return true;\n    }\n\n    function changeBonusMultiplier(\n        uint _newBonusMultiplier) \n        public \n        onlyOwner \n        returns (bool)\n    {\n        require(bonusMultiplier != _newBonusMultiplier && _newBonusMultiplier > 100);\n        emit BonusChanged(bonusMultiplier, _newBonusMultiplier);\n        bonusMultiplier = _newBonusMultiplier;\n        return true;\n    }\n\n    function unwrapEth() \n        public \n        onlyOwner \n        returns (bool)\n    {\n        uint balance = StandardToken(wethContractAddress).balanceOf.gas(4999)(this);\n        if (balance == 0)\n            return false;\n\n        WETHInterface(wethContractAddress).withdraw(balance);\n        return true;\n    }\n\n    function transferEther(\n        address _to,\n        uint _value)\n        public\n        onlyOwner\n        returns (bool)\n    {\n        uint amount = _value;\n        if (amount > address(this).balance) {\n            amount = address(this).balance;\n        }\n\n        return (_to.send(amount));\n    }\n\n    function transferToken(\n        address _tokenAddress,\n        address _to,\n        uint _value)\n        public\n        onlyOwner\n        returns (bool)\n    {\n        uint balance = StandardToken(_tokenAddress).balanceOf.gas(4999)(this);\n        if (_value > balance) {\n            return StandardToken(_tokenAddress).transfer(\n                _to,\n                balance\n            );\n        } else {\n            return StandardToken(_tokenAddress).transfer(\n                _to,\n                _value\n            );\n        }\n    }\n\n    function enforceWhitelist(\n        bool _isEnforced) \n        public \n        onlyOwner \n        returns (bool)\n    {\n        whitelistEnforced = _isEnforced;\n\n        return true;\n    }\n\n    function setWhitelist(\n        address[] _users,\n        uint[] _values) \n        public \n        onlyOwner \n        returns (bool)\n    {\n        require(_users.length == _values.length, \"users and values count mismatch\");\n        \n        for (uint i=0; i < _users.length; i++) {\n            whitelist[_users[i]] = _values[i];\n        }\n\n        return true;\n    }\n\n\n    function canPurchaseAmount(\n        address _user,\n        uint _value)\n        public\n        view\n        returns (bool)\n    {\n        if (!whitelistEnforced || (whitelist[_user] > 0 && purchases[_user].totalETH.add(_value) <= whitelist[_user])) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}",
  "bytecode": "60806040526000805460a060020a60ff021916740100000000000000000000000000000000000000001790556008805460ff1916905534801561004157600080fd5b5060405160a0806116fb8339810160409081528151602083015191830151606084015160809094015160008054600160a060020a03191633179055919390916064821161008d57600080fd5b60018054600160a060020a0319908116600160a060020a039788161790915560028054821695871695909517909455600380549094169290941691909117909155600455600555611618806100e36000396000f3006080604052600436106101455763ffffffff60e060020a60003504166305b1137b811461017c578063117f8684146101b457806312923b65146101d5578063142d239a14610209578063173a21f81461022d57806323b872dd1461024e5780632aa19768146102785780632ef9b5a71461028d578063391714f8146102a557806359f69ab6146102bf57806360b4eb98146102d9578063715018a6146102ee5780637ff9b59614610303578063842a77d31461032a57806389f91ece146103695780638da5cb5b1461037e5780639b19251a14610393578063a4821719146103b4578063a7d9a692146103bc578063a8b973a1146103d1578063b21c2a68146103e6578063b8c766b814610407578063eafde28c1461041c578063f013e0e114610431578063f2fde38b146104bf578063f5537ede146104e0578063fddf0fc01461050a575b600354600160a060020a0316331480159061016b5750600054600160a060020a03163314155b1561017a5761017861051f565b505b005b34801561018857600080fd5b506101a0600160a060020a0360043516602435610811565b604080519115158252519081900360200190f35b3480156101c057600080fd5b506101a0600160a060020a0360043516610866565b3480156101e157600080fd5b506101ed6004356108a3565b60408051600160a060020a039092168252519081900360200190f35b34801561021557600080fd5b506101a0600160a060020a03600435166024356108cb565b34801561023957600080fd5b506101a0600160a060020a036004351661094b565b34801561025a57600080fd5b506101a0600160a060020a0360043581169060243516604435610988565b34801561028457600080fd5b506101ed610e55565b34801561029957600080fd5b506101a0600435610e64565b3480156102b157600080fd5b506101a06004351515610edf565b3480156102cb57600080fd5b506101a06004351515610fb3565b3480156102e557600080fd5b506101ed610fe2565b3480156102fa57600080fd5b5061017a610ff1565b34801561030f57600080fd5b50610318611050565b60408051918252519081900360200190f35b34801561033657600080fd5b5061034b600160a060020a036004351661105a565b60408051938452602084019290925282820152519081900360600190f35b34801561037557600080fd5b506101a061107b565b34801561038a57600080fd5b506101ed611084565b34801561039f57600080fd5b50610318600160a060020a0360043516611093565b6101a061051f565b3480156103c857600080fd5b506101ed6110a5565b3480156103dd57600080fd5b506103186110b4565b3480156103f257600080fd5b506101a0600160a060020a03600435166110ba565b34801561041357600080fd5b506101a06110f5565b34801561042857600080fd5b506101a0611116565b34801561043d57600080fd5b50604080516020600480358082013583810280860185019096528085526101a095369593946024949385019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a99890198929750908201955093508392508501908490808284375094975061125f9650505050505050565b3480156104cb57600080fd5b5061017a600160a060020a036004351661133e565b3480156104ec57600080fd5b506101a0600160a060020a0360043581169060243516604435611361565b34801561051657600080fd5b50610318611519565b6000805481908190819074010000000000000000000000000000000000000000900460ff1615610599576040805160e560020a62461bcd02815260206004820152600e60248201527f73616c6520697320636c6f736564000000000000000000000000000000000000604482015290519081900360640190fd5b33346105a582826108cb565b15156105fb576040805160e560020a62461bcd02815260206004820152600f60248201527f6e6f742077686974656c69737465640000000000000000000000000000000000604482015290519081900360640190fd5b60003411610653576040805160e560020a62461bcd02815260206004820152600d60248201527f6e6f2065746865722073656e7400000000000000000000000000000000000000604482015290519081900360640190fd5b600580543490810190915561068e90654264a31190009061068290670de0b6b3a764000063ffffffff61151f16565b9063ffffffff61154816565b94506106aa60646106826004548861151f90919063ffffffff16565b33600090815260076020526040902080549195509350151561070957600680546001810182556000919091527ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f018054600160a060020a031916331790555b82543401835560018301805485019055610729848663ffffffff61155d16565b60028401805490910190556040805134815260208101869052815133927fcd60aa75dea3072fbc07ae6d7d856b5dc5f4eee88854f5b4abf7b680ef8bc50f928290030190a2600154604080517f40c10f19000000000000000000000000000000000000000000000000000000008152336004820152602481018790529051600160a060020a03909216916340c10f19916044808201926020929091908290030181600087803b1580156107db57600080fd5b505af11580156107ef573d6000803e3d6000fd5b505050506040513d602081101561080557600080fd5b50519550505050505090565b600080548190600160a060020a0316331461082b57600080fd5b5081303181111561083a575030315b604051600160a060020a0385169082156108fc029083906000818181858888f198975050505050505050565b60008054600160a060020a0316331461087e57600080fd5b5060028054600160a060020a038316600160a060020a03199091161790556001919050565b60068054829081106108b157fe5b600091825260209091200154600160a060020a0316905081565b60085460009060ff1615806109345750600160a060020a0383166000908152600960205260408120541180156109345750600160a060020a038316600090815260096020908152604080832054600790925290912054610931908463ffffffff61156f16565b11155b1561094157506001610945565b5060005b92915050565b60008054600160a060020a0316331461096357600080fd5b5060038054600160a060020a038316600160a060020a03199091161790556001919050565b600080548190819074010000000000000000000000000000000000000000900460ff1615610a00576040805160e560020a62461bcd02815260206004820152600e60248201527f73616c6520697320636c6f736564000000000000000000000000000000000000604482015290519081900360640190fd5b600254600160a060020a03163314610a88576040805160e560020a62461bcd02815260206004820152602960248201527f6f6e6c792074686520625a78207661756c742063616e2063616c6c207468697360448201527f2066756e6374696f6e0000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600154604080517fe46638e6000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a038981166024830152604482018890529151919092169163e46638e69160648083019260209291908290030181600087803b158015610afd57600080fd5b505af1158015610b11573d6000803e3d6000fd5b505050506040513d6020811015610b2757600080fd5b505115610bde57600154604080517f89f1c26e000000000000000000000000000000000000000000000000000000008152336004820152600160a060020a038981166024830152888116604483015260648201889052915191909216916389f1c26e9160848083019260209291908290030181600087803b158015610bab57600080fd5b505af1158015610bbf573d6000803e3d6000fd5b505050506040513d6020811015610bd557600080fd5b50519250610e4c565b610c00670de0b6b3a764000061068286654264a311900063ffffffff61151f16565b9150610c0c86836108cb565b1515610c62576040805160e560020a62461bcd02815260206004820152600f60248201527f6e6f742077686974656c69737465640000000000000000000000000000000000604482015290519081900360640190fd5b600354604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a03898116600483015230602483015260448201869052915191909216916323b872dd9160648083019260209291908290030181600087803b158015610cd757600080fd5b505af1158015610ceb573d6000803e3d6000fd5b505050506040513d6020811015610d0157600080fd5b50511515610d59576040805160e560020a62461bcd02815260206004820152601460248201527f77657468207472616e73666572206661696c6564000000000000000000000000604482015290519081900360640190fd5b506005805482019055600160a060020a038516600090815260076020526040902080541515610dce57600680546001810182556000919091527ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f018054600160a060020a031916600160a060020a0388161790555b805482018155600180820180548601905554604080517f40c10f19000000000000000000000000000000000000000000000000000000008152600160a060020a03888116600483015260248201889052915191909216916340c10f199160448083019260209291908290030181600087803b158015610bab57600080fd5b50509392505050565b600154600160a060020a031681565b60008054600160a060020a03163314610e7c57600080fd5b8160045414158015610e8e5750606482115b1515610e9957600080fd5b600454604080519182526020820184905280517f6b0918972c018b0289a2c94926280d9af386ae58b445d47be2c9e29edc064cb19281900390910190a150600455600190565b60008054600160a060020a03163314610ef757600080fd5b6000805483158015740100000000000000000000000000000000000000000274ff00000000000000000000000000000000000000001990921691909117909155610f755760045460408051918252517fcb67f20f64495b30f15524c55f90201dd6571d6b5c19dac183d2aeb25315b2dc9181900360200190a1610fab565b60045460408051918252517f1d43fb703e6eb9b1472bc95a5806edf8d7c700c4cb5c3ab570c7ac1eed12e72e9181900360200190a15b506001919050565b60008054600160a060020a03163314610fcb57600080fd5b506008805460ff1916911515919091179055600190565b600354600160a060020a031681565b600054600160a060020a0316331461100857600080fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a260008054600160a060020a0319169055565b654264a311900081565b60076020526000908152604090208054600182015460029092015490919083565b60085460ff1681565b600054600160a060020a031681565b60096020526000908152604090205481565b600254600160a060020a031681565b60045481565b60008054600160a060020a031633146110d257600080fd5b5060018054600160a060020a038316600160a060020a0319909116178155919050565b60005474010000000000000000000000000000000000000000900460ff1681565b600080548190600160a060020a0316331461113057600080fd5b600354604080517f70a082310000000000000000000000000000000000000000000000000000000081523060048201529051600160a060020a03909216916370a08231916113879160248083019260209291908290030181600088803b15801561119957600080fd5b5087f11580156111ad573d6000803e3d6000fd5b50505050506040513d60208110156111c457600080fd5b505190508015156111d8576000915061125b565b600354604080517f2e1a7d4d000000000000000000000000000000000000000000000000000000008152600481018490529051600160a060020a0390921691632e1a7d4d9160248082019260009290919082900301818387803b15801561123e57600080fd5b505af1158015611252573d6000803e3d6000fd5b50505050600191505b5090565b600080548190600160a060020a0316331461127957600080fd5b82518451146112d2576040805160e560020a62461bcd02815260206004820152601f60248201527f757365727320616e642076616c75657320636f756e74206d69736d6174636800604482015290519081900360640190fd5b5060005b83518110156113345782818151811015156112ed57fe5b9060200190602002015160096000868481518110151561130957fe5b6020908102909101810151600160a060020a03168252810191909152604001600020556001016112d6565b5060019392505050565b600054600160a060020a0316331461135557600080fd5b61135e8161157c565b50565b600080548190600160a060020a0316331461137b57600080fd5b604080517f70a082310000000000000000000000000000000000000000000000000000000081523060048201529051600160a060020a038716916370a0823191611387916024808201926020929091908290030181600088803b1580156113e157600080fd5b5087f11580156113f5573d6000803e3d6000fd5b50505050506040513d602081101561140c57600080fd5b50519050808311156114ae5784600160a060020a031663a9059cbb85836040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b15801561147b57600080fd5b505af115801561148f573d6000803e3d6000fd5b505050506040513d60208110156114a557600080fd5b50519150611511565b84600160a060020a031663a9059cbb85856040518363ffffffff1660e060020a0281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050602060405180830381600087803b15801561147b57600080fd5b509392505050565b60055481565b600082151561153057506000610945565b5081810281838281151561154057fe5b041461094557fe5b6000818381151561155557fe5b049392505050565b60008282111561156957fe5b50900390565b8181018281101561094557fe5b600160a060020a038116151561159157600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a360008054600160a060020a031916600160a060020a03929092169190911790555600a165627a7a72305820b052e9d439bcbc9bd40355f63215f785f9c0533ce8c6d4ccad202ac1e4ee968b00290000000000000000000000001c74cff0376fb4031cd7492cd6db2d66c3f2c6b90000000000000000000000007f9ef329fdc33b35985885f360de2f01d476bd70000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000006e0000000000000000000000000000000000000000000000010e418bd283f50000",
  "constructorArguments": "0000000000000000000000001c74cff0376fb4031cd7492cd6db2d66c3f2c6b90000000000000000000000007f9ef329fdc33b35985885f360de2f01d476bd70000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000006e0000000000000000000000000000000000000000000000010e418bd283f50000"
}