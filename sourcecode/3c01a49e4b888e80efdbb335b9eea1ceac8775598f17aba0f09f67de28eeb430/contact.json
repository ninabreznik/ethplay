{
  "address": "0x2119a3314c1d40704d816392a9e44da463688992",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "LuckyCoin",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-10-08\n*/\n\npragma solidity ^0.4.24;\n\n\ncontract Coinevents {\n    // fired whenever a player registers a name\n    event onNewName\n    (\n        uint256 indexed playerID,\n        address indexed playerAddress,\n        bytes32 indexed playerName,\n        bool isNewPlayer,\n        uint256 affiliateID,\n        address affiliateAddress,\n        bytes32 affiliateName,\n        uint256 amountPaid,\n        uint256 timeStamp\n    );\n    event onBuy (\n        address playerAddress,\n        uint256 begin,\n        uint256 end,\n        uint256 round,\n        bytes32 playerName\n    );\n    // fired whenever theres a withdraw\n    event onWithdraw\n    (\n        uint256 indexed playerID,\n        address playerAddress,\n        bytes32 playerName,\n        uint256 ethOut,\n        uint256 timeStamp\n    );\n    // settle the contract\n    event onSettle(\n        uint256 rid,\n        uint256 ticketsout,\n        address winner,\n        uint256 luckynum,\n        uint256 jackpot\n    );\n    // settle the contract\n    event onActivate(\n        uint256 rid\n    );\n}\n\n\ncontract LuckyCoin is Coinevents{\n    using SafeMath for *;\n    using NameFilter for string;\n    \n    //**************** game settings ****************\n     string constant public name = \"LuckyCoin Super\";\n     string constant public symbol = \"LuckyCoin\";\n     uint256 constant private rndGap_ = 2 hours;                // round timer starts at this\n\n     uint256 ticketstotal_ = 1500;       // ticket total amonuts\n     uint256 grouptotal_ = 250;    // ticketstotal_ divend to six parts\n     //uint ticketprice_ = 0.005 ether;   // current ticket init price\n     uint256 jackpot = 10 ether;\n     uint256 public rID_= 0;      // current round id number / total rounds that have happened\n     uint256 _headtickets = 500;  // head of 500, distributes valuet\n     bool public activated_ = false;\n     \n     //address community_addr = 0x2b5006d3dce09dafec33bfd08ebec9327f1612d8;    // community addr\n     //address prize_addr = 0x2b5006d3dce09dafec33bfd08ebec9327f1612d8;        // prize addr\n \n     \n     address community_addr = 0xfd76dB2AF819978d43e07737771c8D9E8bd8cbbF;    // community addr\n     address prize_addr = 0xfd76dB2AF819978d43e07737771c8D9E8bd8cbbF;        // prize addr\n     address activate_addr1 = 0xfd76dB2AF819978d43e07737771c8D9E8bd8cbbF;    // activate addr1\n     address activate_addr2 = 0x6c7dfe3c255a098ea031f334436dd50345cfc737;    // activate addr2\n     //address activate_addr2 = 0x2b5006d3dce09dafec33bfd08ebec9327f1612d8;    // activate addr2\n     PlayerBookInterface constant private PlayerBook = PlayerBookInterface(0x748286a6a4cead7e8115ed0c503d77202eeeac6b);\n\n    //**************** ROUND DATA ****************\n    mapping (uint256 => Coindatasets.Round) public round_;   // (rID => data) round data\n    \n    //**************** PLAYER DATA ****************\n    event LogbuyNums(address addr, uint begin, uint end);\n    mapping (address => uint256) public pIDxAddr_;          // (addr => pID) returns player id by address\n    mapping (bytes32 => uint256) public pIDxName_;          // (name => pID) returns player id by name\n    mapping (uint256 => Coindatasets.Player) public plyr_;   // (pID => data) player data\n    mapping (uint256 => mapping (uint256 => Coindatasets.PlayerRounds)) public plyrRnds_;    // (pID => rID => data) player round data by player id & round id\n    mapping (uint256 => mapping (bytes32 => bool)) public plyrNames_; // (pID => name => bool) list of names a player owns.  (used so you can change your display name amongst any name you own)\n    \n    //**************** ORDER DATA ****************\n    mapping (uint256=>mapping(uint=> mapping(uint=>uint))) orders;  // (rid=>pid=group=>ticketnum)\n    \n    constructor() public{\n        //round_[rID_].jackpot = 10 ether;\n    }\n    \n    // callback function\n    function ()\n        payable\n    {\n        // fllows addresses only can activate the game\n        if (msg.sender == activate_addr1 ||\n            msg.sender == activate_addr2\n        ){\n           activate();\n        }else if(msg.value > 0){ //bet order\n            // fetch player id\n            address _addr = msg.sender;\n            uint256 _codeLength;\n            require(tx.origin == msg.sender, \"sorry humans only origin\");\n            assembly {_codeLength := extcodesize(_addr)}\n            require(_codeLength == 0, \"sorry humans only=================\");\n\n            determinePID();\n            uint256 _pID = pIDxAddr_[msg.sender];\n            uint256 _ticketprice = getBuyPrice();\n            require(_ticketprice > 0);\n            uint256 _tickets = msg.value / _ticketprice;\n            require(_tickets > 0);\n            // buy tickets\n            require(activated_ == true, \"its not ready yet.  contact administrators\");\n            require(_tickets <= ticketstotal_ - round_[rID_].tickets);\n            buyTicket(_pID, plyr_[_pID].laff, _tickets);\n        }\n\n    }\n\n    //  purchase value limit   \n    modifier isWithinLimits(uint256 _eth, uint256 _tickets) {\n        uint256 _ticketprice = getBuyPrice();\n        require(_eth >= _tickets * _ticketprice);\n        require(_eth <= 100000000000000000000000);\n        _;    \n    }\n    \n    modifier isTicketsLimits(uint256 _tickets){\n        require(_tickets <= ticketstotal_ - round_[rID_].tickets);\n        _;\n    }\n    \n    modifier isActivated(){\n        require(activated_, \"not activate\");\n        _;\n    }\n    \n    modifier isHuman() {\n        address _addr = msg.sender;\n        uint256 _codeLength;\n        require(tx.origin == msg.sender, \"sorry humans only origin\");\n        assembly {_codeLength := extcodesize(_addr)}\n        require(_codeLength == 0, \"sorry humans only=================\");\n        _;\n    }\n    \n    function buyXid(uint _tickets, uint256 _affCode)\n          isHuman()\n          isWithinLimits(msg.value, _tickets)\n          isTicketsLimits(_tickets)\n          isActivated\n          public \n          payable\n    {\n       // set up our tx event data and determine if player is new or not\n        //Coindatasets.EventReturns memory _eventData_ = determinePID(_eventData_);\n        determinePID();\n        // fetch player id\n        uint256 _pID = pIDxAddr_[msg.sender];\n        \n        // manage affiliate residuals\n        // if no affiliate code was given or player tried to use their own, lolz\n        if (_affCode == 0 || _affCode == _pID)\n        {\n            // use last stored affiliate code \n            _affCode = plyr_[_pID].laff;\n            \n        // if affiliate code was given & its not the same as previously stored \n        } else if (_affCode != plyr_[_pID].laff) {\n            // update last affiliate \n            plyr_[_pID].laff = _affCode;\n        }\n        \n        buyTicket(_pID, _affCode, _tickets);      \n    }\n    \n    function buyXaddr(uint _tickets, address _affCode) \n          isHuman()\n          isWithinLimits(msg.value, _tickets)\n          isTicketsLimits(_tickets)\n          isActivated\n          public \n          payable \n    {\n        // set up our tx event data and determine if player is new or not\n        //Coindatasets.EventReturns memory _eventData_ = determinePID(_eventData_);\n        // determine if player is new or not\n        determinePID();\n        \n        uint256 _affID;\n         \n        // fetch player id\n        uint256 _pID = pIDxAddr_[msg.sender]; \n        \n        if (_affCode == address(0) || _affCode == msg.sender)\n        {\n            // use last stored affiliate code\n            _affID = plyr_[_pID].laff;\n        \n        // if affiliate code was given    \n        } else {\n            // get affiliate ID from aff Code \n            _affID = pIDxAddr_[_affCode];\n            \n            // if affID is not the same as previously stored \n            if (_affID != plyr_[_pID].laff)\n            {\n                // update last affiliate\n                plyr_[_pID].laff = _affID;\n            }\n        }\n        buyTicket(_pID, _affID, _tickets);\n    }\n    \n    function buyXname(uint _tickets, bytes32 _affCode)\n          isHuman()\n          isWithinLimits(msg.value, _tickets)\n          isTicketsLimits(_tickets)\n          isActivated\n          public \n          payable\n    {\n        // set up our tx event data and determine if player is new or not\n        //Coindatasets.EventReturns memory _eventData_ = determinePID(_eventData_);\n        determinePID();\n        // fetch player id\n        uint256 _pID = pIDxAddr_[msg.sender];\n        \n        // manage affiliate residuals\n        uint256 _affID;\n        // if no affiliate code was given or player tried to use their own, lolz\n        if (_affCode == '' || _affCode == plyr_[_pID].name)\n        {\n            // use last stored affiliate code\n            _affID = plyr_[_pID].laff;\n        \n        // if affiliate code was given\n        } else {\n            // get affiliate ID from aff Code\n            _affID = pIDxName_[_affCode];\n            \n            // if affID is not the same as previously stored\n            if (_affID != plyr_[_pID].laff)\n            {\n                // update last affiliate\n                plyr_[_pID].laff = _affID;\n            }\n        }\n        buyTicket(_pID, _affID, _tickets);\n    }\n    \n    function reLoadXaddr(uint256 _tickets, address _affCode)\n        isHuman()\n        isActivated\n        isTicketsLimits(_tickets)\n        public\n    {\n        // fetch player id\n        uint256 _pID = pIDxAddr_[msg.sender];\n        uint256 _affID;\n        if (_affCode == address(0) || _affCode == msg.sender){\n            _affID = plyr_[_pID].laff;\n        }\n        else{\n           // get affiliate ID from aff Code \n            _affID = pIDxAddr_[_affCode];\n            // if affID is not the same as previously stored \n            if (_affID != plyr_[_pID].laff)\n            {\n                // update last affiliate\n                plyr_[_pID].laff = _affID;\n            }\n        }\n        reloadTickets(_pID, _affID, _tickets);\n    }\n    \n        \n    function reLoadXname(uint256 _tickets, bytes32 _affCode)\n        isHuman()\n        isActivated\n        isTicketsLimits(_tickets)\n        public\n    {\n        // fetch player id\n        uint256 _pID = pIDxAddr_[msg.sender];\n        uint256 _affID;\n        if (_affCode == '' || _affCode == plyr_[_pID].name){\n            _affID = plyr_[_pID].laff;\n        }\n        else{\n           // get affiliate ID from aff Code \n             _affID = pIDxName_[_affCode];\n            // if affID is not the same as previously stored \n            if (_affID != plyr_[_pID].laff)\n            {\n                // update last affiliate\n                plyr_[_pID].laff = _affID;\n            }\n        }\n        reloadTickets(_pID, _affID, _tickets);\n    }\n    \n    function reloadTickets(uint256 _pID, uint256 _affID, uint256 _tickets)\n        isActivated\n        private\n    {\n        //************** ******************\n        // setup local rID\n        uint256 _rID = rID_;\n        // grab time\n        uint256 _now = now;\n        // if round is active\n        if (_now > round_[_rID].start && _now < round_[_rID].end && round_[_rID].ended == false){\n            // call ticket\n            uint256 _eth = getBuyPrice().mul(_tickets);\n            \n            //plyr_[_pID].gen = withdrawEarnings(_pID).sub(_eth);\n            reloadEarnings(_pID, _eth);\n            \n            ticket(_pID, _rID, _tickets, _affID, _eth);\n            if (round_[_rID].tickets == ticketstotal_){\n                round_[_rID].ended = true;\n                round_[_rID].end = now;\n                endRound();\n            }\n            \n        }else if (_now > round_[_rID].end && round_[_rID].ended == false){\n            // end the round (distributes pot) & start new round\n            round_[_rID].ended = true;\n            endRound();\n        }\n    }\n    \n    function withdraw() \n        isHuman()\n        public\n    {\n        // setup local rID \n        //uint256 _rID = rID_;\n        // grab time\n        uint256 _now = now;\n        // fetch player ID\n        uint256 _pID = pIDxAddr_[msg.sender];\n        // setup temp var for player eth\n        uint256 _eth;\n        // check to see if round has ended and no one has run round end yet\n        \n        _eth = withdrawEarnings(_pID);\n        if (_eth > 0){\n            plyr_[_pID].addr.transfer(_eth);\n            emit Coinevents.onWithdraw(_pID, msg.sender, plyr_[_pID].name, _eth, _now);\n        }\n    }\n\n    function reloadEarnings(uint256 _pID, uint256 _eth)\n        private\n        returns(uint256)\n    {\n        // update gen vault\n        updateTicketVault(_pID, plyr_[_pID].lrnd);\n        \n        uint256 _earnings = (plyr_[_pID].win).add(plyr_[_pID].gen).add(plyr_[_pID].aff);\n        require(_earnings >= _eth, \"earnings too lower\");\n\n        if (plyr_[_pID].gen >= _eth) {\n            plyr_[_pID].gen = plyr_[_pID].gen.sub(_eth);\n            return;\n        }else{\n            _eth = _eth.sub(plyr_[_pID].gen);\n            plyr_[_pID].gen = 0;\n        }\n        \n        if (plyr_[_pID].aff >= _eth){\n            plyr_[_pID].aff = plyr_[_pID].aff.sub(_eth);\n            return;\n        }else{\n            _eth = _eth.sub(plyr_[_pID].aff);\n            plyr_[_pID].aff = 0;\n        }\n        \n        plyr_[_pID].win = plyr_[_pID].win.sub(_eth);\n\n    }\n    \n    function withdrawEarnings(uint256 _pID)\n        private\n        returns(uint256)\n    {\n        // update gen vault\n        updateTicketVault(_pID, plyr_[_pID].lrnd);\n        \n        uint256 _earnings = (plyr_[_pID].win).add(plyr_[_pID].gen).add(plyr_[_pID].aff);\n        if (_earnings > 0)\n        {\n            plyr_[_pID].win = 0;  // winner\n            plyr_[_pID].gen = 0;  //ticket valuet\n            plyr_[_pID].aff = 0;  // aff player\n        }\n\n        return(_earnings);\n    }\n    // aquire buy ticket price\n    function getBuyPrice()\n        public \n        view \n        returns(uint256)\n    {\n        return round_[rID_].jackpot.mul(150) / 100 / 1500;\n    }\n    \n    /**\n     * @dev logic runs whenever a buy order is executed.  determines how to handle \n     * incoming eth depending on if we are in an active round or not\n    */\n    function buyTicket( uint256 _pID, uint256 _affID, uint256 _tickets) \n         private\n    {\n        //************** ******************\n        // setup local rID\n        uint256 _rID = rID_;\n        // grab time\n        uint256 _now = now;\n        \n        // if round is active\n        if (_now > round_[_rID].start && _now < round_[_rID].end){\n            // call ticket\n            ticket(_pID, _rID, _tickets, _affID, msg.value);\n            if (round_[_rID].tickets == ticketstotal_){\n                round_[_rID].ended = true;\n                round_[_rID].end = now;\n                endRound();\n            }\n        }else if (_now > round_[_rID].end && round_[_rID].ended == false){\n            // end the round (distributes pot) & start new round\n            round_[_rID].ended = true;\n            //_eventData_ = endRound(_eventData_);\n            endRound();\n            // put eth in players vault\n            plyr_[_pID].gen = plyr_[_pID].gen.add(msg.value);\n        }\n        //ticket(_pID, _rID, _tickets, _affID, msg.value);\n    }\n    \n    function ticket(uint256 _pID, uint256 _rID, uint256 _tickets, uint256 _affID, uint256 _eth)\n        private\n    {\n         // if player is new to round\n        if (plyrRnds_[_pID][_rID].tickets == 0){\n            managePlayer(_pID);\n            round_[rID_].playernums += 1;\n            plyrRnds_[_affID][_rID].affnums += 1;\n        }\n\n        // ********** buy ticket *************\n        uint tickets = round_[rID_].tickets;\n        uint groups = (tickets + _tickets  - 1) / grouptotal_ - tickets / grouptotal_;\n        uint offset = tickets / grouptotal_;\n       \n        if (groups == 0){\n            if (((tickets + _tickets) % grouptotal_) == 0){\n                orders[rID_][_pID][offset] = calulateXticket(orders[rID_][_pID][offset], grouptotal_, tickets % grouptotal_);\n            }else{\n                orders[rID_][_pID][offset] = calulateXticket(orders[rID_][_pID][offset], (tickets + _tickets) % grouptotal_, tickets % grouptotal_);\n            }\n        }else{\n            for(uint256 i = 0; i < groups + 1; i++){\n                if (i == 0){\n                     orders[rID_][_pID][offset+i] = calulateXticket(orders[rID_][_pID][offset + i], grouptotal_, tickets % grouptotal_);\n                }\n                if (i > 0 && i < groups){\n                    orders[rID_][_pID][offset + i] = calulateXticket(orders[rID_][_pID][offset + i], grouptotal_, 0);\n                }\n                if (i == groups){\n                    if (((tickets + _tickets) % grouptotal_) == 0){\n                        orders[rID_][_pID][offset + i] = calulateXticket(orders[rID_][_pID][offset + i], grouptotal_, 0);\n                    }else{\n                        orders[rID_][_pID][offset + i] = calulateXticket(orders[rID_][_pID][offset + i], (tickets + _tickets) % grouptotal_, 0);\n                    }\n                }\n            }\n        }\n        \n        if (round_[rID_].tickets < _headtickets){\n            if (_tickets.add(round_[rID_].tickets) <= _headtickets){\n                plyrRnds_[_pID][_rID].luckytickets = _tickets.add(plyrRnds_[_pID][_rID].luckytickets);\n            }\n            else{\n                plyrRnds_[_pID][_rID].luckytickets = (_headtickets - round_[rID_].tickets).add(plyrRnds_[_pID][_rID].luckytickets); \n            }\n        }\n        // set up purchase tickets\n        round_[rID_].tickets = _tickets.add(round_[rID_].tickets);\n        plyrRnds_[_pID][_rID].tickets = _tickets.add(plyrRnds_[_pID][_rID].tickets);\n        plyrRnds_[_pID][_rID].eth = _eth.add(plyrRnds_[_pID][_rID].eth);\n        round_[rID_].blocknum = block.number;\n       \n        // distributes valuet\n        distributeVault(_pID, rID_, _affID, _eth, _tickets);\n        // order event log\n        //emit onBuy(msg.sender, tickets+1, tickets +_tickets,_rID, _eth, plyr_[_pID].name);\n        emit Coinevents.onBuy(msg.sender, tickets+1, tickets +_tickets,_rID, plyr_[_pID].name);\n    }\n\n    function distributeVault(uint256 _pID, uint256 _rID, uint256 _affID, uint256 _eth, uint256 _tickets)\n        private\n    {    \n         // distributes gen\n         uint256 _gen = 0;\n         uint256 _genvault = 0;\n         uint256 ticketprice_ = getBuyPrice();\n         if (round_[_rID].tickets > _headtickets){\n             if (round_[_rID].tickets.sub(_tickets) > _headtickets){\n                 _gen = _tickets;\n                 //plyrRnds_[_pID][_rID].luckytickets = \n             }else{\n                 _gen = round_[_rID].tickets.sub(_headtickets);\n             }\n         }\n         \n         if (_gen > 0){\n             //_genvault = (((_gen / _tickets).mul(_eth)).mul(20)) / 100;   // 20 % to gen tickets\n             _genvault = ((ticketprice_ * _gen).mul(20)) / 100;\n             round_[_rID].mask = _genvault.add(round_[_rID].mask);   // update mask\n         }\n         \n         uint256 _aff = _eth / 10;  //to================10%(aff)\n         uint256 _com = _eth / 20;  //to================5%(community)\n         uint256 _found = _eth.mul(32) / 100;\n         round_[_rID].found = _found.add(round_[_rID].found);  //to============prize found\n         if (_affID != 0){\n             plyr_[_affID].aff = _aff.add(plyr_[_affID].aff);\n             community_addr.transfer(_com);\n         }else{\n             _com = _com.add(_aff);\n             community_addr.transfer(_com);\n         }\n         // ============to perhaps next round pool\n         uint256 _nextpot = _eth.sub(_genvault);\n         if (_affID != 0){\n             _nextpot = _nextpot.sub(_aff);\n         }\n         _nextpot = _nextpot.sub(_com);\n         _nextpot = _nextpot.sub(_found);\n         round_[_rID].nextpot = _nextpot.add(round_[_rID].nextpot);  // next round pool\n    }\n    \n    \n    function calulateXticket(uint256 _target, uint256 _start, uint256 _end) pure private returns(uint256){\n        return _target ^ (2 ** _start - 2 ** _end); \n    }\n    \n    function endRound() \n        private\n    {\n        // setup local rID\n        uint256 _rID = rID_;\n        uint256 prize_callback = 0;\n        round_[_rID].lucknum = randNums();\n        \n        // 1. if win\n        if (round_[_rID].tickets >= round_[_rID].lucknum){\n           // community_addr.transfer(round_[_rID].income.sub(_com).sub(_gen));\n            // need administrators take in 10 ETH activate next round\n            prize_callback = round_[_rID].found.add(round_[_rID].nextpot);\n            if (prize_callback > 0) {\n                prize_addr.transfer(prize_callback);\n                activated_ = false;   // need administrators to activate\n                emit onSettle(_rID, round_[_rID].tickets, address(0), round_[_rID].lucknum, round_[_rID].jackpot);\n            }\n        }else{ \n            // 2. if nobody win\n            // directly start next round\n            prize_callback = round_[_rID].found;\n            if (prize_callback > 0) {\n                prize_addr.transfer(prize_callback);\n            }\n            rID_ ++;\n            _rID ++;\n            round_[_rID].start = now;\n            round_[_rID].end = now.add(rndGap_);\n            round_[_rID].jackpot = round_[_rID-1].jackpot.add(round_[_rID-1].nextpot);\n            emit onSettle(_rID-1, round_[_rID-1].tickets, address(0), round_[_rID-1].lucknum, round_[_rID-1].jackpot);\n        }\n\n    }\n \n     /**\n     * @dev moves any unmasked earnings to ticket vault.  updates earnings\n     */   \n     // _pID: player pid _rIDlast: last roundid\n    function updateTicketVault(uint256 _pID, uint256 _rIDlast) private{\n        \n         uint256 _gen = (plyrRnds_[_pID][_rIDlast].luckytickets.mul(round_[_rIDlast].mask / _headtickets)).sub(plyrRnds_[_pID][_rIDlast].mask);\n         \n         uint256 _jackpot = 0;\n         if (judgeWin(_rIDlast, _pID) && address(round_[_rIDlast].winner) == 0) {\n             _jackpot = round_[_rIDlast].jackpot;\n             round_[_rIDlast].winner = msg.sender;\n         }\n         plyr_[_pID].gen = _gen.add(plyr_[_pID].gen);     // ticket valuet\n         plyr_[_pID].win = _jackpot.add(plyr_[_pID].win); // player win\n         plyrRnds_[_pID][_rIDlast].mask = plyrRnds_[_pID][_rIDlast].mask.add(_gen);\n    }\n    \n    \n    function managePlayer(uint256 _pID)\n        private\n    {\n        // if player has played a previous round, move their unmasked earnings\n        // from that round to gen vault.\n        if (plyr_[_pID].lrnd != 0)\n            updateTicketVault(_pID, plyr_[_pID].lrnd);\n            \n        // update player's last round played\n        plyr_[_pID].lrnd = rID_;\n\n    }\n    //==============================================================================\n    //     _ _ | _   | _ _|_ _  _ _  .\n    //    (_(_||(_|_||(_| | (_)| _\\  .\n    //==============================================================================\n    /**\n     * @dev calculates unmasked earnings (just calculates, does not update ticket)\n     * @return earnings in wei format\n     */\n     //计算每轮中pid前500ticket的分红\n    function calcTicketEarnings(uint256 _pID, uint256 _rIDlast)\n        private\n        view\n        returns(uint256)\n    {   // per round ticket valuet\n        return (plyrRnds_[_pID][_rIDlast].luckytickets.mul(round_[_rIDlast].mask / _headtickets)).sub(plyrRnds_[_pID][_rIDlast].mask);\n    }\n    \n    //====================/=========================================================\n    /** upon contract deploy, it will be deactivated.  this is a one time\n     * use function that will activate the contract.  we do this so devs \n     * have time to set things up on the web end                            **/\n    \n    function activate()\n        isHuman()\n        public\n        payable\n    {\n        // can only be ran once\n        require(msg.sender == activate_addr1 ||\n            msg.sender == activate_addr2);\n        \n        require(activated_ == false, \"LuckyCoin already activated\");\n        //uint256 _jackpot = 10 ether;\n        require(msg.value == jackpot, \"activate game need 10 ether\");\n        \n        if (rID_ != 0) {\n            require(round_[rID_].tickets >= round_[rID_].lucknum, \"nobody win\");\n        }\n        //activate the contract \n        activated_ = true;\n        //lets start first round\n        rID_ ++;\n        round_[rID_].start = now;\n        round_[rID_].end = now + rndGap_;\n        round_[rID_].jackpot = msg.value;\n        emit onActivate(rID_);\n    }\n    \n    /**\n\t * @dev receives name/player info from names contract \n     */\n    function receivePlayerInfo(uint256 _pID, address _addr, bytes32 _name, uint256 _laff)\n        external\n    {\n        require (msg.sender == address(PlayerBook), \"your not playerNames contract... hmmm..\");\n        if (pIDxAddr_[_addr] != _pID)\n            pIDxAddr_[_addr] = _pID;\n        if (pIDxName_[_name] != _pID)\n            pIDxName_[_name] = _pID;\n        if (plyr_[_pID].addr != _addr)\n            plyr_[_pID].addr = _addr;\n        if (plyr_[_pID].name != _name)\n            plyr_[_pID].name = _name;\n        if (plyr_[_pID].laff != _laff)\n            plyr_[_pID].laff = _laff;\n        if (plyrNames_[_pID][_name] == false)\n            plyrNames_[_pID][_name] = true;\n    }\n    \n//==============================PLAYER==========================================    \n    /**\n     * @dev receives entire player name list \n     */\n    function receivePlayerNameList(uint256 _pID, bytes32 _name)\n        external\n    {\n        require (msg.sender == address(PlayerBook), \"your not playerNames contract... hmmm..\");\n        if(plyrNames_[_pID][_name] == false)\n            plyrNames_[_pID][_name] = true;\n    }\n    \n    /**\n     * @dev gets existing or registers new pID.  use this when a player may be new\n     * @return pID \n     */        \n    function determinePID()\n        private\n        //returns (Coindatasets.EventReturns)\n    {\n        uint256 _pID = pIDxAddr_[msg.sender];\n        // if player is new to this version of luckycoin\n        if (_pID == 0)\n        {\n            // grab their player ID, name and last aff ID, from player names contract \n            _pID = PlayerBook.getPlayerID(msg.sender);\n            bytes32 _name = PlayerBook.getPlayerName(_pID);\n            uint256 _laff = PlayerBook.getPlayerLAff(_pID);\n            \n            // set up player account \n            pIDxAddr_[msg.sender] = _pID;\n            plyr_[_pID].addr = msg.sender;\n            \n            if (_name != \"\")\n            {\n                pIDxName_[_name] = _pID;\n                plyr_[_pID].name = _name;\n                plyrNames_[_pID][_name] = true;\n            }\n            \n            if (_laff != 0 && _laff != _pID)\n                plyr_[_pID].laff = _laff;\n            \n            // set the new player bool to true\n            //_eventData_.compressedData = _eventData_.compressedData + 1;\n        } \n        //return (_eventData_);\n    }\n    \n    // only support Name by name\n    function registerNameXname(string _nameString, bytes32 _affCode, bool _all)\n        isHuman()\n        public\n        payable\n    {\n        bytes32 _name = _nameString.nameFilter();\n        address _addr = msg.sender;\n        uint256 _paid = msg.value;\n        (bool _isNewPlayer, uint256 _affID) = PlayerBook.registerNameXnameFromDapp.value(msg.value)(msg.sender, _name, _affCode, _all);\n        \n        uint256 _pID = pIDxAddr_[_addr];\n        \n        // fire event\n        emit Coinevents.onNewName(_pID, _addr, _name, _isNewPlayer, _affID, plyr_[_affID].addr, plyr_[_affID].name, _paid, now);\n    }\n    \n    function registerNameXaddr(string _nameString, address _affCode, bool _all)\n        isHuman()\n        public\n        payable\n    {\n        bytes32 _name = _nameString.nameFilter();\n        address _addr = msg.sender;\n        uint256 _paid = msg.value;\n        (bool _isNewPlayer, uint256 _affID) = PlayerBook.registerNameXaddrFromDapp.value(msg.value)(msg.sender, _name, _affCode, _all);\n        \n        uint256 _pID = pIDxAddr_[_addr];\n        // fire event\n        emit Coinevents.onNewName(_pID, _addr, _name, _isNewPlayer, _affID, plyr_[_affID].addr, plyr_[_affID].name, _paid, now);\n    }\n    \n    /**\n     * @dev returns time left.  dont spam this, you'll ddos yourself from your node \n     * provider\n     * -functionhash- 0xc7e284b8\n     * @return time left in seconds\n    */\n    function getTimeLeft()\n        public\n        view\n        returns(uint256)\n    {\n        // setup local rID\n        uint256 _rID = rID_;\n        \n        // grab time\n        uint256 _now = now;\n        \n        if (_now < round_[_rID].end){\n            return( (round_[_rID].end).sub(_now) );\n        }\n        else\n            return(0);\n    }\n    \n    function getCurrentRoundInfo() \n        public\n        view\n        returns(uint256, uint256, uint256, uint256, uint256, uint256, uint256, uint256, uint256, address, bool)\n    {\n        // setup local rID\n        uint256 _rID = rID_;\n        return \n        (\n            rID_,\n            round_[_rID].tickets,\n            round_[_rID].start,\n            round_[_rID].end,\n            round_[_rID].jackpot,\n            round_[_rID].nextpot,\n            round_[_rID].lucknum,\n            round_[_rID].mask,\n            round_[_rID].playernums,\n            round_[_rID].winner,\n            round_[_rID].ended\n        );\n    }\n    \n    function getPlayerInfoByAddress(address _addr)\n        public \n        view \n        returns(uint256, bytes32, uint256, uint256, uint256, uint256, uint256, uint256)\n    {\n        // setup local rID\n        uint256 _rID = rID_;\n        \n        if (_addr == address(0))\n        {\n            _addr == msg.sender;\n        }\n        uint256 _pID = pIDxAddr_[_addr];\n        uint256 _lrnd =  plyr_[_pID].lrnd;\n        uint256 _jackpot = 0;\n        if (judgeWin(_lrnd, _pID) && address(round_[_lrnd].winner) == 0){\n            _jackpot = round_[_lrnd].jackpot;\n        }\n        \n        return\n        (\n            _pID,                               //0\n            plyr_[_pID].name,                   //1\n            plyrRnds_[_pID][_rID].tickets,      //2\n            plyr_[_pID].win.add(_jackpot),                    //3\n            plyr_[_pID].gen.add(calcTicketEarnings(_pID, _lrnd)),  //4\n            plyr_[_pID].aff,                    //5\n            plyrRnds_[_pID][_rID].eth,           //6\n            plyrRnds_[_pID][_rID].affnums        // 7\n        );\n    }\n\n    // generate a number between 1-1500 \n    function randNums() public view returns(uint256) {\n        return uint256(keccak256(block.difficulty, now, block.coinbase)) % ticketstotal_ + 1;\n    }\n    \n    // search user if win\n    function judgeWin(uint256 _rid, uint256 _pID)private view returns(bool){\n        uint256 _group = (round_[_rid].lucknum -1) / grouptotal_;\n        uint256 _temp = round_[_rid].lucknum % grouptotal_;\n        if (_temp == 0){\n            _temp = grouptotal_;\n        }\n\n        if (orders[_rid][_pID][_group] & (2 **(_temp-1)) == 2 **(_temp-1)){\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n    // search the tickets owns\n    function searchtickets()public view returns(uint256, uint256, uint256, uint256,uint256, uint256){\n         uint256 _pID = pIDxAddr_[msg.sender];\n         return (\n             orders[rID_][_pID][0],\n             orders[rID_][_pID][1],\n             orders[rID_][_pID][2],\n             orders[rID_][_pID][3],\n             orders[rID_][_pID][4],\n             orders[rID_][_pID][5]\n            );\n     }\n     // search the tickets by address\n    function searchTicketsXaddr(address addr) public view returns(uint256, uint256, uint256, uint256,uint256, uint256){\n        uint256 _pID = pIDxAddr_[addr];\n        return (\n             orders[rID_][_pID][0],\n             orders[rID_][_pID][1],\n             orders[rID_][_pID][2],\n             orders[rID_][_pID][3],\n             orders[rID_][_pID][4],\n             orders[rID_][_pID][5]\n            );\n     }\n}\n\n\nlibrary Coindatasets {\n    struct EventReturns {\n        uint256 compressedData;\n        uint256 compressedIDs;\n        address winnerAddr;         // winner address\n        bytes32 winnerName;         // winner name\n        uint256 amountWon;          // amount won\n        uint256 newPot;             // amount in new pot\n        uint256 genAmount;          // amount distributed to gen\n        uint256 potAmount;          // amount added to pot\n    }\n    \n     struct Round {\n        uint256 tickets; // already purchase ticket\n        bool ended;     // has round end function been ran\n        uint256 jackpot;    // eth to pot, perhaps next round pot\n        uint256 start;   // time round started\n        uint256 end;    // time ends/ended\n        address winner;  //win address\n        uint256 mask;   // global mask\n        uint256 found; // jackpot found\n        uint256 lucknum;  // win num\n        uint256 nextpot;  // next pot\n        uint256 blocknum; // current blocknum\n        uint256 playernums; // playernums\n      }\n      \n    struct Player {\n        address addr;   // player address\n        bytes32 name;   // player name\n        uint256 win;    // winnings vault\n        uint256 gen;    // general vault\n        uint256 aff;    // affiliate vault\n        uint256 lrnd;   // last round played\n        uint256 laff;   // last affiliate id used\n        uint256 luckytickets;  // head 500 will acquire distributes vault\n    }\n    \n    struct PotSplit {\n        uint256 community;    // % of pot thats paid to key holders of current round\n        uint256 gen;    // % of pot thats paid to tickets holders\n        uint256 laff;   // last affiliate id used\n    }\n    \n    struct PlayerRounds {\n        uint256 eth;    // eth player has added to round\n        uint256 tickets;   // tickets\n        uint256 mask;  // player mask,\n        uint256 affnums;\n        uint256 luckytickets; // player luckytickets\n    }\n}\n\n\ninterface PlayerBookInterface {\n    function getPlayerID(address _addr) external returns (uint256);\n    function getPlayerName(uint256 _pID) external view returns (bytes32);\n    function getPlayerLAff(uint256 _pID) external view returns (uint256);\n    function getPlayerAddr(uint256 _pID) external view returns (address);\n    function getNameFee() external view returns (uint256);\n    function registerNameXIDFromDapp(address _addr, bytes32 _name, uint256 _affCode, bool _all) external payable returns(bool, uint256);\n    function registerNameXaddrFromDapp(address _addr, bytes32 _name, address _affCode, bool _all) external payable returns(bool, uint256);\n    function registerNameXnameFromDapp(address _addr, bytes32 _name, bytes32 _affCode, bool _all) external payable returns(bool, uint256);\n}\n\n\n\nlibrary NameFilter {\n    /**\n     * @dev filters name strings\n     * -converts uppercase to lower case.  \n     * -makes sure it does not start/end with a space\n     * -makes sure it does not contain multiple spaces in a row\n     * -cannot be only numbers\n     * -cannot start with 0x \n     * -restricts characters to A-Z, a-z, 0-9, and space.\n     * @return reprocessed string in bytes32 format\n     */\n    function nameFilter(string _input)\n        internal\n        pure\n        returns(bytes32)\n    {\n        bytes memory _temp = bytes(_input);\n        uint256 _length = _temp.length;\n        \n        //sorry limited to 32 characters\n        require (_length <= 32 && _length > 0, \"string must be between 1 and 32 characters\");\n        // make sure it doesnt start with or end with space\n        require(_temp[0] != 0x20 && _temp[_length-1] != 0x20, \"string cannot start or end with space\");\n        // make sure first two characters are not 0x\n        if (_temp[0] == 0x30)\n        {\n            require(_temp[1] != 0x78, \"string cannot start with 0x\");\n            require(_temp[1] != 0x58, \"string cannot start with 0X\");\n        }\n        \n        // create a bool to track if we have a non number character\n        bool _hasNonNumber;\n        \n        // convert & check\n        for (uint256 i = 0; i < _length; i++)\n        {\n            // if its uppercase A-Z\n            if (_temp[i] > 0x40 && _temp[i] < 0x5b)\n            {\n                // convert to lower case a-z\n                _temp[i] = byte(uint(_temp[i]) + 32);\n                \n                // we have a non number\n                if (_hasNonNumber == false)\n                    _hasNonNumber = true;\n            } else {\n                require\n                (\n                    // require character is a space\n                    _temp[i] == 0x20 || \n                    // OR lowercase a-z\n                    (_temp[i] > 0x60 && _temp[i] < 0x7b) ||\n                    // or 0-9\n                    (_temp[i] > 0x2f && _temp[i] < 0x3a),\n                    \"string contains invalid characters\"\n                );\n                // make sure theres not 2x spaces in a row\n                if (_temp[i] == 0x20)\n                    require( _temp[i+1] != 0x20, \"string cannot contain consecutive spaces\");\n                \n                // see if we have a character other than a number\n                if (_hasNonNumber == false && (_temp[i] < 0x30 || _temp[i] > 0x39))\n                    _hasNonNumber = true;    \n            }\n        }\n        \n        require(_hasNonNumber == true, \"string cannot be only numbers\");\n        \n        bytes32 _ret;\n        assembly {\n            _ret := mload(add(_temp, 32))\n        }\n        return (_ret);\n    }\n}\n\n\n\n\n/**\n * @title SafeMath v0.1.9\n * @dev Math operations with safety checks that throw on error\n * change notes:  original SafeMath library from OpenZeppelin modified by Inventor\n * - added sqrt\n * - added sq\n * - added pwr\n * - changed asserts to requires with error log outputs\n * - removed div, its useless\n */\nlibrary SafeMath {\n\n    /**\n    * @dev Multiplies two numbers, throws on overflow.\n    */\n    function mul(uint256 a, uint256 b)\n        internal\n        pure\n        returns (uint256 c)\n    {\n        if (a == 0) {\n            return 0;\n        }\n        c = a * b;\n        require(c / a == b);\n        return c;\n    }\n\n    /**\n    * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n    */\n    function sub(uint256 a, uint256 b)\n        internal\n        pure\n        returns (uint256)\n    {\n        require(b <= a);\n        return a - b;\n    }\n\n    /**\n    * @dev Adds two numbers, throws on overflow.\n    */\n    function add(uint256 a, uint256 b)\n        internal\n        pure\n        returns (uint256 c)\n    {\n        c = a + b;\n        require(c >= a);\n        return c;\n    }\n\n    /**\n     * @dev gives square root of given x.\n     */\n    function sqrt(uint256 x)\n        internal\n        pure\n        returns (uint256 y)\n    {\n        uint256 z = ((add(x,1)) / 2);\n        y = x;\n        while (z < y)\n        {\n            y = z;\n            z = ((add((x / z),z)) / 2);\n        }\n    }\n\n    /**\n     * @dev gives square. multiplies x by x\n     */\n    function sq(uint256 x)\n        internal\n        pure\n        returns (uint256)\n    {\n        return (mul(x,x));\n    }\n\n    /**\n     * @dev x to the power of y\n     */\n    function pwr(uint256 x, uint256 y)\n        internal\n        pure\n        returns (uint256)\n    {\n        if (x==0)\n            return (0);\n        else if (y==0)\n            return (1);\n        else\n        {\n            uint256 z = x;\n            for (uint256 i=1; i < y; i++)\n                z = mul(z,x);\n            return (z);\n        }\n    }\n}",
  "bytecode": "60806040526105dc600090815560fa600155678ac7230489e800006002556003556101f460045560058054600160a860020a03191674fd76db2af819978d43e07737771c8d9e8bd8cbbf001790556006805473fd76db2af819978d43e07737771c8d9e8bd8cbbf600160a060020a0319918216811790925560078054821690921790915560088054736c7dfe3c255a098ea031f334436dd50345cfc73792169190911790553480156100b057600080fd5b50613fb0806100c06000396000f3006080604052600436106101695763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663018a25e8811461036757806306fdde031461038e57806308752869146104185780630a1a677e146104285780630f15f4c01461047057806310f01eba1461047857806324c33d33146104995780632660316e146105185780632e19ebdc146105475780633ccfd60b1461055f5780633ddd46981461057457806349cc635d146105d0578063624ae5c0146105fa578063685ffd831461060f578063747dff421461066257806381617f8f146106d85780638f38f309146106fc5780638f7140ea1461070a57806395d89b4114610725578063a2bccae91461073a578063a3395a5214610780578063a9287619146107a1578063bf02dbcf146107b8578063c7e284b8146107cd578063d53b2679146107e2578063d574bcdf146107f7578063de7874f314610812578063ee0b5d8b14610875575b6007546000908190819081908190600160a060020a03163314806101975750600854600160a060020a031633145b156101a9576101a46108d7565b610360565b6000341115610360573394503285146101fa576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b843b93508315610250576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b610258610b59565b336000908152600a60205260409020549250610272610df9565b91506000821161028157600080fd5b813481151561028c57fe5b0490506000811161029c57600080fd5b60055460ff161515600114610321576040805160e560020a62461bcd02815260206004820152602a60248201527f697473206e6f74207265616479207965742e2020636f6e746163742061646d6960448201527f6e6973747261746f727300000000000000000000000000000000000000000000606482015290519081900360840190fd5b60035460009081526009602052604081205490540381111561034257600080fd5b6000838152600c602052604090206006015461036090849083610e3f565b5050505050005b34801561037357600080fd5b5061037c610df9565b60408051918252519081900360200190f35b34801561039a57600080fd5b506103a3610f6a565b6040805160208082528351818301528351919283929083019185019080838360005b838110156103dd5781810151838201526020016103c5565b50505050905090810190601f16801561040a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610426600435602435610fa1565b005b34801561043457600080fd5b5061043d61118d565b604080519687526020870195909552858501939093526060850191909152608084015260a0830152519081900360c00190f35b6104266108d7565b34801561048457600080fd5b5061037c600160a060020a03600435166111f1565b3480156104a557600080fd5b506104b1600435611203565b604080519c8d529a151560208d01528b8b019990995260608b019790975260808a0195909552600160a060020a0390931660a089015260c088019190915260e087015261010086015261012085015261014084015261016083015251908190036101800190f35b34801561052457600080fd5b50610533600435602435611273565b604080519115158252519081900360200190f35b34801561055357600080fd5b5061037c600435611293565b34801561056b57600080fd5b506104266112a5565b6040805160206004803580820135601f810184900484028501840190955284845261042694369492936024939284019190819084018382808284375094975050600160a060020a03853516955050505050602001351515611415565b3480156105dc57600080fd5b50610426600435600160a060020a0360243516604435606435611623565b34801561060657600080fd5b5061037c611814565b6040805160206004803580820135601f810184900484028501840190955284845261042694369492936024939284019190819084018382808284375094975050843595505050505060200135151561181a565b34801561066e57600080fd5b5061067761194f565b604080519b8c5260208c019a909a528a8a019890985260608a0196909652608089019490945260a088019290925260c087015260e0860152610100850152600160a060020a0316610120840152151561014083015251908190036101600190f35b3480156106e457600080fd5b50610426600435600160a060020a03602435166119b3565b610426600435602435611b6b565b34801561071657600080fd5b50610426600435602435611d32565b34801561073157600080fd5b506103a3611e0f565b34801561074657600080fd5b50610755600435602435611e46565b6040805195865260208601949094528484019290925260608401526080830152519081900360a00190f35b34801561078c57600080fd5b5061043d600160a060020a0360043516611e80565b610426600435600160a060020a0360243516611eec565b3480156107c457600080fd5b5061037c6120d7565b3480156107d957600080fd5b5061037c612119565b3480156107ee57600080fd5b5061053361216d565b34801561080357600080fd5b50610426600435602435612176565b34801561081e57600080fd5b5061082a600435612319565b60408051600160a060020a0390991689526020890197909752878701959095526060870193909352608086019190915260a085015260c084015260e083015251908190036101000190f35b34801561088157600080fd5b50610896600160a060020a0360043516612366565b604080519889526020890197909752878701959095526060870193909352608086019190915260a085015260c084015260e083015251908190036101000190f35b33600032821461091f576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b8015610974576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b600754600160a060020a03163314806109975750600854600160a060020a031633145b15156109a257600080fd5b60055460ff16156109fd576040805160e560020a62461bcd02815260206004820152601b60248201527f4c75636b79436f696e20616c7265616479206163746976617465640000000000604482015290519081900360640190fd5b6002543414610a56576040805160e560020a62461bcd02815260206004820152601b60248201527f61637469766174652067616d65206e6565642031302065746865720000000000604482015290519081900360640190fd5b60035415610acc576003546000908152600960205260409020600881015490541015610acc576040805160e560020a62461bcd02815260206004820152600a60248201527f6e6f626f64792077696e00000000000000000000000000000000000000000000604482015290519081900360640190fd5b6005805460ff191660019081179091556003805490910180825560009081526009602090815260408083204290850181905584548452818420611c20909101600490910155835483529182902034600291909101559154815190815290517fad61e0b8103cd22dd17df2a02217a2c0f2a064c1a486e27d7951d9080963b38d929181900390910190a15050565b336000908152600a60205260408120549080821515610df457604080517fe56556a9000000000000000000000000000000000000000000000000000000008152336004820152905173748286a6a4cead7e8115ed0c503d77202eeeac6b9163e56556a99160248083019260209291908290030181600087803b158015610bde57600080fd5b505af1158015610bf2573d6000803e3d6000fd5b505050506040513d6020811015610c0857600080fd5b5051604080517f82e37b2c00000000000000000000000000000000000000000000000000000000815260048101839052905191945073748286a6a4cead7e8115ed0c503d77202eeeac6b916382e37b2c916024808201926020929091908290030181600087803b158015610c7b57600080fd5b505af1158015610c8f573d6000803e3d6000fd5b505050506040513d6020811015610ca557600080fd5b5051604080517fe3c08adf00000000000000000000000000000000000000000000000000000000815260048101869052905191935073748286a6a4cead7e8115ed0c503d77202eeeac6b9163e3c08adf916024808201926020929091908290030181600087803b158015610d1857600080fd5b505af1158015610d2c573d6000803e3d6000fd5b505050506040513d6020811015610d4257600080fd5b5051336000818152600a60209081526040808320889055878352600c9091529020805473ffffffffffffffffffffffffffffffffffffffff1916909117905590508115610dcb576000828152600b60209081526040808320869055858352600c82528083206001908101869055600e8352818420868552909252909120805460ff191690911790555b8015801590610dda5750828114155b15610df4576000838152600c602052604090206006018190555b505050565b6003546000908152600960205260408120600201546105dc90606490610e2690609663ffffffff6124ed16565b811515610e2f57fe5b04811515610e3957fe5b04905090565b60038054600081815260096020526040902090910154429081118015610e75575060008281526009602052604090206004015481105b15610ed157610e87858385873461251f565b6000805483825260096020526040909120541415610ecc5760008281526009602052604090206001818101805460ff1916909117905542600490910155610ecc612ade565b610f63565b60008281526009602052604090206004015481118015610f03575060008281526009602052604090206001015460ff16155b15610f635760008281526009602052604090206001908101805460ff19169091179055610f2e612ade565b6000858152600c6020526040902060030154610f50903463ffffffff612d3916565b6000868152600c60205260409020600301555b5050505050565b60408051808201909152600f81527f4c75636b79436f696e2053757065720000000000000000000000000000000000602082015281565b6000803381328214610feb576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b8015611040576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b3486600061104c610df9565b905081810283101561105d57600080fd5b69152d02c7e14af680000083111561107457600080fd5b60035460009081526009602052604081205490548a91900381111561109857600080fd5b60055460ff1615156110e2576040805160e560020a62461bcd02815260206004820152600c6024820152600080516020613f65833981519152604482015290519081900360640190fd5b6110ea610b59565b336000908152600a6020526040902054975088158061111957506000888152600c602052604090206001015489145b15611137576000888152600c60205260409020600601549650611176565b6000898152600b60209081526040808320548b8452600c909252909120600601549097508714611176576000888152600c602052604090206006018790555b61118188888c610e3f565b50505050505050505050565b336000908152600a6020908152604080832054600380548552600f8452828520918552908352818420848052909252808320546001845281842054600285528285205493855282852054600486528386205460058752939095205491959094929190565b600a6020526000908152604090205481565b600960208190526000918252604090912080546001820154600283015460038401546004850154600586015460068701546007880154600889015499890154600a8a0154600b909a0154989a60ff90981699969895979496600160a060020a03909416959294919391929091908c565b600e60209081526000928352604080842090915290825290205460ff1681565b600b6020526000908152604090205481565b6000808033813282146112f0576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b8015611345576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b336000908152600a6020526040902054429550935061136384612d49565b92506000831115610f63576000848152600c6020526040808220549051600160a060020a039091169185156108fc02918691818181858888f193505050501580156113b2573d6000803e3d6000fd5b506000848152600c60209081526040918290206001015482513381529182015280820185905260608101879052905185917f8f36579a548bc439baa172a6521207464154da77f411e2da3db2f53affe6cc3a919081900360800190a25050505050565b600080808080803381328214611463576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b80156114b8576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b6114c18b612dd7565b604080517faa4d490b000000000000000000000000000000000000000000000000000000008152336004820181905260248201849052600160a060020a038e1660448301528c151560648301528251939b50995034985073748286a6a4cead7e8115ed0c503d77202eeeac6b9263aa4d490b928a926084808201939182900301818588803b15801561155257600080fd5b505af1158015611566573d6000803e3d6000fd5b50505050506040513d604081101561157d57600080fd5b508051602091820151600160a060020a03808b166000818152600a8652604080822054858352600c8852918190208054600190910154825188151581529889018790529416878201526060870193909352608086018c90524260a0870152915193995091975095508a92909186917fdd6176433ff5026bbce96b068584b7bbe3514227e72df9c630b749ae87e64442919081900360c00190a45050505050505050505050565b3373748286a6a4cead7e8115ed0c503d77202eeeac6b146116b4576040805160e560020a62461bcd02815260206004820152602760248201527f796f7572206e6f7420706c617965724e616d657320636f6e74726163742e2e2e60448201527f20686d6d6d2e2e00000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600160a060020a0383166000908152600a602052604090205484146116ef57600160a060020a0383166000908152600a602052604090208490555b6000828152600b60205260409020548414611716576000828152600b602052604090208490555b6000848152600c6020526040902054600160a060020a0384811691161461176c576000848152600c60205260409020805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0385161790555b6000848152600c60205260409020600101548214611799576000848152600c602052604090206001018290555b6000848152600c602052604090206006015481146117c6576000848152600c602052604090206006018190555b6000848152600e6020908152604080832085845290915290205460ff16151561180e576000848152600e602090815260408083208584529091529020805460ff191660011790555b50505050565b60035481565b600080808080803381328214611868576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b80156118bd576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b6118c68b612dd7565b604080517f745ea0c1000000000000000000000000000000000000000000000000000000008152336004820181905260248201849052604482018e90528c151560648301528251939b50995034985073748286a6a4cead7e8115ed0c503d77202eeeac6b9263745ea0c1928a926084808201939182900301818588803b15801561155257600080fd5b600380546000818152600960208190526040909120805493810154600482015460028301549383015460088401546006850154600b8601546005870154600190970154989a95989497969395929491939092600160a060020a039091169160ff1690565b60008033813282146119fd576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b8015611a52576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b60055460ff161515611a9c576040805160e560020a62461bcd02815260206004820152600c6024820152600080516020613f65833981519152604482015290519081900360640190fd5b600354600090815260096020526040812054905487919003811115611ac057600080fd5b336000908152600a60205260409020549450600160a060020a0386161580611af05750600160a060020a03861633145b15611b0e576000858152600c60205260409020600601549350611b57565b600160a060020a0386166000908152600a6020908152604080832054888452600c909252909120600601549094508414611b57576000858152600c602052604090206006018490555b611b628585896135ea565b50505050505050565b60003381328214611bb4576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b8015611c09576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b34856000611c15610df9565b9050818102831015611c2657600080fd5b69152d02c7e14af6800000831115611c3d57600080fd5b600354600090815260096020526040812054905489919003811115611c6157600080fd5b60055460ff161515611cab576040805160e560020a62461bcd02815260206004820152600c6024820152600080516020613f65833981519152604482015290519081900360640190fd5b611cb3610b59565b336000908152600a60205260409020549650871580611cd157508688145b15611cef576000878152600c60205260409020600601549750611d1c565b6000878152600c60205260409020600601548814611d1c576000878152600c602052604090206006018890555b611d2787898b610e3f565b505050505050505050565b3373748286a6a4cead7e8115ed0c503d77202eeeac6b14611dc3576040805160e560020a62461bcd02815260206004820152602760248201527f796f7572206e6f7420706c617965724e616d657320636f6e74726163742e2e2e60448201527f20686d6d6d2e2e00000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b6000828152600e6020908152604080832084845290915290205460ff161515611e0b576000828152600e602090815260408083208484529091529020805460ff191660011790555b5050565b60408051808201909152600981527f4c75636b79436f696e0000000000000000000000000000000000000000000000602082015281565b600d602090815260009283526040808420909152908252902080546001820154600283015460038401546004909401549293919290919085565b600160a060020a03166000908152600a6020908152604080832054600380548552600f8452828520918552908352818420848052909252808320546001845281842054600285528285205493855282852054600486528386205460058752939095205491959094929190565b6000803381328214611f36576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b8015611f8b576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b34866000611f97610df9565b9050818102831015611fa857600080fd5b69152d02c7e14af6800000831115611fbf57600080fd5b60035460009081526009602052604081205490548a919003811115611fe357600080fd5b60055460ff16151561202d576040805160e560020a62461bcd02815260206004820152600c6024820152600080516020613f65833981519152604482015290519081900360640190fd5b612035610b59565b336000908152600a60205260409020549650600160a060020a03891615806120655750600160a060020a03891633145b15612083576000878152600c602052604090206006015497506120cc565b600160a060020a0389166000908152600a60209081526040808320548a8452600c9092529091206006015490985088146120cc576000878152600c602052604090206006018890555b61118187898c610e3f565b60008054604080514481524260208201526c01000000000000000000000000410281830152905190819003605401902081151561211057fe5b06600101905090565b60035460008181526009602052604081206004015490919042908110156121635760008281526009602052604090206004015461215c908263ffffffff61377916565b9250612168565b600092505b505090565b60055460ff1681565b60008033813282146121c0576040805160e560020a62461bcd0281526020600482015260186024820152600080516020613f45833981519152604482015290519081900360640190fd5b50803b8015612215576040805160e560020a62461bcd0281526020600482015260226024820152600080516020613f25833981519152604482015260f060020a613d3d02606482015290519081900360840190fd5b60055460ff16151561225f576040805160e560020a62461bcd02815260206004820152600c6024820152600080516020613f65833981519152604482015290519081900360640190fd5b60035460009081526009602052604081205490548791900381111561228357600080fd5b336000908152600a602052604090205494508515806122b257506000858152600c602052604090206001015486145b156122d0576000858152600c60205260409020600601549350611b57565b6000868152600b6020908152604080832054888452600c909252909120600601549094508414611b57576000858152600c60205260409020600601849055611b628585896135ea565b600c6020526000908152604090208054600182015460028301546003840154600485015460058601546006870154600790970154600160a060020a03909616969495939492939192909188565b6000806000806000806000806000806000806003549350505050600160a060020a038a166000908152600a6020908152604080832054808452600c90925282206005015490916123b6828461378e565b80156123da5750600082815260096020526040902060050154600160a060020a0316155b156123f357506000818152600960205260409020600201545b6000838152600c60208181526040808420600180820154600d85528387208b885285529286200154948890529290915260029091015485929061243c908563ffffffff612d3916565b6124676124498888613837565b6000898152600c60205260409020600301549063ffffffff612d3916565b600c600089815260200190815260200160002060040154600d60008a815260200190815260200160002060008b815260200190815260200160002060000154600d60008b815260200190815260200160002060008c8152602001908152602001600020600301549b509b509b509b509b509b509b509b5050505050919395975091939597565b60008215156124fe57506000612519565b5081810281838281151561250e57fe5b041461251957600080fd5b92915050565b6000858152600d60209081526040808320878452909152812060010154819081908190151561259157612551896138b2565b600380546000908152600960209081526040808320600b01805460019081019091558a8452600d83528184208d8552909252909120909101805490910190555b600354600090815260096020526040902054600154909450848115156125b357fe5b046001546001898701038115156125c657fe5b04039250600154848115156125d757fe5b0491508215156126d1576001548785018115156125f057fe5b06151561265f576003546000908152600f602090815260408083208c845282528083208584529091529020546001546126359190808781151561262f57fe5b066138fe565b6003546000908152600f602090815260408083208d845282528083208684529091529020556126cc565b6003546000908152600f602090815260408083208c845282528083208584529091529020546001546126a69190868a0181151561269857fe5b066001548781151561262f57fe5b6003546000908152600f602090815260408083208d845282528083208684529091529020555b6128a8565b5060005b826001018110156128a857801515612749576003546000908152600f602090815260408083208c8452825280832085850184529091529020546001546127219190808781151561262f57fe5b6003546000908152600f602090815260408083208d8452825280832086860184529091529020555b60008111801561275857508281105b156127b8576003546000908152600f602090815260408083208c845282528083208585018452909152812054600154612790926138fe565b6003546000908152600f602090815260408083208d8452825280832086860184529091529020555b828114156128a0576001548785018115156127cf57fe5b061515612835576003546000908152600f602090815260408083208c845282528083208585018452909152812054600154612809926138fe565b6003546000908152600f602090815260408083208d8452825280832086860184529091529020556128a0565b6003546000908152600f602090815260408083208c8452825280832085850184529091529020546001546128789190868a0181151561287057fe5b0660006138fe565b6003546000908152600f602090815260408083208d8452825280832086860184529091529020555b6001016126d5565b600454600354600090815260096020526040902054101561299c576004546003546000908152600960205260409020546128e990899063ffffffff612d3916565b1161293e576000898152600d602090815260408083208b845290915290206004015461291c90889063ffffffff612d3916565b60008a8152600d602090815260408083208c845290915290206004015561299c565b6000898152600d602090815260408083208b8452825280832060049081015460035485526009909352922054915461297e9290039063ffffffff612d3916565b60008a8152600d602090815260408083208c84529091529020600401555b6003546000908152600960205260409020546129bf90889063ffffffff612d3916565b6003546000908152600960209081526040808320939093558b8252600d81528282208b8352905220600101546129fc90889063ffffffff612d3916565b60008a8152600d602090815260408083208c84529091529020600181019190915554612a29908690612d39565b60008a8152600d602090815260408083208c8452825280832093909355600380548352600990915291902043600a9091015554612a6a908a9088888b61390b565b6000898152600c602090815260409182902060019081015483513381529188019282019290925289870181840152606081018b9052608081019190915290517f5ddced682e01b0b0d834f68b7a992537d4f99d8759ebb95221c23edde4dc87409181900360a00190a1505050505050505050565b6003546000612aeb6120d7565b6000838152600960205260409020600881018290555410612bf057600082815260096020819052604090912090810154600790910154612b309163ffffffff612d3916565b90506000811115612beb57600654604051600160a060020a039091169082156108fc029083906000818181858888f19350505050158015612b75573d6000803e3d6000fd5b506005805460ff19169055600082815260096020908152604080832080546008820154600290920154835188815294850191909152838301949094526060830152608082019290925290517f1d5e2e0a933eb9e711e45060f379b1d32c37bb79fc1458b852cf9d1e460ad30d9181900360a00190a15b611e0b565b5060008181526009602052604081206007015490811115612c4757600654604051600160a060020a039091169082156108fc029083906000818181858888f19350505050158015612c45573d6000803e3d6000fd5b505b600380546001908101825592909201600081815260096020526040902042930183905591612c7d90611c2063ffffffff612d3916565b6000838152600960208190526040808320600401939093556000198501825291902090810154600290910154612cb89163ffffffff612d3916565b60008381526009602090815260408083206002908101949094556000198601808452818420805460088201549190960154835192835293820195909552808201939093526060830193909352608082015290517f1d5e2e0a933eb9e711e45060f379b1d32c37bb79fc1458b852cf9d1e460ad30d9181900360a00190a15050565b8181018281101561251957600080fd5b6000818152600c60205260408120600501548190612d68908490613bba565b6000838152600c6020526040902060048101546003820154600290920154612da692612d9a919063ffffffff612d3916565b9063ffffffff612d3916565b90506000811115612519576000838152600c6020526040812060028101829055600381018290556004015592915050565b8051600090829082808060208411801590612df25750600084115b1515612e6e576040805160e560020a62461bcd02815260206004820152602a60248201527f737472696e67206d757374206265206265747765656e203120616e642033322060448201527f6368617261637465727300000000000000000000000000000000000000000000606482015290519081900360840190fd5b846000815181101515612e7d57fe5b90602001015160f860020a900460f860020a02600160f860020a031916602060f860020a0214158015612ee457508460018503815181101515612ebc57fe5b90602001015160f860020a900460f860020a02600160f860020a031916602060f860020a0214155b1515612f60576040805160e560020a62461bcd02815260206004820152602560248201527f737472696e672063616e6e6f74207374617274206f7220656e6420776974682060448201527f7370616365000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b846000815181101515612f6f57fe5b90602001015160f860020a900460f860020a02600160f860020a031916603060f860020a0214156130b257846001815181101515612fa957fe5b90602001015160f860020a900460f860020a02600160f860020a031916607860f860020a0214151515613026576040805160e560020a62461bcd02815260206004820152601b60248201527f737472696e672063616e6e6f7420737461727420776974682030780000000000604482015290519081900360640190fd5b84600181518110151561303557fe5b90602001015160f860020a900460f860020a02600160f860020a031916605860f860020a02141515156130b2576040805160e560020a62461bcd02815260206004820152601b60248201527f737472696e672063616e6e6f7420737461727420776974682030580000000000604482015290519081900360640190fd5b600091505b838210156135825784517f4000000000000000000000000000000000000000000000000000000000000000908690849081106130ef57fe5b90602001015160f860020a900460f860020a02600160f860020a031916118015613163575084517f5b000000000000000000000000000000000000000000000000000000000000009086908490811061314457fe5b90602001015160f860020a900460f860020a02600160f860020a031916105b156131d057848281518110151561317657fe5b90602001015160f860020a900460f860020a0260f860020a900460200160f860020a0285838151811015156131a757fe5b906020010190600160f860020a031916908160001a9053508215156131cb57600192505b613577565b84828151811015156131de57fe5b90602001015160f860020a900460f860020a02600160f860020a031916602060f860020a0214806132ae575084517f60000000000000000000000000000000000000000000000000000000000000009086908490811061323a57fe5b90602001015160f860020a900460f860020a02600160f860020a0319161180156132ae575084517f7b000000000000000000000000000000000000000000000000000000000000009086908490811061328f57fe5b90602001015160f860020a900460f860020a02600160f860020a031916105b80613358575084517f2f00000000000000000000000000000000000000000000000000000000000000908690849081106132e457fe5b90602001015160f860020a900460f860020a02600160f860020a031916118015613358575084517f3a000000000000000000000000000000000000000000000000000000000000009086908490811061333957fe5b90602001015160f860020a900460f860020a02600160f860020a031916105b15156133d4576040805160e560020a62461bcd02815260206004820152602260248201527f737472696e6720636f6e7461696e7320696e76616c696420636861726163746560448201527f7273000000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b84828151811015156133e257fe5b90602001015160f860020a900460f860020a02600160f860020a031916602060f860020a0214156134c157848260010181518110151561341e57fe5b90602001015160f860020a900460f860020a02600160f860020a031916602060f860020a02141515156134c1576040805160e560020a62461bcd02815260206004820152602860248201527f737472696e672063616e6e6f7420636f6e7461696e20636f6e7365637574697660448201527f6520737061636573000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b8215801561356d575084517f3000000000000000000000000000000000000000000000000000000000000000908690849081106134fa57fe5b90602001015160f860020a900460f860020a02600160f860020a031916108061356d575084517f39000000000000000000000000000000000000000000000000000000000000009086908490811061354e57fe5b90602001015160f860020a900460f860020a02600160f860020a031916115b1561357757600192505b6001909101906130b7565b6001831515146135dc576040805160e560020a62461bcd02815260206004820152601d60248201527f737472696e672063616e6e6f74206265206f6e6c79206e756d62657273000000604482015290519081900360640190fd5b505050506020015192915050565b6005546000908190819060ff16151561363b576040805160e560020a62461bcd02815260206004820152600c6024820152600080516020613f65833981519152604482015290519081900360640190fd5b6003805460008181526009602052604090209091015490935042925082118015613675575060008381526009602052604090206004015482105b8015613693575060008381526009602052604090206001015460ff16155b15613714576136b0846136a4610df9565b9063ffffffff6124ed16565b90506136bc8682613d45565b506136ca868486888561251f565b600080548482526009602052604090912054141561370f5760008381526009602052604090206001818101805460ff191690911790554260049091015561370f612ade565b613771565b60008381526009602052604090206004015482118015613746575060008381526009602052604090206001015460ff16155b156137715760008381526009602052604090206001908101805460ff19169091179055613771612ade565b505050505050565b60008282111561378857600080fd5b50900390565b600080600060015460016009600088815260200190815260200160002060080154038115156137b957fe5b04915060015460096000878152602001908152602001600020600801548115156137df57fe5b0690508015156137ee57506001545b6000858152600f602090815260408083208784528252808320858452909152902054600019820160020a908116141561382a576001925061382f565b600092505b505092915050565b6000828152600d602090815260408083208484528252808320600201546004546009909352908320600601546138ab9261389f9181151561387457fe5b6000888152600d602090815260408083208a845290915290206004015491900463ffffffff6124ed16565b9063ffffffff61377916565b9392505050565b6000818152600c6020526040902060050154156138e6576000818152600c60205260409020600501546138e6908290613bba565b6003546000918252600c602052604090912060050155565b600290810a91900a031890565b600080808080808061391b610df9565b60045460008d815260096020526040902054919650101561398a5760045460008c815260096020526040902054613958908a63ffffffff61377916565b11156139665787965061398a565b60045460008c8152600960205260409020546139879163ffffffff61377916565b96505b60008711156139ec5760646139a8868902601463ffffffff6124ed16565b8115156139b157fe5b60008d81526009602052604090206006015491900496506139d990879063ffffffff612d3916565b60008c8152600960205260409020600601555b600a890493506014890492506064613a0b8a602063ffffffff6124ed16565b811515613a1457fe5b60008d8152600960205260409020600701549190049250613a3c90839063ffffffff612d3916565b60008c8152600960205260409020600701558915613acf5760008a8152600c6020526040902060040154613a7790859063ffffffff612d3916565b60008b8152600c6020526040808220600401929092556005549151610100909204600160a060020a0316916108fc86150291869190818181858888f19350505050158015613ac9573d6000803e3d6000fd5b50613b21565b613adf838563ffffffff612d3916565b6005546040519194506101009004600160a060020a0316906108fc8515029085906000818181858888f19350505050158015613b1f573d6000803e3d6000fd5b505b613b31898763ffffffff61377916565b90508915613b4c57613b49818563ffffffff61377916565b90505b613b5c818463ffffffff61377916565b9050613b6e818363ffffffff61377916565b60008c81526009602081905260409091200154909150613b9590829063ffffffff612d3916565b60009b8c52600960208190526040909c20909b019a909a555050505050505050505050565b6000828152600d602090815260408083208484528252808320600201546004546009909352908320600601548392613c26929161389f9190811515613bfb57fe5b6000898152600d602090815260408083208b845290915290206004015491900463ffffffff6124ed16565b915060009050613c36838561378e565b8015613c5a5750600083815260096020526040902060050154600160a060020a0316155b15613c965750600082815260096020526040902060028101546005909101805473ffffffffffffffffffffffffffffffffffffffff1916331790555b6000848152600c6020526040902060030154613cb990839063ffffffff612d3916565b6000858152600c60205260409020600381019190915560020154613ce490829063ffffffff612d3916565b6000858152600c60209081526040808320600290810194909455600d825280832087845290915290200154613d1f908363ffffffff612d3916565b6000948552600d6020908152604080872095875294905292909320600201919091555050565b6000828152600c60205260408120600501548190613d64908590613bba565b6000848152600c6020526040902060048101546003820154600290920154613d9692612d9a919063ffffffff612d3916565b905082811015613df0576040805160e560020a62461bcd02815260206004820152601260248201527f6561726e696e677320746f6f206c6f7765720000000000000000000000000000604482015290519081900360640190fd5b6000848152600c60205260409020600301548311613e41576000848152600c6020526040902060030154613e2a908463ffffffff61377916565b6000858152600c6020526040902060030155613f1d565b6000848152600c6020526040902060030154613e6490849063ffffffff61377916565b6000858152600c602052604081206003810191909155600401549093508311613ec0576000848152600c6020526040902060040154613ea9908463ffffffff61377916565b6000858152600c6020526040902060040155613f1d565b6000848152600c6020526040902060040154613ee390849063ffffffff61377916565b6000858152600c60205260408120600481019190915560020154909350613f0a9084613779565b6000858152600c60205260409020600201555b50929150505600736f7272792068756d616e73206f6e6c793d3d3d3d3d3d3d3d3d3d3d3d3d3d3d736f7272792068756d616e73206f6e6c79206f726967696e00000000000000006e6f742061637469766174650000000000000000000000000000000000000000a165627a7a72305820806f7c79cf6914ec115a4907a9eef78adc4086c3d2ed1731d199236da4b769ff0029"
}