{
  "address": "0x390582621cd2451172423d4810ea19086cbd3c03",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "EPIToken",
  "compilerVersion": "v0.4.21+commit.dfe3193c",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-09-27\n*/\n\npragma solidity ^0.4.12;\n \ncontract IMigrationContract {\n    function migrate(address addr, uint256 nas) returns (bool success);\n}\n \n/* taking ideas from FirstBlood token */\ncontract SafeMath {\n    /* function assert(bool assertion) internal { */\n    /*   if (!assertion) { */\n    /*     throw; */\n    /*   } */\n    /* }      // assert no longer needed once solidity is on 0.4.10 */\n \n \n    function safeAdd(uint256 x, uint256 y) internal returns(uint256) {\n        uint256 z = x + y;\n        assert((z >= x) && (z >= y));\n        return z;\n    }\n \n    function safeSubtract(uint256 x, uint256 y) internal returns(uint256) {\n        assert(x >= y);\n        uint256 z = x - y;\n        return z;\n    }\n \n    function safeMult(uint256 x, uint256 y) internal returns(uint256) {\n        uint256 z = x * y;\n        assert((x == 0)||(z/x == y));\n        return z;\n    }\n \n}\n \ncontract Token {\n    uint256 public totalSupply;\n    function balanceOf(address _owner) constant returns (uint256 balance);\n    function transfer(address _to, uint256 _value) returns (bool success);\n    function transferFrom(address _from, address _to, uint256 _value) returns (bool success);\n    function approve(address _spender, uint256 _value) returns (bool success);\n    function allowance(address _owner, address _spender) constant returns (uint256 remaining);\n    event Transfer(address indexed _from, address indexed _to, uint256 _value);\n    event Approval(address indexed _owner, address indexed _spender, uint256 _value);\n}\n \n \n/*  ERC 20 token */\ncontract StandardToken is Token {\n \n    function transfer(address _to, uint256 _value) returns (bool success) {\n        if (balances[msg.sender] >= _value && _value > 0) {\n            balances[msg.sender] -= _value;\n            balances[_to] += _value;\n            Transfer(msg.sender, _to, _value);\n            return true;\n        } else {\n            return false;\n        }\n    }\n \n    function transferFrom(address _from, address _to, uint256 _value) returns (bool success) {\n        if (balances[_from] >= _value && allowed[_from][msg.sender] >= _value && _value > 0) {\n            balances[_to] += _value;\n            balances[_from] -= _value;\n            allowed[_from][msg.sender] -= _value;\n            Transfer(_from, _to, _value);\n            return true;\n        } else {\n            return false;\n        }\n    }\n \n    function balanceOf(address _owner) constant returns (uint256 balance) {\n        return balances[_owner];\n    }\n \n    function approve(address _spender, uint256 _value) returns (bool success) {\n        allowed[msg.sender][_spender] = _value;\n        Approval(msg.sender, _spender, _value);\n        return true;\n    }\n \n    function allowance(address _owner, address _spender) constant returns (uint256 remaining) {\n        return allowed[_owner][_spender];\n    }\n \n    mapping (address => uint256) balances;\n    mapping (address => mapping (address => uint256)) allowed;\n}\n \ncontract EPIToken is StandardToken, SafeMath {\n \n    // metadata\n    string  public constant name = \"易派链\";\n    string  public constant symbol = \"EPI\";\n    uint256 public constant decimals = 18;\n    string  public version = \"1.0\";\n \n    // contracts\n    address public ethFundDeposit;          // deposit address for ETH for Nebulas Team.\n    address public newContractAddr;         // the new contract for nebulas token updates;\n \n    // crowdsale parameters\n    bool    public isFunding;                // switched to true in operational state\n    uint256 public fundingStartBlock;\n    uint256 public fundingStopBlock;\n \n    uint256 public currentSupply;           // current supply tokens for sell\n    uint256 public tokenRaised = 0;         // the number of total sold token\n    uint256 public tokenMigrated = 0;      // the number of total transferted token\n    uint256 public tokenExchangeRate = 625;              // 625 NAS tokens per 1 ETH\n \n    // events\n    event AllocateToken(address indexed _to, uint256 _value);    // allocate token for private sale;\n    event IssueToken(address indexed _to, uint256 _value);      // issue token for public sale;\n    event IncreaseSupply(uint256 _value);\n    event DecreaseSupply(uint256 _value);\n    event Migrate(address indexed _to, uint256 _value);\n \n    \n    function formatDecimals(uint256 _value) internal returns (uint256 ) {\n        return _value * 10 ** decimals;\n    }\n \n    // constructor\n    function EPIToken(\n        address _ethFundDeposit,\n        uint256 _currentSupply)\n    {\n        ethFundDeposit = _ethFundDeposit;\n \n        isFunding = false;                          //controls pre through crowdsale state\n        fundingStartBlock = 0;\n        fundingStopBlock = 0;\n \n        currentSupply = formatDecimals(_currentSupply);\n        totalSupply = formatDecimals(200000000);\n        balances[msg.sender] = totalSupply;\n        if(currentSupply > totalSupply) throw;\n    }\n \n    modifier isOwner()  { require(msg.sender == ethFundDeposit); _; }\n \n    /// @dev set the token's tokenExchangeRate,\n    function setTokenExchangeRate(uint256 _tokenExchangeRate) isOwner external {\n        if (_tokenExchangeRate == 0) throw;\n        if (_tokenExchangeRate == tokenExchangeRate) throw;\n \n        tokenExchangeRate = _tokenExchangeRate;\n    }\n \n     /// @dev increase the token's supply\n    function increaseSupply (uint256 _value) isOwner external {\n        uint256 value = formatDecimals(_value);\n        if (value + currentSupply > totalSupply) throw;\n        currentSupply = safeAdd(currentSupply, value);\n        IncreaseSupply(value);\n    }\n \n    /// @dev decrease the token's supply\n    function decreaseSupply (uint256 _value) isOwner external {\n        uint256 value = formatDecimals(_value);\n        if (value + tokenRaised > currentSupply) throw;\n \n        currentSupply = safeSubtract(currentSupply, value);\n        DecreaseSupply(value);\n    }\n \n   /// @dev turn on the funding state\n    function startFunding (uint256 _fundingStartBlock, uint256 _fundingStopBlock) isOwner external {\n        if (isFunding) throw;\n        if (_fundingStartBlock >= _fundingStopBlock) throw;\n        if (block.number >= _fundingStartBlock) throw;\n \n        fundingStartBlock = _fundingStartBlock;\n        fundingStopBlock = _fundingStopBlock;\n        isFunding = true;\n    }\n \n   /// @dev turn off the funding state\n    function stopFunding() isOwner external {\n        if (!isFunding) throw;\n        isFunding = false;\n    }\n \n     /// @dev set a new contract for recieve the tokens (for update contract)\n    function setMigrateContract(address _newContractAddr) isOwner external {\n        if (_newContractAddr == newContractAddr) throw;\n        newContractAddr = _newContractAddr;\n    }\n \n    /// @dev set a new owner.\n    function changeOwner(address _newFundDeposit) isOwner() external {\n        if (_newFundDeposit == address(0x0)) throw;\n        ethFundDeposit = _newFundDeposit;\n    }\n \n    /// sends the tokens to new contract\n    function migrate() external {\n        if(isFunding) throw;\n        if(newContractAddr == address(0x0)) throw;\n \n        uint256 tokens = balances[msg.sender];\n        if (tokens == 0) throw;\n \n        balances[msg.sender] = 0;\n        tokenMigrated = safeAdd(tokenMigrated, tokens);\n \n        IMigrationContract newContract = IMigrationContract(newContractAddr);\n        if (!newContract.migrate(msg.sender, tokens)) throw;\n \n        Migrate(msg.sender, tokens);               // log it\n    }\n \n    /// @dev sends ETH to Nebulas team\n    function transferETH() isOwner external {\n        if (this.balance == 0) throw;\n        if (!ethFundDeposit.send(this.balance)) throw;\n    }\n \n    /// @dev allocates NAS tokens to pre-sell address.\n    function allocateToken (address _addr, uint256 _eth) isOwner external {\n        if (_eth == 0) throw;\n        if (_addr == address(0x0)) throw;\n \n        uint256 tokens = safeMult(formatDecimals(_eth), tokenExchangeRate);\n        if (tokens + tokenRaised > currentSupply) throw;\n \n        tokenRaised = safeAdd(tokenRaised, tokens);\n        balances[_addr] += tokens;\n \n        AllocateToken(_addr, tokens);  \n    }\n \n    /// buys the tokens\n    function () payable {\n        if (!isFunding) throw;\n        if (msg.value == 0) throw;\n \n        if (block.number < fundingStartBlock) throw;\n        if (block.number > fundingStopBlock) throw;\n \n        uint256 tokens = safeMult(msg.value, tokenExchangeRate);\n        if (tokens + tokenRaised > currentSupply) throw;\n \n        tokenRaised = safeAdd(tokenRaised, tokens);\n        balances[msg.sender] += tokens;\n \n        IssueToken(msg.sender, tokens);  \n    }\n}",
  "bytecode": "60606040526040805190810160405260038082527f312e30000000000000000000000000000000000000000000000000000000000060208301529080516200004c92916020019062000137565b5060006009556000600a55610271600b5534156200006957600080fd5b6040516040806200113e833981016040528080519190602001805160048054600160a060020a031916600160a060020a0386161790556005805460a060020a60ff0219169055600060068190556007559150620000d69050816401000000006200012a810262000f051704565b600855620000f6630bebc20064010000000062000f056200012a82021704565b6000818155600160a060020a033316815260016020526040902081905560085411156200012257600080fd5b5050620001dc565b670de0b6b3a76400000290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200017a57805160ff1916838001178555620001aa565b82800160010185558215620001aa579182015b82811115620001aa5782518255916020019190600101906200018d565b50620001b8929150620001bc565b5090565b620001d991905b80821115620001b85760008155600101620001c3565b90565b610f5280620001ec6000396000f3006060604052600436106101745763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde03811461023f578063095ea7b3146102c95780630a9ffdb7146102ff57806313b531531461032357806318160ddd1461033657806323b872dd1461035b57806326a2157514610383578063313ce5671461039657806332513ce5146103a95780634172d080146103d85780634477c5da146103eb5780634a36df25146103fe57806354fd4d501461041d5780636fe3a5671461043057806370a0823114610443578063771282f614610462578063775c46cd146104755780638fd3ab801461048e57806395d89b41146104a157806398e52f9a146104b4578063a6f9dae1146104ca578063a81c3bdf146104e9578063a9059cbb146104fc578063b921e1631461051e578063cb7b867314610534578063d648a6471461054a578063dd62ed3e1461055d578063e28d717b14610582578063ff29507d14610595575b60055460009060a060020a900460ff16151561018f57600080fd5b34151561019b57600080fd5b6006544310156101aa57600080fd5b6007544311156101b957600080fd5b6101c534600b546105a8565b9050600854600954820111156101da57600080fd5b6101e6600954826105d3565b600955600160a060020a033316600081815260016020526040908190208054840190557f7ba26a0f068612fb882b3272004674d21fed286c2c8c795cf653044690b32db49083905190815260200160405180910390a250005b341561024a57600080fd5b6102526105ed565b60405160208082528190810183818151815260200191508051906020019080838360005b8381101561028e578082015183820152602001610276565b50505050905090810190601f1680156102bb5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156102d457600080fd5b6102eb600160a060020a0360043516602435610624565b604051901515815260200160405180910390f35b341561030a57600080fd5b610321600160a060020a0360043516602435610691565b005b341561032e57600080fd5b6102eb610760565b341561034157600080fd5b610349610770565b60405190815260200160405180910390f35b341561036657600080fd5b6102eb600160a060020a0360043581169060243516604435610776565b341561038e57600080fd5b61034961086d565b34156103a157600080fd5b610349610873565b34156103b457600080fd5b6103bc610878565b604051600160a060020a03909116815260200160405180910390f35b34156103e357600080fd5b610349610887565b34156103f657600080fd5b61032161088d565b341561040957600080fd5b610321600160a060020a03600435166108e0565b341561042857600080fd5b610252610945565b341561043b57600080fd5b6103496109e3565b341561044e57600080fd5b610349600160a060020a03600435166109e9565b341561046d57600080fd5b610349610a04565b341561048057600080fd5b610321600435602435610a0a565b341561049957600080fd5b610321610a84565b34156104ac57600080fd5b610252610bdb565b34156104bf57600080fd5b610321600435610c12565b34156104d557600080fd5b610321600160a060020a0360043516610c94565b34156104f457600080fd5b6103bc610cf3565b341561050757600080fd5b6102eb600160a060020a0360043516602435610d02565b341561052957600080fd5b610321600435610da5565b341561053f57600080fd5b610321600435610e27565b341561055557600080fd5b610349610e62565b341561056857600080fd5b610349600160a060020a0360043581169060243516610e68565b341561058d57600080fd5b610321610e93565b34156105a057600080fd5b610349610eff565b60008282028315806105c457508284828115156105c157fe5b04145b15156105cc57fe5b9392505050565b60008282018381108015906105c45750828110156105cc57fe5b60408051908101604052600981527fe69893e6b4bee993be0000000000000000000000000000000000000000000000602082015281565b600160a060020a03338116600081815260026020908152604080832094871680845294909152808220859055909291907f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259085905190815260200160405180910390a35060015b92915050565b60045460009033600160a060020a039081169116146106af57600080fd5b8115156106bb57600080fd5b600160a060020a03831615156106d057600080fd5b6106e46106dc83610f05565b600b546105a8565b9050600854600954820111156106f957600080fd5b610705600954826105d3565b600955600160a060020a038316600081815260016020526040908190208054840190557f1aee3ddc9eba03c98b273cd914e999b78162e1ddd1c022045394f635a469e1059083905190815260200160405180910390a2505050565b60055460a060020a900460ff1681565b60005481565b600160a060020a0383166000908152600160205260408120548290108015906107c65750600160a060020a0380851660009081526002602090815260408083203390941683529290522054829010155b80156107d25750600082115b1561086357600160a060020a03808416600081815260016020908152604080832080548801905588851680845281842080548990039055600283528184203390961684529490915290819020805486900390559091907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9085905190815260200160405180910390a35060016105cc565b5060009392505050565b60095481565b601281565b600554600160a060020a031681565b600b5481565b60045433600160a060020a039081169116146108a857600080fd5b60055460a060020a900460ff1615156108c057600080fd5b6005805474ff000000000000000000000000000000000000000019169055565b60045433600160a060020a039081169116146108fb57600080fd5b600554600160a060020a038281169116141561091657600080fd5b6005805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b60038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109db5780601f106109b0576101008083540402835291602001916109db565b820191906000526020600020905b8154815290600101906020018083116109be57829003601f168201915b505050505081565b600a5481565b600160a060020a031660009081526001602052604090205490565b60085481565b60045433600160a060020a03908116911614610a2557600080fd5b60055460a060020a900460ff1615610a3c57600080fd5b808210610a4857600080fd5b43829010610a5557600080fd5b6006919091556007556005805474ff0000000000000000000000000000000000000000191660a060020a179055565b600554600090819060a060020a900460ff1615610aa057600080fd5b600554600160a060020a03161515610ab757600080fd5b600160a060020a0333166000908152600160205260409020549150811515610ade57600080fd5b600160a060020a033316600090815260016020526040812055600a54610b0490836105d3565b600a5550600554600160a060020a03168063ad68ebf733846040517c010000000000000000000000000000000000000000000000000000000063ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b1515610b7857600080fd5b5af11515610b8557600080fd5b505050604051805190501515610b9a57600080fd5b33600160a060020a03167fa59785389b00cbd19745afbe8d59b28e3161395c6b1e3525861a2b0dede0b90d8360405190815260200160405180910390a25050565b60408051908101604052600381527f4550490000000000000000000000000000000000000000000000000000000000602082015281565b60045460009033600160a060020a03908116911614610c3057600080fd5b610c3982610f05565b905060085460095482011115610c4e57600080fd5b610c5a60085482610f12565b6008557f9ecdebfa921d6ab8cecf7259ef30327664ad0d45d32fa3641089b00b533f2eee8160405190815260200160405180910390a15050565b60045433600160a060020a03908116911614610caf57600080fd5b600160a060020a0381161515610cc457600080fd5b6004805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600454600160a060020a031681565b600160a060020a033316600090815260016020526040812054829010801590610d2b5750600082115b15610d9d57600160a060020a033381166000818152600160205260408082208054879003905592861680825290839020805486019055917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9085905190815260200160405180910390a350600161068b565b50600061068b565b60045460009033600160a060020a03908116911614610dc357600080fd5b610dcc82610f05565b905060005460085482011115610de157600080fd5b610ded600854826105d3565b6008557ffaabf704b783af9e21c676de8e3e6e0c9c2260dce2ee299437ec9b70151ddaeb8160405190815260200160405180910390a15050565b60045433600160a060020a03908116911614610e4257600080fd5b801515610e4e57600080fd5b600b54811415610e5d57600080fd5b600b55565b60065481565b600160a060020a03918216600090815260026020908152604080832093909416825291909152205490565b60045433600160a060020a03908116911614610eae57600080fd5b600160a060020a033016311515610ec457600080fd5b600454600160a060020a039081169030163180156108fc0290604051600060405180830381858888f193505050501515610efd57600080fd5b565b60075481565b670de0b6b3a76400000290565b60008082841015610f1f57fe5b50509003905600a165627a7a72305820498d3bdf46516341d8e7df32f735488af99cbebfc29937480a70ad77132d46be0029000000000000000000000000ce219a7b714936b006883c7488c818cce334493a000000000000000000000000000000000000000000000000000000000bebc200",
  "constructorArguments": "000000000000000000000000ce219a7b714936b006883c7488c818cce334493a000000000000000000000000000000000000000000000000000000000bebc200"
}