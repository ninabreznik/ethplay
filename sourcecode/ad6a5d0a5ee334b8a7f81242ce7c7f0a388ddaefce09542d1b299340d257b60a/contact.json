{
  "address": "0xfebb1084215909306daf9631e010cd27bf16fa58",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "MyEthLab",
  "compilerVersion": "v0.4.25+commit.59dbf8f1",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-11-20\n*/\n\npragma solidity ^0.4.24;\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that revert on error\n */\nlibrary SafeMath {\n\n  /**\n  * @dev Multiplies two numbers, reverts on overflow.\n  */\n  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n    // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n    // benefit is lost if 'b' is also tested.\n    // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n    if (a == 0) {\n      return 0;\n    }\n\n    uint256 c = a * b;\n    require(c / a == b);\n\n    return c;\n  }\n\n  /**\n  * @dev Integer division of two numbers truncating the quotient, reverts on division by zero.\n  */\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\n    require(b > 0); // Solidity only automatically asserts when dividing by 0\n    uint256 c = a / b;\n    // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n\n    return c;\n  }\n\n  /**\n  * @dev Subtracts two numbers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n  */\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n    require(b <= a);\n    uint256 c = a - b;\n\n    return c;\n  }\n\n  /**\n  * @dev Adds two numbers, reverts on overflow.\n  */\n  function add(uint256 a, uint256 b) internal pure returns (uint256) {\n    uint256 c = a + b;\n    require(c >= a);\n\n    return c;\n  }\n\n  /**\n  * @dev Divides two numbers and returns the remainder (unsigned integer modulo),\n  * reverts when dividing by zero.\n  */\n  function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n    require(b != 0);\n    return a % b;\n  }\n}\n\n\n\n\ncontract MyEthLab {\n    using SafeMath for uint256;\n\n    uint256 constant public PERCENT_PER_DAY = 5;                        // 0.05%\n    uint256 constant public ONE_HUNDRED_PERCENTS = 10000;               // 100%\n    uint256 constant public MARKETING_FEE = 700;                        // 7%\n    uint256 constant public TEAM_FEE = 300;                             // 3%\n    uint256 constant public REFERRAL_PERCENTS = 300;                    // 3%\n    uint256 constant public MAX_RATE = 330;                             // 3.3%\n    uint256 constant public MAX_DAILY_LIMIT = 150 ether;                // 150 ETH\n    uint256 constant public MAX_DEPOSIT = 25 ether;                     // 25 ETH\n    uint256 constant public MIN_DEPOSIT = 50 finney;                    // 0.05 ETH\n    uint256 constant public MAX_USER_DEPOSITS_COUNT = 50;\n\n    struct Deposit {\n        uint256 time;\n        uint256 amount;\n        uint256 rate;\n    }\n\n    struct User {\n        address referrer;\n        uint256 firstTime;\n        uint256 lastPayment;\n        uint256 totalAmount;\n        uint256 lastInvestment;\n        uint256 depositAdditionalRate;\n        Deposit[] deposits;\n    }\n\n    address public marketing = 0x270ff8c154d4d738B78bEd52a6885b493A2EDdA3;\n    address public team = 0x69B18e895F2D9438d2128DB8151EB6e9bB02136d;\n\n    uint256 public totalDeposits;\n    uint256 public dailyTime;\n    uint256 public dailyLimit;\n    bool public running = true;\n    mapping(address => User) public users;\n\n    event InvestorAdded(address indexed investor);\n    event ReferrerAdded(address indexed investor, address indexed referrer);\n    event DepositAdded(address indexed investor, uint256 indexed depositsCount, uint256 amount);\n    event UserDividendPayed(address indexed investor, uint256 dividend);\n    event ReferrerPayed(address indexed investor, address indexed referrer, uint256 amount, uint256 refAmount);\n    event FeePayed(address indexed investor, uint256 amount);\n    event TotalDepositsChanged(uint256 totalDeposits);\n    event BalanceChanged(uint256 balance);\n    event DepositDividendPayed(address indexed investor, uint256 indexed index, uint256 deposit, uint256 rate, uint256 dividend);\n    \n    constructor() public {\n        dailyTime = now.add(1 days);\n    }\n    \n    function() public payable {\n        require(running, \"MyEthLab is not running\");\n        User storage user = users[msg.sender];\n\n        if (now > dailyTime) {\n            dailyTime = now.add(1 days);\n            dailyLimit = 0;\n        }\n\n        // Dividends\n        uint256[] memory dividends = dividendsForUser(msg.sender);\n        uint256 dividendsSum = _dividendsSum(dividends);\n        if (dividendsSum > 0) {\n\n            // One payment per hour and first payment will be after 24 hours\n            if ((now.sub(user.lastPayment)) > 1 hours && (now.sub(user.firstTime)) > 1 days) {\n                if (dividendsSum >= address(this).balance) {\n                \tdividendsSum = address(this).balance;\n                \trunning = false;\n            \t}\n                msg.sender.transfer(dividendsSum);\n                user.lastPayment = now;\n                emit UserDividendPayed(msg.sender, dividendsSum);\n                for (uint i = 0; i < dividends.length; i++) {\n                    emit DepositDividendPayed(\n                        msg.sender,\n                        i,\n                        user.deposits[i].amount,\n                        user.deposits[i].rate,\n                        dividends[i]\n                    );\n                }\n            }\n        }\n\n        // Deposit\n        if (msg.value > 0) {\n            require(msg.value >= MIN_DEPOSIT, \"You dont have enough ethers\");\n\n            uint256 userTotalDeposit = user.totalAmount.add(msg.value);\n            require(userTotalDeposit <= MAX_DEPOSIT, \"You have enough invesments\");\n\n            if (user.firstTime != 0 && (now.sub(user.lastInvestment)) > 1 days) {\n                user.depositAdditionalRate = user.depositAdditionalRate.add(5);\n            }\n\n            if (user.firstTime == 0) {\n                user.firstTime = now;\n                user.lastPayment = now;\n                emit InvestorAdded(msg.sender);\n            }\n\n            user.lastInvestment = now;\n            user.totalAmount = userTotalDeposit;\n\n            uint currentRate = getRate(userTotalDeposit).add(user.depositAdditionalRate).add(balanceAdditionalRate());\n            if (currentRate > MAX_RATE) {\n                currentRate = MAX_RATE;\n            }\n\n            // Create deposit\n            user.deposits.push(Deposit({\n                time: now,\n                amount: msg.value,\n                rate: currentRate\n            }));\n\n            require(user.deposits.length <= MAX_USER_DEPOSITS_COUNT, \"Too many deposits per user\");\n            emit DepositAdded(msg.sender, user.deposits.length, msg.value);\n\n            // Check daily limit and Add daily amount of etheres\n            dailyLimit = dailyLimit.add(msg.value);\n            require(dailyLimit < MAX_DAILY_LIMIT, \"Please wait one more day too invest\");\n\n            // Add to total deposits\n            totalDeposits = totalDeposits.add(msg.value);\n            emit TotalDepositsChanged(totalDeposits);\n\n            // Add referral if possible\n            if (user.referrer == address(0) && msg.data.length == 20) {\n                address referrer = _bytesToAddress(msg.data);\n                if (referrer != address(0) && referrer != msg.sender && now >= users[referrer].firstTime) {\n                    user.referrer = referrer;\n                    emit ReferrerAdded(msg.sender, referrer);\n                }\n            }\n\n            // Referrers fees\n            if (users[msg.sender].referrer != address(0)) {\n                address referrerAddress = users[msg.sender].referrer;\n                uint256 refAmount = msg.value.mul(REFERRAL_PERCENTS).div(ONE_HUNDRED_PERCENTS);\n                referrerAddress.send(refAmount); // solium-disable-line security/no-send\n                emit ReferrerPayed(msg.sender, referrerAddress, msg.value, refAmount);\n            }\n\n            // Marketing and team fees\n            uint256 marketingFee = msg.value.mul(MARKETING_FEE).div(ONE_HUNDRED_PERCENTS);\n            uint256 teamFee = msg.value.mul(TEAM_FEE).div(ONE_HUNDRED_PERCENTS);\n            marketing.send(marketingFee); // solium-disable-line security/no-send\n            team.send(teamFee); // solium-disable-line security/no-send\n            emit FeePayed(msg.sender, marketingFee.add(teamFee));            \n        }\n\n        emit BalanceChanged(address(this).balance);\n    }\n\n    function depositsCountForUser(address wallet) public view returns(uint256) {\n        return users[wallet].deposits.length;\n    }\n\n    function depositForUser(address wallet, uint256 index) public view returns(uint256 time, uint256 amount, uint256 rate) {\n        time = users[wallet].deposits[index].time;\n        amount = users[wallet].deposits[index].amount;\n        rate = users[wallet].deposits[index].rate;\n    }\n\n    function dividendsSumForUser(address wallet) public view returns(uint256 dividendsSum) {\n        return _dividendsSum(dividendsForUser(wallet));\n    }\n\n    function dividendsForUser(address wallet) public view returns(uint256[] dividends) {\n        User storage user = users[wallet];\n        dividends = new uint256[](user.deposits.length);\n\n        for (uint i = 0; i < user.deposits.length; i++) {\n            uint256 duration = now.sub(user.lastPayment);\n            dividends[i] = dividendsForAmountAndTime(user.deposits[i].rate, user.deposits[i].amount, duration);\n        }\n    }\n\n    function dividendsForAmountAndTime(uint256 rate, uint256 amount, uint256 duration) public pure returns(uint256) {\n        return amount\n            .mul(rate).div(ONE_HUNDRED_PERCENTS)\n            .mul(duration).div(1 days);\n    }\n\n    function _bytesToAddress(bytes data) private pure returns(address addr) {\n        // solium-disable-next-line security/no-inline-assembly\n        assembly {\n            addr := mload(add(data, 20)) \n        }\n    }\n\n    function _dividendsSum(uint256[] dividends) private pure returns(uint256 dividendsSum) {\n        for (uint i = 0; i < dividends.length; i++) {\n            dividendsSum = dividendsSum.add(dividends[i]);\n        }\n    }\n    \n    function getRate(uint256 userTotalDeposit) private pure returns(uint256) {\n        if (userTotalDeposit < 5 ether) {\n            return 180;\n        } else if (userTotalDeposit < 10 ether) {\n            return 200;\n        } else {\n            return 220;\n        }\n    }\n    \n    function balanceAdditionalRate() public view returns(uint256) {\n        if (address(this).balance < 600 ether) {\n            return 0;\n        } else if (address(this).balance < 1200 ether) {\n            return 10;\n        } else if (address(this).balance < 1800 ether) {\n            return 20;\n        } else if (address(this).balance < 2400 ether) {\n            return 30;\n        } else if (address(this).balance < 3000 ether) {\n            return 40;\n        } else {\n            return 50;\n        }\n    }\n}",
  "bytecode": "608060405260008054600160a060020a031990811673270ff8c154d4d738b78bed52a6885b493a2edda317909155600180549091167369b18e895f2d9438d2128db8151eb6e9bb02136d1781556005805460ff1916909117905534801561006557600080fd5b506100804262015180640100000000610ce661008882021704565b6003556100a1565b60008282018381101561009a57600080fd5b9392505050565b611190806100b06000396000f3006080604052600436106101325763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416632d3e474a81146109e357806344038f9014610a1457806348f95a7d14610a3b5780634b45b97d14610a5c57806367eeba0c14610a715780637527204314610a865780637d88209714610a9b57806385f2aef214610ab057806386be398114610ac557806388938f3d14610b36578063a87430ba14610b4b578063af3e212214610ba9578063bf4a6da214610bbe578063c24dbebd14610bd3578063cbcc258714610be8578063cbd076f814610c06578063ce1b81b414610a14578063d85bd52614610c48578063dd5967c314610c71578063e1e158a514610c86578063e62a4c9f14610c9b578063ebe4c0d114610cb0578063eeb12bc714610cd1575b600060606000806000806000806000806000600560009054906101000a900460ff1615156101aa576040805160e560020a62461bcd02815260206004820152601760248201527f4d794574684c6162206973206e6f742072756e6e696e67000000000000000000604482015290519081900360640190fd5b336000908152600660205260409020600354909b504211156101e2576101d9426201518063ffffffff610ce616565b60035560006004555b6101eb33610d03565b99506101f68a610df4565b9850600089111561038c57610e1061021b8c6002015442610e3990919063ffffffff16565b11801561024057506201518061023e8c6001015442610e3990919063ffffffff16565b115b1561038c573031891061025c576005805460ff19169055303198505b60405133908a156108fc02908b906000818181858888f19350505050158015610289573d6000803e3d6000fd5b504260028c0155604080518a8152905133917f5e93d015f6a0a56fff61b5083f27af603f38199c6135fdc2bccf87274d40696c919081900360200190a2600097505b895188101561038c578733600160a060020a03167ffaa4a63f8135e85684de273912ecf6efae3d807cffdf88015c5aa4112801919d8d6006018b81548110151561031157fe5b9060005260206000209060030201600101548e6006018c81548110151561033457fe5b9060005260206000209060030201600201548e8d81518110151561035457fe5b9060200190602002015160405180848152602001838152602001828152602001935050505060405180910390a36001909701966102cb565b60003411156109a25766b1a2bc2ec500003410156103f4576040805160e560020a62461bcd02815260206004820152601b60248201527f596f7520646f6e74206861766520656e6f756768206574686572730000000000604482015290519081900360640190fd5b60038b0154610409903463ffffffff610ce616565b965068015af1d78b58c4000087111561046c576040805160e560020a62461bcd02815260206004820152601a60248201527f596f75206861766520656e6f75676820696e7665736d656e7473000000000000604482015290519081900360640190fd5b60018b0154158015906104975750620151806104958c6004015442610e3990919063ffffffff16565b115b156104b75760058b8101546104b19163ffffffff610ce616565b60058c01555b60018b015415156104fb574260018c0181905560028c015560405133907f62e6a5118be03f9bfedb79b0ed7ed75ee4a9e15fc4c69d2c4976acde26fa2d5f90600090a25b4260048c015560038b01879055610530610513610e50565b6105248d600501546105248b610edb565b9063ffffffff610ce616565b955061014a8611156105425761014a95505b6040805160608101825242815234602080830191825292820189815260068f0180546001818101835560008381529690962094516003909102909401938455915193830193909355915160029091015554603210156105eb576040805160e560020a62461bcd02815260206004820152601a60248201527f546f6f206d616e79206465706f73697473207065722075736572000000000000604482015290519081900360640190fd5b60068b015460408051348152905133917f3ea05f17364a3fbdabda40874f8e3195fbf3507f56f1e19952788c518ae40808919081900360200190a3600454610639903463ffffffff610ce616565b6004819055680821ab0d4414980000116106c3576040805160e560020a62461bcd02815260206004820152602360248201527f506c656173652077616974206f6e65206d6f72652064617920746f6f20696e7660448201527f6573740000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b6002546106d6903463ffffffff610ce616565b600281905560408051918252517f6ef985e4fe077fc1119af275b5dc44ac78fbaa5da78b45d5436988a64318a4199181900360200190a18a54600160a060020a03161580156107255750601436145b15610807576107646000368080601f01602080910402602001604051908101604052809392919081815260200183838082843750610f16945050505050565b9450600160a060020a038516158015906107875750600160a060020a0385163314155b80156107ae5750600160a060020a0385166000908152600660205260409020600101544210155b15610807578a5473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0386169081178c5560405133907fec49a3c8c4ae06c18160fe86119c381c9d213ac3e052ff35b594da8687b193c790600090a35b33600090815260066020526040902054600160a060020a0316156108d55733600090815260066020526040902054600160a060020a031693506108646127106108583461012c63ffffffff610f1d16565b9063ffffffff610f4b16565b604051909350600160a060020a0385169084156108fc029085906000818181858888f1505060408051348152602081018890528151600160a060020a038a1695503394507fbde90f3267f8b3de9b53cb24d06b64ac0ab8db19bde867cc665fda36226a027693509081900390910190a35b6108ed612710610858346102bc63ffffffff610f1d16565b91506109076127106108583461012c63ffffffff610f1d16565b60008054604051929350600160a060020a03169184156108fc0291859190818181858888f15050600154604051600160a060020a03909116935084156108fc0292508491506000818181858888f1503393507f2899dc8c12def1caa9accb64257cf2fd9f960f21bb27a560a757eae3c2ec43c1925061099091508590508463ffffffff610ce616565b60408051918252519081900360200190a25b604080513031815290517f2f23375908fc16f7e00482a87cc91dd819a6eeaf132264c16a70b71a3205de8a9181900360200190a15050505050505050505050005b3480156109ef57600080fd5b506109f8610f6e565b60408051600160a060020a039092168252519081900360200190f35b348015610a2057600080fd5b50610a29610f7d565b60408051918252519081900360200190f35b348015610a4757600080fd5b50610a29600160a060020a0360043516610f83565b348015610a6857600080fd5b50610a29610fa2565b348015610a7d57600080fd5b50610a29610fa8565b348015610a9257600080fd5b50610a29610fae565b348015610aa757600080fd5b50610a29610fb4565b348015610abc57600080fd5b506109f8610fba565b348015610ad157600080fd5b50610ae6600160a060020a0360043516610d03565b60408051602080825283518183015283519192839290830191858101910280838360005b83811015610b22578181015183820152602001610b0a565b505050509050019250505060405180910390f35b348015610b4257600080fd5b50610a29610fc9565b348015610b5757600080fd5b50610b6c600160a060020a0360043516610fce565b60408051600160a060020a0390971687526020870195909552858501939093526060850191909152608084015260a0830152519081900360c00190f35b348015610bb557600080fd5b50610a2961100d565b348015610bca57600080fd5b50610a29611013565b348015610bdf57600080fd5b50610a29611018565b348015610bf457600080fd5b50610a2960043560243560443561101e565b348015610c1257600080fd5b50610c2a600160a060020a0360043516602435611053565b60408051938452602084019290925282820152519081900360600190f35b348015610c5457600080fd5b50610c5d61111d565b604080519115158252519081900360200190f35b348015610c7d57600080fd5b50610a29611126565b348015610c9257600080fd5b50610a29611133565b348015610ca757600080fd5b50610a2961113e565b348015610cbc57600080fd5b50610a29600160a060020a036004351661114b565b348015610cdd57600080fd5b50610a29610e50565b600082820183811015610cf857600080fd5b8091505b5092915050565b600160a060020a038116600090815260066020818152604080842092830154815181815281840281019093019091526060939182918015610d4e578160200160208202803883390190505b509350600091505b6006830154821015610dec576002830154610d7890429063ffffffff610e3916565b9050610dc98360060183815481101515610d8e57fe5b9060005260206000209060030201600201548460060184815481101515610db157fe5b9060005260206000209060030201600101548361101e565b8483815181101515610dd757fe5b60209081029091010152600190910190610d56565b505050919050565b6000805b8251811015610e3357610e298382815181101515610e1257fe5b60209081029091010151839063ffffffff610ce616565b9150600101610df8565b50919050565b60008083831115610e4957600080fd5b5050900390565b6000682086ac35105260000030311015610e6c57506000610ed8565b68410d586a20a4c0000030311015610e865750600a610ed8565b686194049f30f720000030311015610ea057506014610ed8565b68821ab0d4414980000030311015610eba5750601e610ed8565b68a2a15d09519be0000030311015610ed457506028610ed8565b5060325b90565b6000674563918244f40000821015610ef5575060b4610f11565b678ac7230489e80000821015610f0d575060c8610f11565b5060dc5b919050565b6014015190565b600080831515610f305760009150610cfc565b50828202828482811515610f4057fe5b0414610cf857600080fd5b600080808311610f5a57600080fd5b8284811515610f6557fe5b04949350505050565b600054600160a060020a031681565b61012c81565b600160a060020a03166000908152600660208190526040909120015490565b60035481565b60045481565b61271081565b60025481565b600154600160a060020a031681565b600581565b600660205260009081526040902080546001820154600283015460038401546004850154600590950154600160a060020a039094169492939192909186565b6102bc81565b603281565b61014a81565b600061104b620151806108588461103f61271083898b63ffffffff610f1d16565b9063ffffffff610f1d16565b949350505050565b600160a060020a03821660009081526006602081905260408220018054829182918590811061107e57fe5b60009182526020808320600390920290910154600160a060020a0388168352600691829052604090922001805491945090859081106110b957fe5b90600052602060002090600302016001015491506006600086600160a060020a0316600160a060020a031681526020019081526020016000206006018481548110151561110257fe5b90600052602060002090600302016002015490509250925092565b60055460ff1681565b68015af1d78b58c4000081565b66b1a2bc2ec5000081565b680821ab0d441498000081565b600061115e61115983610d03565b610df4565b929150505600a165627a7a72305820a60174269c2e611d0df168a64e52cac6af2b12102bd3a1645f90c66312ef63eb0029"
}