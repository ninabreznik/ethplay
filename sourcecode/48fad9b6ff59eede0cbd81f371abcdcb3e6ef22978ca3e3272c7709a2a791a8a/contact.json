{
  "address": "0xcbce61316759d807c474441952ce41985bbc5a40",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "MoacToken",
  "compilerVersion": "v0.4.11+commit.68ef5810",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2017-11-13\n*/\n\npragma solidity ^0.4.11;\n\n/**\n * ERC 20 token\n *\n * https://github.com/ethereum/EIPs/issues/20\n */\ncontract MoacToken  {\n    function balanceOf(address _owner) constant returns (uint256 balance) {\n        return balances[_owner];\n    }\n\n    function approve(address _spender, uint256 _value) returns (bool success) {\n        allowed[msg.sender][_spender] = _value;\n        Approval(msg.sender, _spender, _value);\n        return true;\n    }\n\n    function allowance(address _owner, address _spender) constant returns (uint256 remaining) {\n      return allowed[_owner][_spender];\n    }\n\n    mapping(address => uint256) balances;\n    mapping(address => uint256) redeem;\n    mapping (address => mapping (address => uint256)) allowed;\n\n    uint256 public totalSupply;\n    string public name = \"MoacToken Token\";\n    string public symbol = \"MOAC\";\n    uint public decimals = 18;\n\n    uint public startBlock; //crowdsale start block (set in constructor)\n    uint public endBlock; //crowdsale end block (set in constructor)\n\n    address public founder = 0x0;\n    address public owner = 0x0;\n\n    // signer address \n    address public signer = 0x0;\n\n    // price is defined by levels\n    uint256 public levelOneTokenNum = 30000000 * 10**18; //first level \n    uint256 public levelTwoTokenNum = 50000000 * 10**18; //second level \n    uint256 public levelThreeTokenNum = 75000000 * 10**18; //third level \n    uint256 public levelFourTokenNum = 100000000 * 10**18; //fourth level \n    \n    //max amount raised during crowdsale\n    uint256 public etherCap = 1000000 * 10**18;  \n    uint public transferLockup = 370285; \n    uint public founderLockup = 86400; \n    \n    uint256 public founderAllocation = 100 * 10**16; \n    bool public founderAllocated = false; \n\n    uint256 public saleTokenSupply = 0; \n    uint256 public saleEtherRaised = 0; \n    bool public halted = false; \n\n    event Donate(uint256 eth, uint256 fbt);\n    event AllocateFounderTokens(address indexed sender);\n    event Transfer(address indexed _from, address indexed _to, uint256 _value);\n    event Approval(address indexed _owner, address indexed _spender, uint256 _value);\n    event print(bytes32 msg);\n\n    function MoacToken(address founderInput, address signerInput, uint startBlockInput, uint endBlockInput) {\n        founder = founderInput;\n        signer = signerInput;\n        startBlock = startBlockInput;\n        endBlock = endBlockInput;\n        owner = msg.sender;\n    }\n\n    //price based on current token supply\n    function price() constant returns(uint256) {\n        if (totalSupply<levelOneTokenNum) return 1600;\n        if (totalSupply>=levelOneTokenNum && totalSupply < levelTwoTokenNum) return 1000;\n        if (totalSupply>=levelTwoTokenNum && totalSupply < levelThreeTokenNum) return 800;\n        if (totalSupply>=levelThreeTokenNum && totalSupply < levelFourTokenNum) return 730;\n        if (totalSupply>=levelFourTokenNum) return 680;\n        return 1600;\n    }\n\n    // price() exposed for unit tests\n    function testPrice(uint256 currentSupply) constant returns(uint256) {\n        if (currentSupply<levelOneTokenNum) return 1600;\n        if (currentSupply>=levelOneTokenNum && currentSupply < levelTwoTokenNum) return 1000;\n        if (currentSupply>=levelTwoTokenNum && currentSupply < levelThreeTokenNum) return 800;\n        if (currentSupply>=levelThreeTokenNum && currentSupply < levelFourTokenNum) return 730;\n        if (currentSupply>=levelFourTokenNum) return 680;\n        return 1600;\n    }\n\n\n    // Donate entry point\n    function donate( bytes32 hash) payable {\n        print(hash);\n        if (block.number<startBlock || block.number>endBlock || (saleEtherRaised + msg.value)>etherCap || halted) throw;\n        uint256 tokens = (msg.value * price());\n        balances[msg.sender] = (balances[msg.sender] + tokens);\n        totalSupply = (totalSupply + tokens);\n        saleEtherRaised = (saleEtherRaised + msg.value);\n        //immediately send Ether to founder address\n        if (!founder.call.value(msg.value)()) throw; \n        Donate(msg.value, tokens);\n    }\n\n    /**\n     * Set up founder address token balance.\n     */\n    function allocateFounderTokens() {\n        if (msg.sender!=founder) throw;\n        if (block.number <= endBlock + founderLockup) throw;\n        if (founderAllocated) throw;\n        balances[founder] = (balances[founder] + saleTokenSupply * founderAllocation / (1 ether));\n        totalSupply = (totalSupply + saleTokenSupply * founderAllocation / (1 ether));\n        founderAllocated = true;\n        AllocateFounderTokens(msg.sender);\n    }\n\n    /**\n     * For offline donation, executed by signer only. only available during the sale\n     */\n    function offlineDonate(uint256 offlineTokenNum, uint256 offlineEther) {\n        if (msg.sender!=signer) throw;\n        if (block.number >= endBlock) throw; //offline can be done only before end block\n        \n        //check if overflow\n        if( (totalSupply +offlineTokenNum) > totalSupply && (saleEtherRaised + offlineEther)>saleEtherRaised){\n            totalSupply = (totalSupply + offlineTokenNum);\n            balances[founder] = (balances[founder] + offlineTokenNum );\n            saleEtherRaised = (saleEtherRaised + offlineEther);\n        }\n    }\n\n\n    /** \n     * emergency adjust if incorrectly set by signer, only available during the sale\n     */\n    function offlineAdjust(uint256 offlineTokenNum, uint256 offlineEther) {\n        if (msg.sender!=founder) throw;\n        if (block.number >= endBlock) throw; //offline can be done only before end block\n        \n        //check if overflow\n        if( (totalSupply - offlineTokenNum) > 0 && (saleEtherRaised - offlineEther) > 0 && (balances[founder] - offlineTokenNum)>0){\n            totalSupply = (totalSupply - offlineTokenNum);\n            balances[founder] = (balances[founder] - offlineTokenNum );\n            saleEtherRaised = (saleEtherRaised - offlineEther);\n        }\n    }\n\n\n    //check for redeemed balance\n    function redeemBalanceOf(address _owner) constant returns (uint256 balance) {\n        return redeem[_owner];\n    }\n\n    /**\n     * redeem token in MOAC network\n     */\n    function redeemToken(uint256 tokenNum) {\n        if (block.number <= (endBlock + transferLockup) && msg.sender!=founder) throw; \n        if( balances[msg.sender] < tokenNum ) throw;\n        balances[msg.sender] = (balances[msg.sender] - tokenNum );\n        redeem[msg.sender] += tokenNum;\n    }\n\n    /**\n     * restore redeemed back to user, only founder can do, if user made an error\n     */\n    function redeemRestore(address _to, uint256 tokenNum){\n        if( msg.sender != founder) throw;\n        if( redeem[_to] < tokenNum ) throw;\n\n        redeem[_to] -= tokenNum;\n        balances[_to] += tokenNum;\n    }\n\n\n    /**\n     * Emergency Stop ICO.\n     */\n    function halt() {\n        if (msg.sender!=founder) throw;\n        halted = true;\n    }\n\n    function unhalt() {\n        if (msg.sender!=founder) throw;\n        halted = false;\n    }\n\n    // only owner can kill\n    function kill() { \n        if (msg.sender == owner) suicide(owner); \n    }\n\n\n    /**\n     * Change founder address (where ICO ETH is being forwarded).\n     */\n    function changeFounder(address newFounder) {\n        if (msg.sender!=founder) throw;\n        founder = newFounder;\n    }\n\n    /**\n     * ERC 20 Standard Token interface transfer function\n     */\n    function transfer(address _to, uint256 _value) returns (bool success) {\n        if (block.number <= (endBlock + transferLockup) && msg.sender!=founder) throw;\n\n        //Default assumes totalSupply can't be over max (2^256 - 1).\n        if (balances[msg.sender] >= _value && (balances[_to] + _value) > balances[_to]) {\n            balances[msg.sender] -= _value;\n            balances[_to] += _value;\n            Transfer(msg.sender, _to, _value);\n            return true;\n        } else { return false; }\n\n    }\n\n    /**\n     * ERC 20 Standard Token interface transfer function\n     */\n    function transferFrom(address _from, address _to, uint256 _value) returns (bool success) {\n        if (block.number <= (endBlock + transferLockup) && msg.sender!=founder) throw;\n\n        //same as above. Replace this line with the following if you want to protect against wrapping uints.\n        if (balances[_from] >= _value && allowed[_from][msg.sender] >= _value && (balances[_to] + _value) > balances[_to]) {\n            balances[_to] += _value;\n            balances[_from] -= _value;\n            allowed[_from][msg.sender] -= _value;\n            Transfer(_from, _to, _value);\n            return true;\n        } else { return false; }\n    }\n\n    /**\n     * Do not allow direct deposits.\n     *\n     * All crowdsale depositors must have read the legal agreement.\n     * This is confirmed by having them signing the terms of service on the website.\n     * The give their crowdsale Ethereum source address on the website.\n     * donate() takes data as input and rejects all deposits that do not have\n     * signature you receive after reading terms of service.\n     *\n     */\n    function() {\n        throw;\n    }\n\n}",
  "bytecode": "60a0604052600f60608190527f4d6f6163546f6b656e20546f6b656e00000000000000000000000000000000006080908152620000409160049190620001ba565b506040805180820190915260048082527f4d4f41430000000000000000000000000000000000000000000000000000000060209092019182526200008791600591620001ba565b506012600681905560098054600160a060020a0319908116909155600a805482169055600b805490911690556a18d0bf423c03d8de000000600c556a295be96e64066972000000600d556a3e09de2596099e2b000000600e556a52b7d2dcc80cd2e4000000600f5569d3c21bcecceda10000006010556205a66d601155620151809055670de0b6b3a76400006013556014805460ff199081169091556000601581905560165560178054909116905534156200013f57fe5b6040516080806200157383398101604090815281516020830151918301516060909301519092905b60098054600160a060020a03808716600160a060020a031992831617909255600b805486841690831617905560078490556008839055600a805433909316929091169190911790555b5050505062000264565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001fd57805160ff19168380011785556200022d565b828001600101855582156200022d579182015b828111156200022d57825182559160200191906001019062000210565b5b506200023c92915062000240565b5090565b6200026191905b808211156200023c576000815560010162000247565b5090565b90565b6112ff80620002746000396000f300606060405236156101e05763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663013054c281146101f657806306fdde031461020b578063083c63231461029b578063095ea7b3146102bd57806318160ddd146102f05780631b52abde14610312578063238ac9331461033357806323b872dd1461035f5780632957fef4146103985780632af7ceff146103c6578063313ce567146103eb57806341c0e1b51461040d57806348cd4cb11461041f5780634d853ee5146104415780635279a5f81461046d5780635ed7ca5b1461048f57806368699224146104a157806370a08231146104b95780637228b9db146104e7578063824338bd1461050957806383e811a61461052b5780638da5cb5b1461054d57806393c32e061461057957806395d89b4114610597578063977f9e241461062757806399d22e481461063f578063a035b1fe14610663578063a9059cbb14610685578063b9b8af0b146106b8578063bcfcb03e146106dc578063c0ad7427146106ee578063c24fe21b14610710578063c37067fa14610732578063c8435ba21461073f578063c9090c7f14610761578063cb3e64fd14610783578063d43ea9e114610795578063d4c8fdae146107b7578063dd62ed3e146107d9575b34156101e857fe5b6101f45b60006000fd5b565b005b34156101fe57fe5b6101f460043561080d565b005b341561021357fe5b61021b610895565b604080516020808252835181830152835191928392908301918501908083838215610261575b80518252602083111561026157601f199092019160209182019101610241565b505050905090810190601f16801561028d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156102a357fe5b6102ab610923565b60408051918252519081900360200190f35b34156102c557fe5b6102dc600160a060020a0360043516602435610929565b604080519115158252519081900360200190f35b34156102f857fe5b6102ab610994565b60408051918252519081900360200190f35b341561031a57fe5b6101f4600160a060020a036004351660243561099a565b005b341561033b57fe5b610343610a10565b60408051600160a060020a039092168252519081900360200190f35b341561036757fe5b6102dc600160a060020a0360043581169060243516604435610a1f565b604080519115158252519081900360200190f35b34156103a057fe5b6102ab600160a060020a0360043516610b5e565b60408051918252519081900360200190f35b34156103ce57fe5b6102ab600435610b7d565b60408051918252519081900360200190f35b34156103f357fe5b6102ab610c11565b60408051918252519081900360200190f35b341561041557fe5b6101f4610c17565b005b341561042757fe5b6102ab610c3f565b60408051918252519081900360200190f35b341561044957fe5b610343610c45565b60408051600160a060020a039092168252519081900360200190f35b341561047557fe5b6102ab610c54565b60408051918252519081900360200190f35b341561049757fe5b6101f4610c5a565b005b34156104a957fe5b6101f4600435602435610c86565b005b34156104c157fe5b6102ab600160a060020a0360043516610d2e565b60408051918252519081900360200190f35b34156104ef57fe5b6102ab610d4d565b60408051918252519081900360200190f35b341561051157fe5b6102ab610d53565b60408051918252519081900360200190f35b341561053357fe5b6102ab610d59565b60408051918252519081900360200190f35b341561055557fe5b610343610d5f565b60408051600160a060020a039092168252519081900360200190f35b341561058157fe5b6101f4600160a060020a0360043516610d6e565b005b341561059f57fe5b61021b610db6565b604080516020808252835181830152835191928392908301918501908083838215610261575b80518252602083111561026157601f199092019160209182019101610241565b505050905090810190601f16801561028d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561062f57fe5b6101f4600435602435610e44565b005b341561064757fe5b6102dc610ec0565b604080519115158252519081900360200190f35b341561066b57fe5b6102ab610ec9565b60408051918252519081900360200190f35b341561068d57fe5b6102dc600160a060020a0360043516602435610f6b565b604080519115158252519081900360200190f35b34156106c057fe5b6102dc611060565b604080519115158252519081900360200190f35b34156106e457fe5b6101f4611069565b005b34156106f657fe5b6102ab611143565b60408051918252519081900360200190f35b341561071857fe5b6102ab611149565b60408051918252519081900360200190f35b6101f460043561114f565b005b341561074757fe5b6102ab611265565b60408051918252519081900360200190f35b341561076957fe5b6102ab61126b565b60408051918252519081900360200190f35b341561078b57fe5b6101f4611271565b005b341561079d57fe5b6102ab61129a565b60408051918252519081900360200190f35b34156107bf57fe5b6102ab6112a0565b60408051918252519081900360200190f35b34156107e157fe5b6102ab600160a060020a03600435811690602435166112a6565b60408051918252519081900360200190f35b601154600854014311158015610832575060095433600160a060020a03908116911614155b1561083d5760006000fd5b600160a060020a033316600090815260208190526040902054819010156108645760006000fd5b600160a060020a03331660009081526020818152604080832080548590039055600190915290208054820190555b50565b6004805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561091b5780601f106108f05761010080835404028352916020019161091b565b820191906000526020600020905b8154815290600101906020018083116108fe57829003601f168201915b505050505081565b60085481565b600160a060020a03338116600081815260026020908152604080832094871680845294825280832086905580518681529051929493927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060015b92915050565b60035481565b60095433600160a060020a039081169116146109b65760006000fd5b600160a060020a038216600090815260016020526040902054819010156109dd5760006000fd5b600160a060020a0382166000908152600160209081526040808320805485900390559082905290208054820190555b5050565b600b54600160a060020a031681565b6000601154600854014311158015610a46575060095433600160a060020a03908116911614155b15610a515760006000fd5b600160a060020a038416600090815260208190526040902054829010801590610aa15750600160a060020a0380851660009081526002602090815260408083203390941683529290522054829010155b8015610ac65750600160a060020a038316600090815260208190526040902054828101115b15610b5257600160a060020a0380841660008181526020818152604080832080548801905588851680845281842080548990039055600283528184203390961684529482529182902080548790039055815186815291519293927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a3506001610b56565b5060005b5b9392505050565b600160a060020a0381166000908152600160205260409020545b919050565b6000600c54821015610b925750610640610b78565b600c548210158015610ba55750600d5482105b15610bb357506103e8610b78565b600d548210158015610bc65750600e5482105b15610bd45750610320610b78565b600e548210158015610be75750600f5482105b15610bf557506102da610b78565b600f548210610c0757506102a8610b78565b506106405b919050565b60065481565b600a5433600160a060020a03908116911614156101f257600a54600160a060020a0316ff5b5b565b60075481565b600954600160a060020a031681565b600e5481565b60095433600160a060020a03908116911614610c765760006000fd5b6017805460ff191660011790555b565b60095433600160a060020a03908116911614610ca25760006000fd5b6008544310610cb15760006000fd5b60008260035403118015610cc9575060008160165403115b8015610cf05750600954600160a060020a0316600090815260208190526040812054839003115b15610a0c57600380548390039055600954600160a060020a03166000908152602081905260409020805483900390556016805482900390555b5b5050565b600160a060020a0381166000908152602081905260409020545b919050565b60105481565b60135481565b60125481565b600a54600160a060020a031681565b60095433600160a060020a03908116911614610d8a5760006000fd5b6009805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790555b50565b6005805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561091b5780601f106108f05761010080835404028352916020019161091b565b820191906000526020600020905b8154815290600101906020018083116108fe57829003601f168201915b505050505081565b600b5433600160a060020a03908116911614610e605760006000fd5b6008544310610e6f5760006000fd5b600354828101118015610e855750601654818101115b15610a0c576003805483019055600954600160a060020a0316600090815260208190526040902080548301905560168054820190555b5b5050565b60145460ff1681565b6000600c546003541015610ee05750610640610f68565b600c5460035410158015610ef75750600d54600354105b15610f0557506103e8610f68565b600d5460035410158015610f1c5750600e54600354105b15610f2a5750610320610f68565b600e5460035410158015610f415750600f54600354105b15610f4f57506102da610f68565b600f5460035410610f6357506102a8610f68565b506106405b90565b6000601154600854014311158015610f92575060095433600160a060020a03908116911614155b15610f9d5760006000fd5b600160a060020a033316600090815260208190526040902054829010801590610fdf5750600160a060020a038316600090815260208190526040902054828101115b1561105157600160a060020a0333811660008181526020818152604080832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a350600161098e565b50600061098e565b5b92915050565b60175460ff1681565b60095433600160a060020a039081169116146110855760006000fd5b6012546008540143116110985760006000fd5b60145460ff16156110a95760006000fd5b601354601554670de0b6b3a764000091025b600954600160a060020a031660009081526020819052604090208054929091049091019055601354601554670de0b6b3a764000091025b600380549290910490910190556014805460ff1916600117905560405133600160a060020a0316907f1c8a3821e439862f28669f7fbc210e74e947ebf0e947b591cc5a02e41003026590600090a25b565b60155481565b60115481565b6040805182815290516000917f5ed2ad0c89ff6dff8d9d7c493c389eb3bfbaa663876fc1bbc2f0c5e945ecf9e9919081900360200190a1600754431080611197575060085443115b806111a757506010543460165401115b806111b4575060175460ff165b156111bf5760006000fd5b6111c7610ec9565b600160a060020a03338116600090815260208190526040808220805434958602908101909155600380548201905560168054860190556009549151909550921692919081818185876187965a03f19250505015156112255760006000fd5b604080513481526020810183905281517f489807a5fd45f95df5a4da56d2ec4a895cd239ac44d0d9703ac6d8f0c590549c929181900390910190a15b5050565b600c5481565b600f5481565b60095433600160a060020a0390811691161461128d5760006000fd5b6017805460ff191690555b565b600d5481565b60165481565b600160a060020a038083166000908152600260209081526040808320938516835292905220545b929150505600a165627a7a72305820f17fca170d793493e2513def2646a7d9ab762db6ba2d22cb3c13ef28d5ec751c00290000000000000000000000005afbcf6e567ebff95771ac2e47adf9309885cf1600000000000000000000000081f9c842fa421ccfc7553ad51d6c0c602bc6a8f500000000000000000000000000000000000000000000000000000000003b8cae00000000000000000000000000000000000000000000000000000000003cc9de",
  "constructorArguments": "0000000000000000000000005afbCF6e567eBfF95771aC2e47aDF9309885cf1600000000000000000000000081F9c842fA421CCfC7553Ad51D6C0c602bC6a8f500000000000000000000000000000000000000000000000000000000003B8CAE00000000000000000000000000000000000000000000000000000000003CC9DE"
}