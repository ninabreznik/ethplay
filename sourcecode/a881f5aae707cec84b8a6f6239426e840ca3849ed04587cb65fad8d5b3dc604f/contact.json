{
  "address": "0xecfae6f958f7ab15bdf171eeefa568e41eabf641",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "LYNIA",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-08-01\n*/\n\npragma solidity ^0.4.21;\n\n//\n//\t\t _              _       _________ _______    _________ _______ \n//\t\t( \\   |\\     /|( (    /|\\__   __/(  ___  )   \\__   __/(  ___  )\n//\t\t| (   ( \\   / )|  \\  ( |   ) (   | (   ) |      ) (   | (   ) |\n//\t\t| |    \\ (_) / |   \\ | |   | |   | (___) |      | |   | |   | |\n//\t\t| |     \\   /  | (\\ \\) |   | |   |  ___  |      | |   | |   | |\n//\t\t| |      ) (   | | \\   |   | |   | (   ) |      | |   | |   | |\n//\t\t| (____/\\| |   | )  \\  |___) (___| )   ( | _ ___) (___| (___) |\n//\t\t(_______/\\_/   |/    )_)\\_______/|/     \\|(_)\\_______/(_______)\n//\n//\thttps://lynia.io  https://lynia.io  https://lynia.io  https://lynia.io\n//\thttps://lynia.io  https://lynia.io  https://lynia.io  https://lynia.io\n//\t\n//\tCryptocurrency carries a high level of risk since leverage can work both to your advantage and disadvantage. \n//\tAs a result, cryptocurrency may not be suitable for all people because it is possible to lose all of your invested capital. \n//\tYou should never invest money that you cannot afford to lose. Before playing on LYNIA products, please ensure to understand the risks involved.\n//\t\n\n\t\ncontract AcceptsLYNIA {\n    LYNIA public tokenContract;\n\n    function AcceptsLYNIA(address _tokenContract) public {\n        tokenContract = LYNIA(_tokenContract);\n    }\n\n    modifier onlyTokenContract {\n        require(msg.sender == address(tokenContract));\n        _;\n    }\n\n    /**\n    * @dev Standard ERC677 function that will handle incoming token transfers.\n    *\n    * @param _from  Token sender address.\n    * @param _value Amount of tokens.\n    * @param _data  Transaction metadata.\n    */\n    function tokenFallback(address _from, uint256 _value, bytes _data) external returns (bool);\n}\n\n\ncontract LYNIA {\n    /*=================================\n    =            MODIFIERS            =\n    =================================*/\n    // only people with tokens\n    modifier onlyBagholders() {\n        require(myTokens() > 0);\n        _;\n    }\n\n    // only people with profits\n    modifier onlyStronghands() {\n        require(myDividends(true) > 0);\n        _;\n    }\n\n    modifier notContract() {\n      require (msg.sender == tx.origin);\n      _;\n    }\n\n    // administrators can:\n    // -> change the name of the contract\n    // -> change the name of the token\n    // -> change the PoS difficulty (How many tokens it costs to hold a masternode, in case it gets crazy high later)\n    // they CANNOT:\n    // -> take funds\n    // -> disable withdrawals\n    // -> kill the contract\n    // -> change the price of tokens\n    modifier onlyAdministrator(){\n        address _customerAddress = msg.sender;\n        require(administrators[_customerAddress]);\n        _;\n    }\n\n\n    // ensures that the first tokens in the contract will be equally distributed\n    // meaning, no divine dump will be ever possible\n    // result: healthy longevity.\n    modifier antiEarlyWhale(uint256 _amountOfEthereum){\n        address _customerAddress = msg.sender;\n\n        // are we still in the vulnerable phase?\n        // if so, enact anti early whale protocol\n        if( onlyAmbassadors && ((totalEthereumBalance() - _amountOfEthereum) <= ambassadorQuota_ )){\n            require(\n                // is the customer in the ambassador list?\n                ambassadors_[_customerAddress] == true &&\n\n                // does the customer purchase exceed the max ambassador quota?\n                (ambassadorAccumulatedQuota_[_customerAddress] + _amountOfEthereum) <= ambassadorMaxPurchase_\n\n            );\n\n            // updated the accumulated quota\n            ambassadorAccumulatedQuota_[_customerAddress] = SafeMath.add(ambassadorAccumulatedQuota_[_customerAddress], _amountOfEthereum);\n\n            // execute\n            _;\n        } else {\n            // in case the ether count drops low, the ambassador phase won't reinitiate\n            onlyAmbassadors = false;\n            _;\n        }\n\n    }\n\n    /*==============================\n    =            EVENTS            =\n    ==============================*/\n    event onTokenPurchase(\n        address indexed customerAddress,\n        uint256 incomingEthereum,\n        uint256 tokensMinted,\n        address indexed referredBy\n    );\n\n    event onTokenSell(\n        address indexed customerAddress,\n        uint256 tokensBurned,\n        uint256 ethereumEarned\n    );\n\n    event onReinvestment(\n        address indexed customerAddress,\n        uint256 ethereumReinvested,\n        uint256 tokensMinted\n    );\n\n    event onWithdraw(\n        address indexed customerAddress,\n        uint256 ethereumWithdrawn\n    );\n\n    // ERC20\n    event Transfer(\n        address indexed from,\n        address indexed to,\n        uint256 tokens\n    );\n\n\n    /*=====================================\n    =            CONFIGURABLES            =\n    =====================================*/\n    string public name = \"LYNIA\";\n    string public symbol = \"LYNI\";\n    uint8 constant public decimals = 18;\n    uint8 constant internal dividendFee_ = 10; // 10% dividend fee on each buy and sell\n    uint8 constant internal charityFee_ = 1; // 1% Charity Pool \n    uint256 constant internal tokenPriceInitial_ = 0.00000001 ether;\n    uint256 constant internal tokenPriceIncremental_ = 0.000000001 ether;\n    uint256 constant internal magnitude = 2**64;\n\n    // Charity Pool\n    // https://etherscan.io/address/0xCFBa51DB22873706E151838bE891f3D89c039Afd\n    address constant public giveEthCharityAddress = 0xCFBa51DB22873706E151838bE891f3D89c039Afd;\n    uint256 public totalEthCharityRecieved; // total ETH charity recieved from this contract\n    uint256 public totalEthCharityCollected; // total ETH charity collected in this contract\n\n    // proof of stake (defaults at 100 tokens)\n    uint256 public stakingRequirement = 10e18;\n\n    // ambassador program\n    mapping(address => bool) internal ambassadors_;\n    uint256 constant internal ambassadorMaxPurchase_ = 3 ether;\n    uint256 constant internal ambassadorQuota_ = 3 ether;\n\n\n\n   /*================================\n    =            DATASETS            =\n    ================================*/\n    // amount of shares for each address (scaled number)\n    mapping(address => uint256) internal tokenBalanceLedger_;\n    mapping(address => uint256) internal referralBalance_;\n    mapping(address => int256) internal payoutsTo_;\n    mapping(address => uint256) internal ambassadorAccumulatedQuota_;\n    uint256 internal tokenSupply_ = 0;\n    uint256 internal profitPerShare_;\n\n    // administrator list (see above on what they can do)\n    mapping(address => bool) public administrators;\n\n    // when this is set to true, only ambassadors can purchase tokens (this prevents a whale premine, it ensures a fairly distributed upper game)\n    bool public onlyAmbassadors = true;\n\n    // Special LYNIA Platform control from scam game contracts on LYNIA platform\n    mapping(address => bool) public canAcceptTokens_; // contracts, which can accept LYNIA tokens\n\n\n\n    /*=======================================\n    =            PUBLIC FUNCTIONS            =\n    =======================================*/\n    /*\n    * -- APPLICATION ENTRY POINTS --\n    */\n    function LYNIA()\n        public\n    {\n        // add administrators here\n        administrators[0x4eCFCfAD7e5E50F4B3581a65E9eF1774D5622d6b] = true;\n\n        // add the ambassadors here.\n        ambassadors_[0x4eCFCfAD7e5E50F4B3581a65E9eF1774D5622d6b] = true;\n        \n    }\n\n\n    /**\n     * Converts all incoming ethereum to tokens for the caller, and passes down the referral addy (if any)\n     */\n    function buy(address _referredBy)\n        public\n        payable\n        returns(uint256)\n    {\n        purchaseInternal(msg.value, _referredBy);\n    }\n\n    /**\n     * Fallback function to handle ethereum that was send straight to the contract\n     * Unfortunately we cannot use a referral address this way.\n     */\n    function()\n        payable\n        public\n    {\n        purchaseInternal(msg.value, 0x0);\n    }\n\n    /**\n     * The Lynia Chariy Pool\n     * Their charity address is here https://etherscan.io/address/0xCFBa51DB22873706E151838bE891f3D89c039Afd\n     */\n    function payCharity() payable public {\n      uint256 ethToPay = SafeMath.sub(totalEthCharityCollected, totalEthCharityRecieved);\n      require(ethToPay > 1);\n      totalEthCharityRecieved = SafeMath.add(totalEthCharityRecieved, ethToPay);\n      if(!giveEthCharityAddress.call.value(ethToPay).gas(400000)()) {\n         totalEthCharityRecieved = SafeMath.sub(totalEthCharityRecieved, ethToPay);\n      }\n    }\n\n    /**\n     * Converts all of caller's dividends to tokens.\n     */\n    function reinvest()\n        onlyStronghands()\n        public\n    {\n        // fetch dividends\n        uint256 _dividends = myDividends(false); // retrieve ref. bonus later in the code\n\n        // pay out the dividends virtually\n        address _customerAddress = msg.sender;\n        payoutsTo_[_customerAddress] +=  (int256) (_dividends * magnitude);\n\n        // retrieve ref. bonus\n        _dividends += referralBalance_[_customerAddress];\n        referralBalance_[_customerAddress] = 0;\n\n        // dispatch a buy order with the virtualized \"withdrawn dividends\"\n        uint256 _tokens = purchaseTokens(_dividends, 0x0);\n\n        // fire event\n        onReinvestment(_customerAddress, _dividends, _tokens);\n    }\n\n    /**\n     * Alias of sell() and withdraw().\n     */\n    function exit()\n        public\n    {\n        // get token count for caller & sell them all\n        address _customerAddress = msg.sender;\n        uint256 _tokens = tokenBalanceLedger_[_customerAddress];\n        if(_tokens > 0) sell(_tokens);\n\n        // lambo delivery service\n        withdraw();\n    }\n\n    /**\n     * Withdraws all of the callers earnings.\n     */\n    function withdraw()\n        onlyStronghands()\n        public\n    {\n        // setup data\n        address _customerAddress = msg.sender;\n        uint256 _dividends = myDividends(false); // get ref. bonus later in the code\n\n        // update dividend tracker\n        payoutsTo_[_customerAddress] +=  (int256) (_dividends * magnitude);\n\n        // add ref. bonus\n        _dividends += referralBalance_[_customerAddress];\n        referralBalance_[_customerAddress] = 0;\n\n        // lambo delivery service\n        _customerAddress.transfer(_dividends);\n\n        // fire event\n        onWithdraw(_customerAddress, _dividends);\n    }\n\n    /**\n     * Liquifies tokens to ethereum.\n     */\n    function sell(uint256 _amountOfTokens)\n        onlyBagholders()\n        public\n    {\n        // setup data\n        address _customerAddress = msg.sender;\n        // russian hackers BTFO\n        require(_amountOfTokens <= tokenBalanceLedger_[_customerAddress]);\n        uint256 _tokens = _amountOfTokens;\n        uint256 _ethereum = tokensToEthereum_(_tokens);\n\n        uint256 _dividends = SafeMath.div(SafeMath.mul(_ethereum, dividendFee_), 100);\n        uint256 _charityPayout = SafeMath.div(SafeMath.mul(_ethereum, charityFee_), 100);\n\n        // Take out dividends and then _charityPayout\n        uint256 _taxedEthereum =  SafeMath.sub(SafeMath.sub(_ethereum, _dividends), _charityPayout);\n\n        // Add ethereum to send to charity\n        totalEthCharityCollected = SafeMath.add(totalEthCharityCollected, _charityPayout);\n\n        // burn the sold tokens\n        tokenSupply_ = SafeMath.sub(tokenSupply_, _tokens);\n        tokenBalanceLedger_[_customerAddress] = SafeMath.sub(tokenBalanceLedger_[_customerAddress], _tokens);\n\n        // update dividends tracker\n        int256 _updatedPayouts = (int256) (profitPerShare_ * _tokens + (_taxedEthereum * magnitude));\n        payoutsTo_[_customerAddress] -= _updatedPayouts;\n\n        // dividing by zero is a bad idea\n        if (tokenSupply_ > 0) {\n            // update the amount of dividends per token\n            profitPerShare_ = SafeMath.add(profitPerShare_, (_dividends * magnitude) / tokenSupply_);\n        }\n\n        // fire event\n        onTokenSell(_customerAddress, _tokens, _taxedEthereum);\n    }\n\n\n    /**\n     * Transfer tokens from the caller to a new holder.\n     * REMEMBER THIS IS 0% TRANSFER FEE\n     */\n    function transfer(address _toAddress, uint256 _amountOfTokens)\n        onlyBagholders()\n        public\n        returns(bool)\n    {\n        // setup\n        address _customerAddress = msg.sender;\n\n        // make sure we have the requested tokens\n        // also disables transfers until ambassador phase is over\n        // ( we dont want whale premines )\n        require(_amountOfTokens <= tokenBalanceLedger_[_customerAddress]);\n\n        // withdraw all outstanding dividends first\n        if(myDividends(true) > 0) withdraw();\n\n        // exchange tokens\n        tokenBalanceLedger_[_customerAddress] = SafeMath.sub(tokenBalanceLedger_[_customerAddress], _amountOfTokens);\n        tokenBalanceLedger_[_toAddress] = SafeMath.add(tokenBalanceLedger_[_toAddress], _amountOfTokens);\n\n        // update dividend trackers\n        payoutsTo_[_customerAddress] -= (int256) (profitPerShare_ * _amountOfTokens);\n        payoutsTo_[_toAddress] += (int256) (profitPerShare_ * _amountOfTokens);\n\n\n        // fire event\n        Transfer(_customerAddress, _toAddress, _amountOfTokens);\n\n        // ERC20\n        return true;\n    }\n\n    /**\n    * Transfer token to a specified address and forward the data to recipient\n    * ERC-677 standard\n    * https://github.com/ethereum/EIPs/issues/677\n    * @param _to    Receiver address.\n    * @param _value Amount of tokens that will be transferred.\n    * @param _data  Transaction metadata.\n    */\n    function transferAndCall(address _to, uint256 _value, bytes _data) external returns (bool) {\n      require(_to != address(0));\n      require(canAcceptTokens_[_to] == true); // security check that contract approved by LYNIA platform\n      require(transfer(_to, _value)); // do a normal token transfer to the contract\n\n      if (isContract(_to)) {\n        AcceptsLYNIA receiver = AcceptsLYNIA(_to);\n        require(receiver.tokenFallback(msg.sender, _value, _data));\n      }\n\n      return true;\n    }\n\n    /**\n     * Additional check that the game address we are sending tokens to is a contract\n     * assemble the given address bytecode. If bytecode exists then the _addr is a contract.\n     */\n     function isContract(address _addr) private constant returns (bool is_contract) {\n       // retrieve the size of the code on target address, this needs assembly\n       uint length;\n       assembly { length := extcodesize(_addr) }\n       return length > 0;\n     }\n\n    /*----------  ADMINISTRATOR ONLY FUNCTIONS  ----------*/\n    /**\n     * In case the amassador quota is not met, the administrator can manually disable the ambassador phase.\n     */\n    function disableInitialStage()\n        onlyAdministrator()\n        public\n    {\n        onlyAmbassadors = false;\n    }\n\n    /**\n     * In case one of us dies, we need to replace ourselves.\n     */\n    function setAdministrator(address _identifier, bool _status)\n        onlyAdministrator()\n        public\n    {\n        administrators[_identifier] = _status;\n    }\n\n    /**\n     * Precautionary measures in case we need to adjust the masternode rate.\n     */\n    function setStakingRequirement(uint256 _amountOfTokens)\n        onlyAdministrator()\n        public\n    {\n        stakingRequirement = _amountOfTokens;\n    }\n\n    /**\n     * Add or remove game contract, which can accept LYNIA tokens\n     */\n    function setCanAcceptTokens(address _address, bool _value)\n      onlyAdministrator()\n      public\n    {\n      canAcceptTokens_[_address] = _value;\n    }\n\n    /**\n     * If we want to rebrand, we can.\n     */\n    function setName(string _name)\n        onlyAdministrator()\n        public\n    {\n        name = _name;\n    }\n\n    /**\n     * If we want to rebrand, we can.\n     */\n    function setSymbol(string _symbol)\n        onlyAdministrator()\n        public\n    {\n        symbol = _symbol;\n    }\n\n\n    /*----------  HELPERS AND CALCULATORS  ----------*/\n    /**\n     * Method to view the current Ethereum stored in the contract\n     * Example: totalEthereumBalance()\n     */\n    function totalEthereumBalance()\n        public\n        view\n        returns(uint)\n    {\n        return this.balance;\n    }\n\n    /**\n     * Retrieve the total token supply.\n     */\n    function totalSupply()\n        public\n        view\n        returns(uint256)\n    {\n        return tokenSupply_;\n    }\n\n    /**\n     * Retrieve the tokens owned by the caller.\n     */\n    function myTokens()\n        public\n        view\n        returns(uint256)\n    {\n        address _customerAddress = msg.sender;\n        return balanceOf(_customerAddress);\n    }\n\n    /**\n     * Retrieve the dividends owned by the caller.\n     * If `_includeReferralBonus` is to to 1/true, the referral bonus will be included in the calculations.\n     * The reason for this, is that in the frontend, we will want to get the total divs (global + ref)\n     * But in the internal calculations, we want them separate.\n     */\n    function myDividends(bool _includeReferralBonus)\n        public\n        view\n        returns(uint256)\n    {\n        address _customerAddress = msg.sender;\n        return _includeReferralBonus ? dividendsOf(_customerAddress) + referralBalance_[_customerAddress] : dividendsOf(_customerAddress) ;\n    }\n\n    /**\n     * Retrieve the token balance of any single address.\n     */\n    function balanceOf(address _customerAddress)\n        view\n        public\n        returns(uint256)\n    {\n        return tokenBalanceLedger_[_customerAddress];\n    }\n\n    /**\n     * Retrieve the dividend balance of any single address.\n     */\n    function dividendsOf(address _customerAddress)\n        view\n        public\n        returns(uint256)\n    {\n        return (uint256) ((int256)(profitPerShare_ * tokenBalanceLedger_[_customerAddress]) - payoutsTo_[_customerAddress]) / magnitude;\n    }\n\n    /**\n     * Return the buy price of 1 individual token.\n     */\n    function sellPrice()\n        public\n        view\n        returns(uint256)\n    {\n        // our calculation relies on the token supply, so we need supply. Doh.\n        if(tokenSupply_ == 0){\n            return tokenPriceInitial_ - tokenPriceIncremental_;\n        } else {\n            uint256 _ethereum = tokensToEthereum_(1e18);\n            uint256 _dividends = SafeMath.div(SafeMath.mul(_ethereum, dividendFee_), 100);\n            uint256 _charityPayout = SafeMath.div(SafeMath.mul(_ethereum, charityFee_), 100);\n            uint256 _taxedEthereum = SafeMath.sub(SafeMath.sub(_ethereum, _dividends), _charityPayout);\n            return _taxedEthereum;\n        }\n    }\n\n    /**\n     * Return the sell price of 1 individual token.\n     */\n    function buyPrice()\n        public\n        view\n        returns(uint256)\n    {\n        // our calculation relies on the token supply, so we need supply. Doh.\n        if(tokenSupply_ == 0){\n            return tokenPriceInitial_ + tokenPriceIncremental_;\n        } else {\n            uint256 _ethereum = tokensToEthereum_(1e18);\n            uint256 _dividends = SafeMath.div(SafeMath.mul(_ethereum, dividendFee_), 100);\n            uint256 _charityPayout = SafeMath.div(SafeMath.mul(_ethereum, charityFee_), 100);\n            uint256 _taxedEthereum =  SafeMath.add(SafeMath.add(_ethereum, _dividends), _charityPayout);\n            return _taxedEthereum;\n        }\n    }\n\n    /**\n     * Function for the frontend to dynamically retrieve the price scaling of buy orders.\n     */\n    function calculateTokensReceived(uint256 _ethereumToSpend)\n        public\n        view\n        returns(uint256)\n    {\n        uint256 _dividends = SafeMath.div(SafeMath.mul(_ethereumToSpend, dividendFee_), 100);\n        uint256 _charityPayout = SafeMath.div(SafeMath.mul(_ethereumToSpend, charityFee_), 100);\n        uint256 _taxedEthereum = SafeMath.sub(SafeMath.sub(_ethereumToSpend, _dividends), _charityPayout);\n        uint256 _amountOfTokens = ethereumToTokens_(_taxedEthereum);\n        return _amountOfTokens;\n    }\n\n    /**\n     * Function for the frontend to dynamically retrieve the price scaling of sell orders.\n     */\n    function calculateEthereumReceived(uint256 _tokensToSell)\n        public\n        view\n        returns(uint256)\n    {\n        require(_tokensToSell <= tokenSupply_);\n        uint256 _ethereum = tokensToEthereum_(_tokensToSell);\n        uint256 _dividends = SafeMath.div(SafeMath.mul(_ethereum, dividendFee_), 100);\n        uint256 _charityPayout = SafeMath.div(SafeMath.mul(_ethereum, charityFee_), 100);\n        uint256 _taxedEthereum = SafeMath.sub(SafeMath.sub(_ethereum, _dividends), _charityPayout);\n        return _taxedEthereum;\n    }\n\n    /**\n     * Function for the frontend to show ether waiting to be send to charity in contract\n     */\n    function etherToSendCharity()\n        public\n        view\n        returns(uint256) {\n        return SafeMath.sub(totalEthCharityCollected, totalEthCharityRecieved);\n    }\n\n\n    /*==========================================\n    =            INTERNAL FUNCTIONS            =\n    ==========================================*/\n\n    // Make sure we will send back excess if user sends more then 5 ether before 100 ETH in contract\n    function purchaseInternal(uint256 _incomingEthereum, address _referredBy)\n      notContract()// no contracts allowed\n      internal\n      returns(uint256) {\n\n      uint256 purchaseEthereum = _incomingEthereum;\n      uint256 excess;\n      if(purchaseEthereum > 5 ether) { // check if the transaction is over 5 ether\n          if (SafeMath.sub(address(this).balance, purchaseEthereum) <= 100 ether) { // if so check the contract is less then 100 ether\n              purchaseEthereum = 5 ether;\n              excess = SafeMath.sub(_incomingEthereum, purchaseEthereum);\n          }\n      }\n\n      purchaseTokens(purchaseEthereum, _referredBy);\n\n      if (excess > 0) {\n        msg.sender.transfer(excess);\n      }\n    }\n\n\n    function purchaseTokens(uint256 _incomingEthereum, address _referredBy)\n        antiEarlyWhale(_incomingEthereum)\n        internal\n        returns(uint256)\n    {\n        // data setup\n        uint256 _undividedDividends = SafeMath.div(SafeMath.mul(_incomingEthereum, dividendFee_), 100);\n        uint256 _referralBonus = SafeMath.div(_undividedDividends, 3);\n        uint256 _charityPayout = SafeMath.div(SafeMath.mul(_incomingEthereum, charityFee_), 100);\n        uint256 _dividends = SafeMath.sub(_undividedDividends, _referralBonus);\n        uint256 _taxedEthereum = SafeMath.sub(SafeMath.sub(_incomingEthereum, _undividedDividends), _charityPayout);\n\n        totalEthCharityCollected = SafeMath.add(totalEthCharityCollected, _charityPayout);\n\n        uint256 _amountOfTokens = ethereumToTokens_(_taxedEthereum);\n        uint256 _fee = _dividends * magnitude;\n\n        // no point in continuing execution if OP is a poorfag russian hacker\n        // prevents overflow in the case that the game somehow magically starts being used by everyone in the world\n        // (or hackers)\n        // and yes we know that the safemath function automatically rules out the \"greater then\" equasion.\n        require(_amountOfTokens > 0 && (SafeMath.add(_amountOfTokens,tokenSupply_) > tokenSupply_));\n\n        // is the user referred by a masternode?\n        if(\n            // is this a referred purchase?\n            _referredBy != 0x0000000000000000000000000000000000000000 &&\n\n            // no cheating!\n            _referredBy != msg.sender &&\n\n            // does the referrer have at least X whole tokens?\n            // i.e is the referrer a godly chad masternode\n            tokenBalanceLedger_[_referredBy] >= stakingRequirement\n        ){\n            // wealth redistribution\n            referralBalance_[_referredBy] = SafeMath.add(referralBalance_[_referredBy], _referralBonus);\n        } else {\n            // no ref purchase\n            // add the referral bonus back to the global dividends cake\n            _dividends = SafeMath.add(_dividends, _referralBonus);\n            _fee = _dividends * magnitude;\n        }\n\n        // we can't give people infinite ethereum\n        if(tokenSupply_ > 0){\n\n            // add tokens to the pool\n            tokenSupply_ = SafeMath.add(tokenSupply_, _amountOfTokens);\n\n            // take the amount of dividends gained through this transaction, and allocates them evenly to each shareholder\n            profitPerShare_ += (_dividends * magnitude / (tokenSupply_));\n\n            // calculate the amount of tokens the customer receives over his purchase\n            _fee = _fee - (_fee-(_amountOfTokens * (_dividends * magnitude / (tokenSupply_))));\n\n        } else {\n            // add tokens to the pool\n            tokenSupply_ = _amountOfTokens;\n        }\n\n        // update circulating supply & the ledger address for the customer\n        tokenBalanceLedger_[msg.sender] = SafeMath.add(tokenBalanceLedger_[msg.sender], _amountOfTokens);\n\n        // Tells the contract that the buyer doesn't deserve dividends for the tokens before they owned them;\n        //really i know you think you do but you don't\n        int256 _updatedPayouts = (int256) ((profitPerShare_ * _amountOfTokens) - _fee);\n        payoutsTo_[msg.sender] += _updatedPayouts;\n\n        // fire event\n        onTokenPurchase(msg.sender, _incomingEthereum, _amountOfTokens, _referredBy);\n\n        return _amountOfTokens;\n    }\n\n    /**\n     * Calculate Token price based on an amount of incoming ethereum\n     * It's an algorithm, hopefully we gave you the whitepaper with it in scientific notation;\n     * Some conversions occurred to prevent decimal errors or underflows / overflows in solidity code.\n     */\n    function ethereumToTokens_(uint256 _ethereum)\n        internal\n        view\n        returns(uint256)\n    {\n        uint256 _tokenPriceInitial = tokenPriceInitial_ * 1e18;\n        uint256 _tokensReceived =\n         (\n            (\n                // underflow attempts BTFO\n                SafeMath.sub(\n                    (sqrt\n                        (\n                            (_tokenPriceInitial**2)\n                            +\n                            (2*(tokenPriceIncremental_ * 1e18)*(_ethereum * 1e18))\n                            +\n                            (((tokenPriceIncremental_)**2)*(tokenSupply_**2))\n                            +\n                            (2*(tokenPriceIncremental_)*_tokenPriceInitial*tokenSupply_)\n                        )\n                    ), _tokenPriceInitial\n                )\n            )/(tokenPriceIncremental_)\n        )-(tokenSupply_)\n        ;\n\n        return _tokensReceived;\n    }\n\n    /**\n     * Calculate token sell value.\n     * It's an algorithm, hopefully we gave you the whitepaper with it in scientific notation;\n     * Some conversions occurred to prevent decimal errors or underflows / overflows in solidity code.\n     */\n     function tokensToEthereum_(uint256 _tokens)\n        internal\n        view\n        returns(uint256)\n    {\n\n        uint256 tokens_ = (_tokens + 1e18);\n        uint256 _tokenSupply = (tokenSupply_ + 1e18);\n        uint256 _etherReceived =\n        (\n            // underflow attempts BTFO\n            SafeMath.sub(\n                (\n                    (\n                        (\n                            tokenPriceInitial_ +(tokenPriceIncremental_ * (_tokenSupply/1e18))\n                        )-tokenPriceIncremental_\n                    )*(tokens_ - 1e18)\n                ),(tokenPriceIncremental_*((tokens_**2-tokens_)/1e18))/2\n            )\n        /1e18);\n        return _etherReceived;\n    }\n\n\n    //This is where all your gas goes, sorry\n    //Not sorry, you probably only paid 1 gwei\n    function sqrt(uint x) internal pure returns (uint y) {\n        uint z = (x + 1) / 2;\n        y = x;\n        while (z < y) {\n            y = z;\n            z = (x / z + z) / 2;\n        }\n    }\n}\n\n/**\n * @title SafeMath\n * @dev Math operations with safety checks that throw on error\n */\nlibrary SafeMath {\n\n    /**\n    * @dev Multiplies two numbers, throws on overflow.\n    */\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n        if (a == 0) {\n            return 0;\n        }\n        uint256 c = a * b;\n        assert(c / a == b);\n        return c;\n    }\n\n    /**\n    * @dev Integer division of two numbers, truncating the quotient.\n    */\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n        // assert(b > 0); // Solidity automatically throws when dividing by 0\n        uint256 c = a / b;\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n        return c;\n    }\n\n    /**\n    * @dev Substracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\n    */\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n        assert(b <= a);\n        return a - b;\n    }\n\n    /**\n    * @dev Adds two numbers, throws on overflow.\n    */\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n        uint256 c = a + b;\n        assert(c >= a);\n        return c;\n    }\n}",
  "bytecode": "60c0604052600560808190527f4c594e494100000000000000000000000000000000000000000000000000000060a090815262000040916000919062000132565b506040805180820190915260048082527f4c594e49000000000000000000000000000000000000000000000000000000006020909201918252620000879160019162000132565b50678ac7230489e800006004556000600a55600d805460ff19166001179055348015620000b357600080fd5b50734ecfcfad7e5e50f4b3581a65e9ef1774d5622d6b6000527f1f4c1b01b108b81f684d1f162e3bafb9c3d4c706147c535ea6d37b38021d96e98054600160ff19918216811790925560056020527fa1f7f64c600baf24020177b368a8088c7b509cacad33096296d16e93d162e2ff80549091169091179055620001d7565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200017557805160ff1916838001178555620001a5565b82800160010185558215620001a5579182015b82811115620001a557825182559160200191906001019062000188565b50620001b3929150620001b7565b5090565b620001d491905b80821115620001b35760008155600101620001be565b90565b611a7080620001e76000396000f3006080604052600436106101b55763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166265318b81146101c357806306fdde03146101f65780630f34dc161461028057806310d0ffdd146102b557806318160ddd146102cd57806322609373146102e257806327defa1f146102fa578063294205b41461030f578063313ce567146103375780633b545d2f146103625780633ccfd60b146103775780634000aea01461038c5780634071f89b146103bd5780634b750334146103c557806356d399e8146103da578063688abbf7146103ef5780636b2f46321461040957806370a082311461041e57806376be15851461043f5780638328b610146104605780638620410b1461047857806387c950581461048d57806391a266ac146104b3578063949e8acd146104c857806395d89b41146104dd578063a8e04f34146104f2578063a9059cbb14610507578063b743f7b61461052b578063b84c82461461055c578063c47f0027146105b5578063cbe0a1aa1461060e578063e4849b3214610623578063e9fad8ee1461063b578063f088d54714610650578063fdb5a03e14610664575b6101c0346000610679565b50005b3480156101cf57600080fd5b506101e4600160a060020a0360043516610719565b60408051918252519081900360200190f35b34801561020257600080fd5b5061020b610754565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561024557818101518382015260200161022d565b50505050905090810190601f1680156102725780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561028c57600080fd5b506102a1600160a060020a03600435166107e2565b604080519115158252519081900360200190f35b3480156102c157600080fd5b506101e46004356107f7565b3480156102d957600080fd5b506101e461084c565b3480156102ee57600080fd5b506101e4600435610853565b34801561030657600080fd5b506102a16108aa565b34801561031b57600080fd5b50610335600160a060020a036004351660243515156108b3565b005b34801561034357600080fd5b5061034c6108fd565b6040805160ff9092168252519081900360200190f35b34801561036e57600080fd5b506101e4610902565b34801561038357600080fd5b50610335610917565b34801561039857600080fd5b506102a160048035600160a060020a03169060248035916044359182019101356109ea565b610335610b24565b3480156103d157600080fd5b506101e4610b99565b3480156103e657600080fd5b506101e4610c06565b3480156103fb57600080fd5b506101e46004351515610c0c565b34801561041557600080fd5b506101e4610c4f565b34801561042a57600080fd5b506101e4600160a060020a0360043516610c54565b34801561044b57600080fd5b506102a1600160a060020a0360043516610c6f565b34801561046c57600080fd5b50610335600435610c84565b34801561048457600080fd5b506101e4610ca8565b34801561049957600080fd5b50610335600160a060020a03600435166024351515610d0e565b3480156104bf57600080fd5b506101e4610d58565b3480156104d457600080fd5b506101e4610d5e565b3480156104e957600080fd5b5061020b610d71565b3480156104fe57600080fd5b50610335610dcb565b34801561051357600080fd5b506102a1600160a060020a0360043516602435610df6565b34801561053757600080fd5b50610540610f25565b60408051600160a060020a039092168252519081900360200190f35b34801561056857600080fd5b506040805160206004803580820135601f8101849004840285018401909552848452610335943694929360249392840191908190840183828082843750949750610f3d9650505050505050565b3480156105c157600080fd5b506040805160206004803580820135601f8101849004840285018401909552848452610335943694929360249392840191908190840183828082843750949750610f739650505050505050565b34801561061a57600080fd5b506101e4610fa4565b34801561062f57600080fd5b50610335600435610faa565b34801561064757600080fd5b50610335611129565b6101e4600160a060020a0360043516611156565b34801561067057600080fd5b50610335611162565b6000808033321461068957600080fd5b849150674563918244f400008211156106ce5768056bc75e2d631000006106b1303184611218565b116106ce57674563918244f4000091506106cb8583611218565b90505b6106d8828561122a565b50600081111561071157604051339082156108fc029083906000818181858888f1935050505015801561070f573d6000803e3d6000fd5b505b505092915050565b600160a060020a0316600090815260086020908152604080832054600690925290912054600b54680100000000000000009102919091030490565b6000805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156107da5780601f106107af576101008083540402835291602001916107da565b820191906000526020600020905b8154815290600101906020018083116107bd57829003601f168201915b505050505081565b600e6020526000908152604090205460ff1681565b60008080808061081261080b87600a611825565b6064611857565b935061082261080b876001611825565b92506108376108318786611218565b84611218565b91506108428261186e565b9695505050505050565b600a545b90565b6000806000806000600a54861115151561086c57600080fd5b61087586611900565b935061088561080b85600a611825565b925061089561080b856001611825565b91506108426108a48585611218565b83611218565b600d5460ff1681565b336000818152600c602052604090205460ff1615156108d157600080fd5b50600160a060020a03919091166000908152600e60205260409020805460ff1916911515919091179055565b601281565b6000610912600354600254611218565b905090565b60008060006109266001610c0c565b1161093057600080fd5b33915061093d6000610c0c565b600160a060020a038316600081815260086020908152604080832080546801000000000000000087020190556007909152808220805490839055905193019350909183156108fc0291849190818181858888f193505050501580156109a6573d6000803e3d6000fd5b50604080518281529051600160a060020a038416917fccad973dcd043c7d680389db4378bd6b9775db7124092e9e0422c9e46d7985dc919081900360200190a25050565b600080600160a060020a0386161515610a0257600080fd5b600160a060020a0386166000908152600e602052604090205460ff161515600114610a2c57600080fd5b610a368686610df6565b1515610a4157600080fd5b610a4a8661196a565b15610b1857506040517fc0ee0b8a000000000000000000000000000000000000000000000000000000008152336004820181815260248301879052606060448401908152606484018690528893600160a060020a0385169363c0ee0b8a9390928a928a928a929091608401848480828437820191505095505050505050602060405180830381600087803b158015610ae157600080fd5b505af1158015610af5573d6000803e3d6000fd5b505050506040513d6020811015610b0b57600080fd5b50511515610b1857600080fd5b50600195945050505050565b6000610b34600354600254611218565b905060018111610b4357600080fd5b610b4f60025482611972565b60025560405173cfba51db22873706e151838be891f3d89c039afd9062061a809083906000818181858888f193505050501515610b9657610b9260025482611218565b6002555b50565b6000806000806000600a5460001415610bb957640218711a009450610bff565b610bca670de0b6b3a7640000611900565b9350610bda61080b85600a611825565b9250610bea61080b856001611825565b9150610bf96108a48585611218565b90508094505b5050505090565b60045481565b60003382610c2257610c1d81610719565b610c46565b600160a060020a038116600090815260076020526040902054610c4482610719565b015b91505b50919050565b303190565b600160a060020a031660009081526006602052604090205490565b600c6020526000908152604090205460ff1681565b336000818152600c602052604090205460ff161515610ca257600080fd5b50600455565b6000806000806000600a5460001415610cc85764028fa6ae009450610bff565b610cd9670de0b6b3a7640000611900565b9350610ce961080b85600a611825565b9250610cf961080b856001611825565b9150610bf9610d088585611972565b83611972565b336000818152600c602052604090205460ff161515610d2c57600080fd5b50600160a060020a03919091166000908152600c60205260409020805460ff1916911515919091179055565b60025481565b600033610d6a81610c54565b91505b5090565b60018054604080516020600284861615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156107da5780601f106107af576101008083540402835291602001916107da565b336000818152600c602052604090205460ff161515610de957600080fd5b50600d805460ff19169055565b6000806000610e03610d5e565b11610e0d57600080fd5b5033600081815260066020526040902054831115610e2a57600080fd5b6000610e366001610c0c565b1115610e4457610e44610917565b600160a060020a038116600090815260066020526040902054610e679084611218565b600160a060020a038083166000908152600660205260408082209390935590861681522054610e969084611972565b600160a060020a03858116600081815260066020908152604080832095909555600b8054948716808452600883528684208054968b02909603909555548383529185902080549289029092019091558351878152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a3600191505b5092915050565b73cfba51db22873706e151838be891f3d89c039afd81565b336000818152600c602052604090205460ff161515610f5b57600080fd5b8151610f6e9060019060208501906119b6565b505050565b336000818152600c602052604090205460ff161515610f9157600080fd5b8151610f6e9060009060208501906119b6565b60035481565b600080600080600080600080610fbe610d5e565b11610fc857600080fd5b33600081815260066020526040902054909750881115610fe757600080fd5b879550610ff386611900565b945061100361080b86600a611825565b935061101361080b866001611825565b92506110226108318686611218565b915061103060035484611972565b600355600a546110409087611218565b600a55600160a060020a0387166000908152600660205260409020546110669087611218565b600160a060020a038816600090815260066020908152604080832093909355600b546008909152918120805492890268010000000000000000860201928390039055600a5491925010156110dc576110d8600b54600a546801000000000000000087028115156110d257fe5b04611972565b600b555b60408051878152602081018490528151600160a060020a038a16927fc4823739c5787d2ca17e404aa47d5569ae71dfb49cbf21b3f6152ed238a31139928290030190a25050505050505050565b336000818152600660205260408120549081111561114a5761114a81610faa565b611152610917565b5050565b6000610c493483610679565b6000806000806111726001610c0c565b1161117c57600080fd5b6111866000610c0c565b336000818152600860209081526040808320805468010000000000000000870201905560079091528120805490829055909201945092506111c890849061122a565b905081600160a060020a03167fbe339fc14b041c2b0e0f3dd2cd325d0c3668b78378001e53160eab36153264588483604051808381526020018281526020019250505060405180910390a2505050565b60008282111561122457fe5b50900390565b60008060008060008060008060008a6000339050600d60009054906101000a900460ff16801561126b57506729a2241af62c000082611267610c4f565b0311155b1561158e57600160a060020a03811660009081526005602052604090205460ff16151560011480156112c05750600160a060020a0381166000908152600960205260409020546729a2241af62c000090830111155b15156112cb57600080fd5b600160a060020a0381166000908152600960205260409020546112ee9083611972565b600160a060020a03821660009081526009602052604090205561131561080b8e600a611825565b99506113228a6003611857565b985061133261080b8e6001611825565b975061133e8a8a611218565b965061135361134d8e8c611218565b89611218565b955061136160035489611972565b60035561136d8661186e565b945068010000000000000000870293506000851180156113975750600a546113958682611972565b115b15156113a257600080fd5b600160a060020a038c16158015906113c35750600160a060020a038c163314155b80156113e95750600454600160a060020a038d1660009081526006602052604090205410155b1561142f57600160a060020a038c16600090815260076020526040902054611411908a611972565b600160a060020a038d1660009081526007602052604090205561144a565b611439878a611972565b965068010000000000000000870293505b6000600a5411156114ae57611461600a5486611972565b600a81905568010000000000000000880281151561147b57fe5b600b8054929091049091019055600a546801000000000000000088028115156114a057fe5b0485028403840393506114b4565b600a8590555b336000908152600660205260409020546114ce9086611972565b6006600033600160a060020a0316600160a060020a03168152602001908152602001600020819055508385600b5402039250826008600033600160a060020a0316600160a060020a03168152602001908152602001600020600082825401925050819055508b600160a060020a031633600160a060020a03167f022c0d992e4d873a3748436d960d5140c1f9721cf73f7ca5ec679d3d9f4fe2d58f88604051808381526020018281526020019250505060405180910390a3849a50611815565b600d805460ff191690556115a661080b8e600a611825565b99506115b38a6003611857565b98506115c361080b8e6001611825565b97506115cf8a8a611218565b96506115de61134d8e8c611218565b95506115ec60035489611972565b6003556115f88661186e565b945068010000000000000000870293506000851180156116225750600a546116208682611972565b115b151561162d57600080fd5b600160a060020a038c161580159061164e5750600160a060020a038c163314155b80156116745750600454600160a060020a038d1660009081526006602052604090205410155b156116ba57600160a060020a038c1660009081526007602052604090205461169c908a611972565b600160a060020a038d166000908152600760205260409020556116d5565b6116c4878a611972565b965068010000000000000000870293505b6000600a541115611739576116ec600a5486611972565b600a81905568010000000000000000880281151561170657fe5b600b8054929091049091019055600a5468010000000000000000880281151561172b57fe5b04850284038403935061173f565b600a8590555b336000908152600660205260409020546117599086611972565b6006600033600160a060020a0316600160a060020a03168152602001908152602001600020819055508385600b5402039250826008600033600160a060020a0316600160a060020a03168152602001908152602001600020600082825401925050819055508b600160a060020a031633600160a060020a03167f022c0d992e4d873a3748436d960d5140c1f9721cf73f7ca5ec679d3d9f4fe2d58f88604051808381526020018281526020019250505060405180910390a3849a505b5050505050505050505092915050565b6000808315156118385760009150610f1e565b5082820282848281151561184857fe5b041461185057fe5b9392505050565b600080828481151561186557fe5b04949350505050565b600a546000906b204fce5e3e25026110000000908290633b9aca006118ed6118e77259aedfc10d7279c5eed140164540000000000088026002850a670de0b6b3a764000002016f0f0bdc21abb48db201e86d40000000008502017704140c78940f6a24fdffc78873d4490d210000000000000001611981565b85611218565b8115156118f657fe5b0403949350505050565b600a54600090670de0b6b3a7640000838101918101908390611957640218711a00828504633b9aca0002018702600283670de0b6b3a763ffff1982890a8b90030104633b9aca000281151561195157fe5b04611218565b81151561196057fe5b0495945050505050565b6000903b1190565b60008282018381101561185057fe5b80600260018201045b81811015610c495780915060028182858115156119a357fe5b04018115156119ae57fe5b04905061198a565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106119f757805160ff1916838001178555611a24565b82800160010185558215611a24579182015b82811115611a24578251825591602001919060010190611a09565b50610d6d926108509250905b80821115610d6d5760008155600101611a305600a165627a7a7230582006f3dbb83db5cb99cd83c3384c83e946fb297c7c37ad7e725b6f4de5b3aa495f0029"
}