{
  "address": "0x62edb11263cd775d549a9d9e38980014dbbfdedd",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "AM1OpenSTValue",
  "compilerVersion": "v0.4.24+commit.e67f0147",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-08-31\n*/\n\npragma solidity ^0.4.17;\n\n/**\n   @title SafeMath\n   @notice Implements SafeMath\n*/\nlibrary SafeMath {\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n        uint256 c = a * b;\n\n        assert(a == 0 || c / a == b);\n\n        return c;\n    }\n\n\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n        // Solidity automatically throws when dividing by 0\n        uint256 c = a / b;\n\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n        return c;\n    }\n\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n        assert(b <= a);\n\n        return a - b;\n    }\n\n\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n        uint256 c = a + b;\n\n        assert(c >= a);\n\n        return c;\n    }\n}\n\ncontract Hasher {\n\n    /*\n     *  Public pure functions\n     */\n    function hashUuid(\n        string _symbol,\n        string _name,\n        uint256 _chainIdValue,\n        uint256 _chainIdUtility,\n        address _openSTUtility,\n        uint256 _conversionRate,\n        uint8 _conversionRateDecimals)\n        public\n        pure\n        returns (bytes32)\n    {\n        return keccak256(\n            _symbol,\n            _name,\n            _chainIdValue,\n            _chainIdUtility,\n            _openSTUtility,\n            _conversionRate,\n            _conversionRateDecimals);\n    }\n\n    function hashStakingIntent(\n        bytes32 _uuid,\n        address _account,\n        uint256 _accountNonce,\n        address _beneficiary,\n        uint256 _amountST,\n        uint256 _amountUT,\n        uint256 _escrowUnlockHeight)\n        public\n        pure\n        returns (bytes32)\n    {\n        return keccak256(\n            _uuid,\n            _account,\n            _accountNonce,\n            _beneficiary,\n            _amountST,\n            _amountUT,\n            _escrowUnlockHeight);\n    }\n\n    function hashRedemptionIntent(\n        bytes32 _uuid,\n        address _account,\n        uint256 _accountNonce,\n        address _beneficiary,\n        uint256 _amountUT,\n        uint256 _escrowUnlockHeight)\n        public\n        pure\n        returns (bytes32)\n    {\n        return keccak256(\n            _uuid,\n            _account,\n            _accountNonce,\n            _beneficiary,\n            _amountUT,\n            _escrowUnlockHeight);\n    }\n}\n\n/**\n   @title Owned\n   @notice Implements basic ownership with 2-step transfers\n*/\ncontract Owned {\n\n    address public owner;\n    address public proposedOwner;\n\n    event OwnershipTransferInitiated(address indexed _proposedOwner);\n    event OwnershipTransferCompleted(address indexed _newOwner);\n\n\n    function Owned() public {\n        owner = msg.sender;\n    }\n\n\n    modifier onlyOwner() {\n        require(isOwner(msg.sender));\n        _;\n    }\n\n\n    function isOwner(address _address) internal view returns (bool) {\n        return (_address == owner);\n    }\n\n\n    function initiateOwnershipTransfer(address _proposedOwner) public onlyOwner returns (bool) {\n        proposedOwner = _proposedOwner;\n\n        OwnershipTransferInitiated(_proposedOwner);\n\n        return true;\n    }\n\n\n    function completeOwnershipTransfer() public returns (bool) {\n        require(msg.sender == proposedOwner);\n\n        owner = proposedOwner;\n        proposedOwner = address(0);\n\n        OwnershipTransferCompleted(owner);\n\n        return true;\n    }\n}\n\n/**\n   @title OpsManaged\n   @notice Implements OpenST ownership and permission model\n*/\ncontract OpsManaged is Owned {\n\n    address public opsAddress;\n    address public adminAddress;\n\n    event AdminAddressChanged(address indexed _newAddress);\n    event OpsAddressChanged(address indexed _newAddress);\n\n\n    function OpsManaged() public\n        Owned()\n    {\n    }\n\n\n    modifier onlyAdmin() {\n        require(isAdmin(msg.sender));\n        _;\n    }\n\n\n    modifier onlyAdminOrOps() {\n        require(isAdmin(msg.sender) || isOps(msg.sender));\n        _;\n    }\n\n\n    modifier onlyOwnerOrAdmin() {\n        require(isOwner(msg.sender) || isAdmin(msg.sender));\n        _;\n    }\n\n\n    modifier onlyOps() {\n        require(isOps(msg.sender));\n        _;\n    }\n\n\n    function isAdmin(address _address) internal view returns (bool) {\n        return (adminAddress != address(0) && _address == adminAddress);\n    }\n\n\n    function isOps(address _address) internal view returns (bool) {\n        return (opsAddress != address(0) && _address == opsAddress);\n    }\n\n\n    function isOwnerOrOps(address _address) internal view returns (bool) {\n        return (isOwner(_address) || isOps(_address));\n    }\n\n\n    // Owner and Admin can change the admin address. Address can also be set to 0 to 'disable' it.\n    function setAdminAddress(address _adminAddress) external onlyOwnerOrAdmin returns (bool) {\n        require(_adminAddress != owner);\n        require(_adminAddress != address(this));\n        require(!isOps(_adminAddress));\n\n        adminAddress = _adminAddress;\n\n        AdminAddressChanged(_adminAddress);\n\n        return true;\n    }\n\n\n    // Owner and Admin can change the operations address. Address can also be set to 0 to 'disable' it.\n    function setOpsAddress(address _opsAddress) external onlyOwnerOrAdmin returns (bool) {\n        require(_opsAddress != owner);\n        require(_opsAddress != address(this));\n        require(!isAdmin(_opsAddress));\n\n        opsAddress = _opsAddress;\n\n        OpsAddressChanged(_opsAddress);\n\n        return true;\n    }\n}\n\n/**\n   @title EIP20Interface\n   @notice Provides EIP20 token interface\n*/\ncontract EIP20Interface {\n    event Transfer(address indexed _from, address indexed _to, uint256 _value);\n    event Approval(address indexed _owner, address indexed _spender, uint256 _value);\n\n    function name() public view returns (string);\n    function symbol() public view returns (string);\n    function decimals() public view returns (uint8);\n    function totalSupply() public view returns (uint256);\n\n    function balanceOf(address _owner) public view returns (uint256 balance);\n    function allowance(address _owner, address _spender) public view returns (uint256 remaining);\n\n    function transfer(address _to, uint256 _value) public returns (bool success);\n    function transferFrom(address _from, address _to, uint256 _value) public returns (bool success);\n    function approve(address _spender, uint256 _value) public returns (bool success);\n}\n\ncontract CoreInterface {\n    \n    function registrar() public view returns (address /* registrar */);\n\n    function chainIdRemote() public view returns (uint256 /* chainIdRemote */);\n    function openSTRemote() public view returns (address /* OpenSTRemote */);\n}\n\ncontract ProtocolVersioned {\n\n    /*\n     *  Events\n     */\n    event ProtocolTransferInitiated(address indexed _existingProtocol, address indexed _proposedProtocol, uint256 _activationHeight);\n    event ProtocolTransferRevoked(address indexed _existingProtocol, address indexed _revokedProtocol);\n    event ProtocolTransferCompleted(address indexed _newProtocol);\n\n    /*\n     *  Constants\n     */\n    /// Blocks to wait before the protocol transfer can be completed\n    /// This allows anyone with a stake to unstake under the existing\n    /// protocol if they disagree with the new proposed protocol\n    /// @dev from OpenST ^v1.0 this constant will be set to a significant value\n    /// ~ 1 week at 15 seconds per block\n    uint256 constant private PROTOCOL_TRANSFER_BLOCKS_TO_WAIT = 40320;\n    \n    /*\n     *  Storage\n     */\n    /// OpenST protocol contract\n    address public openSTProtocol;\n    /// proposed OpenST protocol\n    address public proposedProtocol;\n    /// earliest protocol transfer height\n    uint256 public earliestTransferHeight;\n\n    /*\n     * Modifiers\n     */\n    modifier onlyProtocol() {\n        require(msg.sender == openSTProtocol);\n        _;\n    }\n\n    modifier onlyProposedProtocol() {\n        require(msg.sender == proposedProtocol);\n        _;\n    }\n\n    modifier afterWait() {\n        require(earliestTransferHeight <= block.number);\n        _;\n    }\n\n    modifier notNull(address _address) {\n        require(_address != 0);\n        _;\n    }\n    \n    // TODO: [ben] add hasCode modifier so that for \n    //       a significant wait time the code at the proposed new\n    //       protocol can be reviewed\n\n    /*\n     *  Public functions\n     */\n    /// @dev Constructor set the OpenST Protocol\n    function ProtocolVersioned(address _protocol) \n        public\n        notNull(_protocol)\n    {\n        openSTProtocol = _protocol;\n    }\n\n    /// @dev initiate protocol transfer\n    function initiateProtocolTransfer(\n        address _proposedProtocol)\n        public \n        onlyProtocol\n        notNull(_proposedProtocol)\n        returns (bool)\n    {\n        require(_proposedProtocol != openSTProtocol);\n        require(proposedProtocol == address(0));\n\n        earliestTransferHeight = block.number + blocksToWaitForProtocolTransfer();\n        proposedProtocol = _proposedProtocol;\n\n        ProtocolTransferInitiated(openSTProtocol, _proposedProtocol, earliestTransferHeight);\n\n        return true;\n    }\n\n    /// @dev only after the waiting period, can\n    ///      proposed protocol complete the transfer\n    function completeProtocolTransfer()\n        public\n        onlyProposedProtocol\n        afterWait\n        returns (bool) \n    {\n        openSTProtocol = proposedProtocol;\n        proposedProtocol = address(0);\n        earliestTransferHeight = 0;\n\n        ProtocolTransferCompleted(openSTProtocol);\n\n        return true;\n    }\n\n    /// @dev protocol can revoke initiated protocol\n    ///      transfer\n    function revokeProtocolTransfer()\n        public\n        onlyProtocol\n        returns (bool)\n    {\n        require(proposedProtocol != address(0));\n\n        address revokedProtocol = proposedProtocol;\n        proposedProtocol = address(0);\n        earliestTransferHeight = 0;\n\n        ProtocolTransferRevoked(openSTProtocol, revokedProtocol);\n\n        return true;\n    }\n\n    function blocksToWaitForProtocolTransfer() public pure returns (uint256) {\n        return PROTOCOL_TRANSFER_BLOCKS_TO_WAIT;\n    }\n}\n\n/// @title SimpleStake - stakes the value of an EIP20 token on Ethereum\n///        for a utility token on the OpenST platform\n/// @author OpenST Ltd.\ncontract SimpleStake is ProtocolVersioned {\n    using SafeMath for uint256;\n\n    /*\n     *  Events\n     */\n    event ReleasedStake(address indexed _protocol, address indexed _to, uint256 _amount);\n\n    /*\n     *  Storage\n     */\n    /// EIP20 token contract that can be staked\n    EIP20Interface public eip20Token;\n    /// UUID for the utility token\n    bytes32 public uuid;\n\n    /*\n     *  Public functions\n     */\n    /// @dev Contract constructor sets the protocol and the EIP20 token to stake\n    /// @param _eip20Token EIP20 token that will be staked\n    /// @param _openSTProtocol OpenSTProtocol contract that governs staking\n    /// @param _uuid Unique Universal Identifier of the registered utility token\n    function SimpleStake(\n        EIP20Interface _eip20Token,\n        address _openSTProtocol,\n        bytes32 _uuid)\n        ProtocolVersioned(_openSTProtocol)\n        public\n    {\n        eip20Token = _eip20Token;\n        uuid = _uuid;\n    }\n\n    /// @dev Allows the protocol to release the staked amount\n    ///      into provided address.\n    ///      The protocol MUST be a contract that sets the rules\n    ///      on how the stake can be released and to who.\n    ///      The protocol takes the role of an \"owner\" of the stake.\n    /// @param _to Beneficiary of the amount of the stake\n    /// @param _amount Amount of stake to release to beneficiary\n    function releaseTo(address _to, uint256 _amount) \n        public \n        onlyProtocol\n        returns (bool)\n    {\n        require(_to != address(0));\n        require(eip20Token.transfer(_to, _amount));\n        \n        ReleasedStake(msg.sender, _to, _amount);\n\n        return true;\n    }\n\n    /*\n     * Web3 call functions\n     */\n    /// @dev total stake is the balance of the staking contract\n    ///      accidental transfers directly to SimpleStake bypassing\n    ///      the OpenST protocol will not mint new utility tokens,\n    ///      but will add to the total stake.\n    ///      (accidental) donations can not be prevented\n    function getTotalStake()\n        public\n        view\n        returns (uint256)\n    {\n        return eip20Token.balanceOf(this);\n    }\n}\n\n/// @title AM1OpenSTValue - value staking contract for OpenST\ncontract AM1OpenSTValue is OpsManaged, Hasher {\n    using SafeMath for uint256;\n    \n    /*\n     *  Events\n     */\n    event UtilityTokenRegistered(bytes32 indexed _uuid, address indexed stake,\n        string _symbol, string _name, uint8 _decimals, uint256 _conversionRate, uint8 _conversionRateDecimals,\n        uint256 _chainIdUtility, address indexed _stakingAccount);\n\n    event StakingIntentDeclared(bytes32 indexed _uuid, address indexed _staker,\n        uint256 _stakerNonce, address _beneficiary, uint256 _amountST,\n        uint256 _amountUT, uint256 _unlockHeight, bytes32 _stakingIntentHash,\n        uint256 _chainIdUtility);\n\n    event ProcessedStake(bytes32 indexed _uuid, bytes32 indexed _stakingIntentHash,\n        address _stake, address _staker, uint256 _amountST, uint256 _amountUT);\n\n    event RevertedStake(bytes32 indexed _uuid, bytes32 indexed _stakingIntentHash,\n        address _staker, uint256 _amountST, uint256 _amountUT);\n\n    event RedemptionIntentConfirmed(bytes32 indexed _uuid, bytes32 _redemptionIntentHash,\n        address _redeemer, address _beneficiary, uint256 _amountST, uint256 _amountUT, uint256 _expirationHeight);\n\n    event ProcessedUnstake(bytes32 indexed _uuid, bytes32 indexed _redemptionIntentHash,\n        address stake, address _redeemer, address _beneficiary, uint256 _amountST);\n\n    event RevertedUnstake(bytes32 indexed _uuid, bytes32 indexed _redemptionIntentHash,\n        address _redeemer, address _beneficiary, uint256 _amountST);\n\n    /*\n     *  Constants\n     */\n    uint8 public constant TOKEN_DECIMALS = 18;\n    uint256 public constant DECIMALSFACTOR = 10**uint256(TOKEN_DECIMALS);\n    // ~3 weeks, assuming ~15s per block\n    uint256 private constant BLOCKS_TO_WAIT_LONG = 120960;\n    // ~3 days, assuming ~15s per block\n    uint256 private constant BLOCKS_TO_WAIT_SHORT = 17280;\n\n    /*\n     *  Structures\n     */\n    struct UtilityToken {\n        string  symbol;\n        string  name;\n        uint256 conversionRate;\n        uint8 conversionRateDecimals;\n        uint8   decimals;\n        uint256 chainIdUtility;\n        SimpleStake simpleStake;\n        address stakingAccount;\n    }\n\n    struct Stake {\n        bytes32 uuid;\n        address staker;\n        address beneficiary;\n        uint256 nonce;\n        uint256 amountST;\n        uint256 amountUT;\n        uint256 unlockHeight;\n    }\n\n    struct Unstake {\n        bytes32 uuid;\n        address redeemer;\n        address beneficiary;\n        uint256 amountST;\n        // @dev consider removal of amountUT\n        uint256 amountUT;\n        uint256 expirationHeight;\n    }\n\n    /*\n     *  Storage\n     */\n    uint256 public chainIdValue;\n    EIP20Interface public valueToken;\n    address public registrar;\n    bytes32[] public uuids;\n    bool public deactivated;\n    mapping(uint256 /* chainIdUtility */ => CoreInterface) internal cores;\n    mapping(bytes32 /* uuid */ => UtilityToken) public utilityTokens;\n    /// nonce makes the staking process atomic across the two-phased process\n    /// and protects against replay attack on (un)staking proofs during the process.\n    /// On the value chain nonces need to strictly increase by one; on the utility\n    /// chain the nonce need to strictly increase (as one value chain can have multiple\n    /// utility chains)\n    mapping(address /* (un)staker */ => uint256) internal nonces;\n    /// register the active stakes and unstakes\n    mapping(bytes32 /* hashStakingIntent */ => Stake) public stakes;\n    mapping(bytes32 /* hashRedemptionIntent */ => Unstake) public unstakes;\n\n    /*\n     *  Modifiers\n     */\n    modifier onlyRegistrar() {\n        // for now keep unique registrar\n        require(msg.sender == registrar);\n        _;\n    }\n\n    function AM1OpenSTValue(\n        uint256 _chainIdValue,\n        EIP20Interface _eip20token,\n        address _registrar)\n        public\n        OpsManaged()\n    {\n        require(_chainIdValue != 0);\n        require(_eip20token != address(0));\n        require(_registrar != address(0));\n\n        chainIdValue = _chainIdValue;\n        valueToken = _eip20token;\n        // registrar cannot be reset\n        // TODO: require it to be a contract\n        registrar = _registrar;\n        deactivated = false;\n    }\n\n    /*\n     *  External functions\n     */\n    /// @dev In order to stake the tx.origin needs to set an allowance\n    ///      for the OpenSTValue contract to transfer to itself to hold\n    ///      during the staking process.\n    function stake(\n        bytes32 _uuid,\n        uint256 _amountST,\n        address _beneficiary)\n        external\n        returns (\n        uint256 amountUT,\n        uint256 nonce,\n        uint256 unlockHeight,\n        bytes32 stakingIntentHash)\n        /* solhint-disable-next-line function-max-lines */\n    {\n        require(!deactivated);\n        /* solhint-disable avoid-tx-origin */\n        // check the staking contract has been approved to spend the amount to stake\n        // OpenSTValue needs to be able to transfer the stake into its balance for\n        // keeping until the two-phase process is completed on both chains.\n        require(_amountST > 0);\n        // Consider the security risk of using tx.origin; at the same time an allowance\n        // needs to be set before calling stake over a potentially malicious contract at stakingAccount.\n        // The second protection is that the staker needs to check the intent hash before\n        // signing off on completing the two-phased process.\n        require(valueToken.allowance(tx.origin, address(this)) >= _amountST);\n\n        require(utilityTokens[_uuid].simpleStake != address(0));\n        require(_beneficiary != address(0));\n\n        UtilityToken storage utilityToken = utilityTokens[_uuid];\n\n        // if the staking account is set to a non-zero address,\n        // then all transactions have come (from/over) the staking account,\n        // whether this is an EOA or a contract; tx.origin is putting forward the funds\n        if (utilityToken.stakingAccount != address(0)) require(msg.sender == utilityToken.stakingAccount);\n        require(valueToken.transferFrom(tx.origin, address(this), _amountST));\n\n        amountUT = (_amountST.mul(utilityToken.conversionRate))\n            .div(10**uint256(utilityToken.conversionRateDecimals));\n        unlockHeight = block.number + blocksToWaitLong();\n\n        nonces[tx.origin]++;\n        nonce = nonces[tx.origin];\n\n        stakingIntentHash = hashStakingIntent(\n            _uuid,\n            tx.origin,\n            nonce,\n            _beneficiary,\n            _amountST,\n            amountUT,\n            unlockHeight\n        );\n\n        stakes[stakingIntentHash] = Stake({\n            uuid:         _uuid,\n            staker:       tx.origin,\n            beneficiary:  _beneficiary,\n            nonce:        nonce,\n            amountST:     _amountST,\n            amountUT:     amountUT,\n            unlockHeight: unlockHeight\n        });\n\n        StakingIntentDeclared(_uuid, tx.origin, nonce, _beneficiary,\n            _amountST, amountUT, unlockHeight, stakingIntentHash, utilityToken.chainIdUtility);\n\n        return (amountUT, nonce, unlockHeight, stakingIntentHash);\n        /* solhint-enable avoid-tx-origin */\n    }\n\n    function processStaking(\n        bytes32 _stakingIntentHash)\n        external\n        returns (address stakeAddress)\n    {\n        require(_stakingIntentHash != \"\");\n\n        Stake storage stake = stakes[_stakingIntentHash];\n\n        // note: as processStaking incurs a cost for the staker, we provide a fallback\n        // in v0.9 for registrar to process the staking on behalf of the staker,\n        // as the staker could fail to process the stake and avoid the cost of staking;\n        // this will be replaced with a signature carry-over implementation instead, where\n        // the signature of the intent hash suffices on value and utility chain, decoupling\n        // it from the transaction to processStaking and processMinting\n        require(stake.staker == msg.sender || registrar == msg.sender);\n        // as this bears the cost, there is no need to require\n        // that the stake.unlockHeight is not yet surpassed\n        // as is required on processMinting\n\n        UtilityToken storage utilityToken = utilityTokens[stake.uuid];\n        stakeAddress = address(utilityToken.simpleStake);\n        require(stakeAddress != address(0));\n\n        assert(valueToken.balanceOf(address(this)) >= stake.amountST);\n        require(valueToken.transfer(stakeAddress, stake.amountST));\n\n        ProcessedStake(stake.uuid, _stakingIntentHash, stakeAddress, stake.staker,\n            stake.amountST, stake.amountUT);\n\n        delete stakes[_stakingIntentHash];\n\n        return stakeAddress;\n    }\n\n    function revertStaking(\n        bytes32 _stakingIntentHash)\n        external\n        returns (\n        bytes32 uuid,\n        uint256 amountST,\n        address staker)\n    {\n        require(_stakingIntentHash != \"\");\n\n        Stake storage stake = stakes[_stakingIntentHash];\n\n        // require that the stake is unlocked and exists\n        require(stake.unlockHeight > 0);\n        require(stake.unlockHeight <= block.number);\n\n        assert(valueToken.balanceOf(address(this)) >= stake.amountST);\n        // revert the amount that was intended to be staked back to staker\n        require(valueToken.transfer(stake.staker, stake.amountST));\n\n        uuid = stake.uuid;\n        amountST = stake.amountST;\n        staker = stake.staker;\n\n        RevertedStake(stake.uuid, _stakingIntentHash, stake.staker,\n            stake.amountST, stake.amountUT);\n\n        delete stakes[_stakingIntentHash];\n\n        return (uuid, amountST, staker);\n    }\n\n    function confirmRedemptionIntent(\n        bytes32 _uuid,\n        address _redeemer,\n        uint256 _redeemerNonce,\n        address _beneficiary,\n        uint256 _amountUT,\n        uint256 _redemptionUnlockHeight,\n        bytes32 _redemptionIntentHash)\n        external\n        onlyRegistrar\n        returns (\n        uint256 amountST,\n        uint256 expirationHeight)\n    {\n        require(utilityTokens[_uuid].simpleStake != address(0));\n        require(_amountUT > 0);\n        require(_beneficiary != address(0));\n        // later core will provide a view on the block height of the\n        // utility chain\n        require(_redemptionUnlockHeight > 0);\n        require(_redemptionIntentHash != \"\");\n\n        require(nonces[_redeemer] + 1 == _redeemerNonce);\n        nonces[_redeemer]++;\n\n        bytes32 redemptionIntentHash = hashRedemptionIntent(\n            _uuid,\n            _redeemer,\n            nonces[_redeemer],\n            _beneficiary,\n            _amountUT,\n            _redemptionUnlockHeight\n        );\n\n        require(_redemptionIntentHash == redemptionIntentHash);\n\n        expirationHeight = block.number + blocksToWaitShort();\n\n        UtilityToken storage utilityToken = utilityTokens[_uuid];\n        // minimal precision to unstake 1 STWei\n        require(_amountUT >= (utilityToken.conversionRate.div(10**uint256(utilityToken.conversionRateDecimals))));\n        amountST = (_amountUT\n            .mul(10**uint256(utilityToken.conversionRateDecimals))).div(utilityToken.conversionRate);\n\n        require(valueToken.balanceOf(address(utilityToken.simpleStake)) >= amountST);\n\n        unstakes[redemptionIntentHash] = Unstake({\n            uuid:         _uuid,\n            redeemer:     _redeemer,\n            beneficiary:  _beneficiary,\n            amountUT:     _amountUT,\n            amountST:     amountST,\n            expirationHeight: expirationHeight\n        });\n\n        RedemptionIntentConfirmed(_uuid, redemptionIntentHash, _redeemer,\n            _beneficiary, amountST, _amountUT, expirationHeight);\n\n        return (amountST, expirationHeight);\n    }\n\n    function processUnstaking(\n        bytes32 _redemptionIntentHash)\n        external\n        returns (\n        address stakeAddress)\n    {\n        require(_redemptionIntentHash != \"\");\n\n        Unstake storage unstake = unstakes[_redemptionIntentHash];\n        require(unstake.redeemer == msg.sender);\n\n        // as the process unstake results in a gain for the caller\n        // it needs to expire well before the process redemption can\n        // be reverted in OpenSTUtility\n        require(unstake.expirationHeight > block.number);\n\n        UtilityToken storage utilityToken = utilityTokens[unstake.uuid];\n        stakeAddress = address(utilityToken.simpleStake);\n        require(stakeAddress != address(0));\n\n        require(utilityToken.simpleStake.releaseTo(unstake.beneficiary, unstake.amountST));\n\n        ProcessedUnstake(unstake.uuid, _redemptionIntentHash, stakeAddress,\n            unstake.redeemer, unstake.beneficiary, unstake.amountST);\n\n        delete unstakes[_redemptionIntentHash];\n\n        return stakeAddress;\n    }\n\n    function revertUnstaking(\n        bytes32 _redemptionIntentHash)\n        external\n        returns (\n        bytes32 uuid,\n        address redeemer,\n        address beneficiary,\n        uint256 amountST)\n    {\n        require(_redemptionIntentHash != \"\");\n\n        Unstake storage unstake = unstakes[_redemptionIntentHash];\n\n        // require that the unstake has expired and that the redeemer has not\n        // processed the unstaking, ie unstake has not been deleted\n        require(unstake.expirationHeight > 0);\n        require(unstake.expirationHeight <= block.number);\n\n        uuid = unstake.uuid;\n        redeemer = unstake.redeemer;\n        beneficiary = unstake.beneficiary;\n        amountST = unstake.amountST;\n\n        delete unstakes[_redemptionIntentHash];\n\n        RevertedUnstake(uuid, _redemptionIntentHash, redeemer, beneficiary, amountST);\n\n        return (uuid, redeemer, beneficiary, amountST);\n    }\n\n    function core(\n        uint256 _chainIdUtility)\n        external\n        view\n        returns (address /* core address */ )\n    {\n        return address(cores[_chainIdUtility]);\n    }\n\n    /*\n     *  Public view functions\n     */\n    function getNextNonce(\n        address _account)\n        public\n        view\n        returns (uint256 /* nextNonce */)\n    {\n        return (nonces[_account] + 1);\n    }\n\n    function blocksToWaitLong() public pure returns (uint256) {\n        return BLOCKS_TO_WAIT_LONG;\n    }\n\n    function blocksToWaitShort() public pure returns (uint256) {\n        return BLOCKS_TO_WAIT_SHORT;\n    }\n\n    /// @dev Returns size of uuids\n    /// @return size\n    function getUuidsSize() public view returns (uint256) {\n        return uuids.length;\n    }\n\n    /*\n     *  Registrar functions\n     */\n    function addCore(\n        CoreInterface _core)\n        public\n        onlyRegistrar\n        returns (bool /* success */)\n    {\n        require(address(_core) != address(0));\n        // core constructed with same registrar\n        require(registrar == _core.registrar());\n        // on value chain core only tracks a remote utility chain\n        uint256 chainIdUtility = _core.chainIdRemote();\n        require(chainIdUtility != 0);\n        // cannot overwrite core for given chainId\n        require(cores[chainIdUtility] == address(0));\n\n        cores[chainIdUtility] = _core;\n\n        return true;\n    }\n\n    function registerUtilityToken(\n        string _symbol,\n        string _name,\n        uint256 _conversionRate,\n        uint8 _conversionRateDecimals,\n        uint256 _chainIdUtility,\n        address _stakingAccount,\n        bytes32 _checkUuid)\n        public\n        onlyRegistrar\n        returns (bytes32 uuid)\n    {\n        require(bytes(_name).length > 0);\n        require(bytes(_symbol).length > 0);\n        require(_conversionRate > 0);\n        require(_conversionRateDecimals <= 5);\n\n        address openSTRemote = cores[_chainIdUtility].openSTRemote();\n        require(openSTRemote != address(0));\n\n        uuid = hashUuid(\n            _symbol,\n            _name,\n            chainIdValue,\n            _chainIdUtility,\n            openSTRemote,\n            _conversionRate,\n            _conversionRateDecimals);\n\n        require(uuid == _checkUuid);\n\n        require(address(utilityTokens[uuid].simpleStake) == address(0));\n\n        SimpleStake simpleStake = new SimpleStake(\n            valueToken, address(this), uuid);\n\n        utilityTokens[uuid] = UtilityToken({\n            symbol:         _symbol,\n            name:           _name,\n            conversionRate: _conversionRate,\n            conversionRateDecimals: _conversionRateDecimals,\n            decimals:       TOKEN_DECIMALS,\n            chainIdUtility: _chainIdUtility,\n            simpleStake:    simpleStake,\n            stakingAccount: _stakingAccount\n        });\n        uuids.push(uuid);\n\n        UtilityTokenRegistered(uuid, address(simpleStake), _symbol, _name,\n            TOKEN_DECIMALS, _conversionRate, _conversionRateDecimals, _chainIdUtility, _stakingAccount);\n\n        return uuid;\n    }\n\n    /*\n     *  Administrative functions\n     */\n    function initiateProtocolTransfer(\n        ProtocolVersioned _simpleStake,\n        address _proposedProtocol)\n        public\n        onlyAdmin\n        returns (bool)\n    {\n        _simpleStake.initiateProtocolTransfer(_proposedProtocol);\n\n        return true;\n    }\n\n    // on the very first released version v0.9.1 there is no need\n    // to completeProtocolTransfer from a previous version\n\n    /* solhint-disable-next-line separate-by-one-line-in-contract */\n    function revokeProtocolTransfer(\n        ProtocolVersioned _simpleStake)\n        public\n        onlyAdmin\n        returns (bool)\n    {\n        _simpleStake.revokeProtocolTransfer();\n\n        return true;\n    }\n\n    function deactivate()\n        public\n        onlyAdmin\n        returns (\n        bool result)\n    {\n        deactivated = true;\n        return deactivated;\n    }\n}",
  "bytecode": "608060405234801561001057600080fd5b50604051606080612fff83398101604090815281516020830151919092015160008054600160a060020a0319163317905582151561004d57600080fd5b600160a060020a038216151561006257600080fd5b600160a060020a038116151561007757600080fd5b60049290925560058054600160a060020a03928316600160a060020a031991821617909155600680549290931691161790556008805460ff19169055612f3d806100c26000396000f3006080604052600436106101b35763ffffffff60e060020a6000350416630c44794181146101b857806315613d9f146101fe578063241dce811461021357806325c3b5fa1461022b5780632b20e397146102665780632c1e816d1461029757806332624053146102b857806351b42b00146102cd578063556ed30e146102e257806358c8c774146102f75780635b7f415c146103415780635cd45e611461036c578063627327461461038157806363490a77146103d1578063707789c5146103f257806379ab67c81461041357806389d77f821461044a5780638bc04eb71461045f5780638da5cb5b146104745780638ea64376146104895780638eefdd521461049e5780638fee64071461055857806390193b7c146105b45780639aebfea7146105d55780639ef4fc70146105f6578063a546cbf71461064d578063ab7361c314610665578063ad449e9c146106b2578063c0b6f561146106ca578063c3d37aab146106eb578063d153b60c146107a5578063e71a7811146107ba578063effff82f146107cf578063f24c8ac2146107e4578063f40d642614610823578063fc15a2301461083b578063fc6f94681461096c575b600080fd5b3480156101c457600080fd5b506101ec600435600160a060020a03602435811690604435906064351660843560a435610981565b60408051918252519081900360200190f35b34801561020a57600080fd5b506101ec6109da565b34801561021f57600080fd5b506101ec6004356109e0565b34801561023757600080fd5b50610252600160a060020a03600435811690602435166109ff565b604080519115158252519081900360200190f35b34801561027257600080fd5b5061027b610aa5565b60408051600160a060020a039092168252519081900360200190f35b3480156102a357600080fd5b50610252600160a060020a0360043516610ab4565b3480156102c457600080fd5b506101ec610b6c565b3480156102d957600080fd5b50610252610b73565b3480156102ee57600080fd5b50610252610b9f565b34801561030357600080fd5b5061030f600435610ba8565b60408051948552600160a060020a03938416602086015291909216838201526060830191909152519081900360800190f35b34801561034d57600080fd5b50610356610cab565b6040805160ff9092168252519081900360200190f35b34801561037857600080fd5b506101ec610cb0565b34801561038d57600080fd5b506103b8600435600160a060020a03602435811690604435906064351660843560a43560c435610cb6565b6040805192835260208301919091528051918290030190f35b3480156103dd57600080fd5b50610252600160a060020a0360043516611050565b3480156103fe57600080fd5b50610252600160a060020a03600435166110d8565b34801561041f57600080fd5b506101ec600435600160a060020a03602435811690604435906064351660843560a43560c435611190565b34801561045657600080fd5b506101ec6111f1565b34801561046b57600080fd5b506101ec6111f8565b34801561048057600080fd5b5061027b611204565b34801561049557600080fd5b5061027b611213565b3480156104aa57600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526101ec94369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a9998810197919650918201945092508291508401838280828437509497505084359550505050602082013560ff1691604081013591506060810135600160a060020a03169060800135611222565b34801561056457600080fd5b50610570600435611683565b60408051978852600160a060020a03968716602089015294909516868501526060860192909252608085015260a084015260c0830191909152519081900360e00190f35b3480156105c057600080fd5b506101ec600160a060020a03600435166116cc565b3480156105e157600080fd5b50610252600160a060020a03600435166116ea565b34801561060257600080fd5b5061060e60043561186c565b60408051968752600160a060020a03958616602088015293909416858401526060850191909152608084015260a0830191909152519081900360c00190f35b34801561065957600080fd5b5061027b6004356118ae565b34801561067157600080fd5b5061068c600435602435600160a060020a03604435166118c9565b604080519485526020850193909352838301919091526060830152519081900360800190f35b3480156106be57600080fd5b5061027b600435611cae565b3480156106d657600080fd5b50610252600160a060020a0360043516611e88565b3480156106f757600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526101ec94369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a999881019791965091820194509250829150840183828082843750949750508435955050506020830135926040810135600160a060020a03169250606081013591506080013560ff16611eed565b3480156107b157600080fd5b5061027b612014565b3480156107c657600080fd5b50610252612023565b3480156107db57600080fd5b5061027b612099565b3480156107f057600080fd5b506107fc6004356120a8565b604080519384526020840192909252600160a060020a031682820152519081900360600190f35b34801561082f57600080fd5b5061027b6004356122fc565b34801561084757600080fd5b50610853600435612581565b6040805190810187905260ff80871660608301528516608082015260a08101849052600160a060020a0380841660c0830152821660e0820152610100808252895190820152885181906020808301916101208401918d019080838360005b838110156108c95781810151838201526020016108b1565b50505050905090810190601f1680156108f65780820380516001836020036101000a031916815260200191505b5083810382528a5181528a516020918201918c019080838360005b83811015610929578181015183820152602001610911565b50505050905090810190601f1680156109565780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390f35b34801561097857600080fd5b5061027b6126fa565b604080518781526c01000000000000000000000000600160a060020a0380891682026020840152603483018890528616026054820152606881018490526088810183905290519081900360a80190209695505050505050565b60045481565b60078054829081106109ee57fe5b600091825260209091200154905081565b6000610a0a33612709565b1515610a1557600080fd5b82600160a060020a03166310bea39b836040518263ffffffff1660e060020a0281526004018082600160a060020a0316600160a060020a03168152602001915050602060405180830381600087803b158015610a7057600080fd5b505af1158015610a84573d6000803e3d6000fd5b505050506040513d6020811015610a9a57600080fd5b506001949350505050565b600654600160a060020a031681565b6000610abf33612739565b80610ace5750610ace33612709565b1515610ad957600080fd5b600054600160a060020a0383811691161415610af457600080fd5b600160a060020a038216301415610b0a57600080fd5b610b138261274d565b15610b1d57600080fd5b60038054600160a060020a031916600160a060020a0384169081179091556040517f17bb0532ac84902a52bb6799529153f5ea501fc54fbcf3ea00dbd42bceb6b0f490600090a2506001919050565b6143805b90565b6000610b7e33612709565b1515610b8957600080fd5b506008805460ff19166001179081905560ff1690565b60085460ff1681565b600080808080851515610bba57600080fd5b506000858152600d602052604081206005810154909110610bda57600080fd5b6005810154431015610beb57600080fd5b805460018083015460028085015460038087015460008d8152600d602090815260408083208381559889018054600160a060020a03199081169091559689018054909716909655928701819055600487018190556005909601959095558251600160a060020a0394851680825292909416908401819052838301859052915194995097509550909350879187917fd2e4a597786918f5f3900bf68ba0250d4bb4451fa0537425fcc49bf02a2b46c5919081900360600190a3509193509193565b601281565b60075490565b600654600090819081908190600160a060020a03163314610cd657600080fd5b60008b8152600a6020526040902060050154600160a060020a03161515610cfc57600080fd5b60008711610d0957600080fd5b600160a060020a0388161515610d1e57600080fd5b60008611610d2b57600080fd5b841515610d3757600080fd5b600160a060020a038a166000908152600b60205260409020546001018914610d5e57600080fd5b600160a060020a038a166000908152600b60205260409020805460010190819055610d8f908c908c908b8b8b610981565b9150848214610d9d57600080fd5b610da5610b6c565b60008c8152600a602081905260409091206003810154600282015443949094019650909350610de1929160ff909116900a63ffffffff61277a16565b871015610ded57600080fd5b60028101546003820154610e1f9190610e13908a9060ff16600a0a63ffffffff61279116565b9063ffffffff61277a16565b6005805490830154604080517f70a08231000000000000000000000000000000000000000000000000000000008152600160a060020a0392831660048201529051939750879391909216916370a082319160248083019260209291908290030181600087803b158015610e9157600080fd5b505af1158015610ea5573d6000803e3d6000fd5b505050506040513d6020811015610ebb57600080fd5b50511015610ec857600080fd5b60c0604051908101604052808c6000191681526020018b600160a060020a0316815260200189600160a060020a0316815260200185815260200188815260200184815250600d600084600019166000191681526020019081526020016000206000820151816000019060001916905560208201518160010160006101000a815481600160a060020a030219169083600160a060020a0316021790555060408201518160020160006101000a815481600160a060020a030219169083600160a060020a03160217905550606082015181600301556080820151816004015560a082015181600501559050508a600019167f822c43c5341b018a64a40efec92f4c6e173c65f5bf070f737c6eb7b753897001838c8b888c8960405180876000191660001916815260200186600160a060020a0316600160a060020a0316815260200185600160a060020a0316600160a060020a03168152602001848152602001838152602001828152602001965050505050505060405180910390a2505097509795505050505050565b600061105b33612709565b151561106657600080fd5b81600160a060020a0316635b9ce56c6040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156110a457600080fd5b505af11580156110b8573d6000803e3d6000fd5b505050506040513d60208110156110ce57600080fd5b5060019392505050565b60006110e333612739565b806110f257506110f233612709565b15156110fd57600080fd5b600054600160a060020a038381169116141561111857600080fd5b600160a060020a03821630141561112e57600080fd5b61113782612709565b1561114157600080fd5b60028054600160a060020a031916600160a060020a0384169081179091556040517fac46a4511b8366ae3b7cf3cf342e31556274975598dcae03c866f8f0f55d51c490600090a2506001919050565b604080518881526c01000000000000000000000000600160a060020a03808a1682026020840152603483018990528716026054820152606881018590526088810184905260a8810183905290519081900360c8019020979650505050505050565b6201d88090565b670de0b6b3a764000081565b600054600160a060020a031681565b600254600160a060020a031681565b60065460009081908190600160a060020a0316331461124057600080fd5b885160001061124e57600080fd5b895160001061125c57600080fd5b6000881161126957600080fd5b600560ff8816111561127a57600080fd5b60008681526009602090815260408083205481517ff7060b680000000000000000000000000000000000000000000000000000000081529151600160a060020a039091169363f7060b6893600480850194919392918390030190829087803b1580156112e557600080fd5b505af11580156112f9573d6000803e3d6000fd5b505050506040513d602081101561130f57600080fd5b50519150600160a060020a038216151561132857600080fd5b6113398a8a60045489868d8d611eed565b925083831461134757600080fd5b6000838152600a6020526040902060050154600160a060020a03161561136c57600080fd5b600554600160a060020a031630846113826127bc565b600160a060020a039384168152919092166020820152604080820192909252905190819003606001906000f0801580156113c0573d6000803e3d6000fd5b5060408051610100810182528c815260208082018d90528183018c905260ff8b1660608301526012608083015260a082018a9052600160a060020a0380851660c0840152891660e08301526000878152600a82529290922081518051949550919390926114319284929101906127cc565b50602082810151805161144a92600185019201906127cc565b506040820151816002015560608201518160030160006101000a81548160ff021916908360ff16021790555060808201518160030160016101000a81548160ff021916908360ff16021790555060a0820151816004015560c08201518160050160006101000a815481600160a060020a030219169083600160a060020a0316021790555060e08201518160060160006101000a815481600160a060020a030219169083600160a060020a03160217905550905050600783908060018154018082558091505090600182039060005260206000200160009091929091909150906000191690555084600160a060020a031681600160a060020a031684600019167f2d26f0738a2864816065e4ee8e6b7eb2b7ea13534f5d1cd83226220d115d092b8d8d60128e8e8e6040518080602001806020018760ff1660ff1681526020018681526020018560ff1660ff168152602001848152602001838103835289818151815260200191508051906020019080838360005b838110156115d65781810151838201526020016115be565b50505050905090810190601f1680156116035780820380516001836020036101000a031916815260200191505b5083810382528851815288516020918201918a019080838360005b8381101561163657818101518382015260200161161e565b50505050905090810190601f1680156116635780820380516001836020036101000a031916815260200191505b509850505050505050505060405180910390a45050979650505050505050565b600c6020526000908152604090208054600182015460028301546003840154600485015460058601546006909601549495600160a060020a039485169594909316939192909187565b600160a060020a03166000908152600b602052604090205460010190565b6006546000908190600160a060020a0316331461170657600080fd5b600160a060020a038316151561171b57600080fd5b82600160a060020a0316632b20e3976040518163ffffffff1660e060020a028152600401602060405180830381600087803b15801561175957600080fd5b505af115801561176d573d6000803e3d6000fd5b505050506040513d602081101561178357600080fd5b5051600654600160a060020a0390811691161461179f57600080fd5b82600160a060020a0316634418c0816040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156117dd57600080fd5b505af11580156117f1573d6000803e3d6000fd5b505050506040513d602081101561180757600080fd5b5051905080151561181757600080fd5b600081815260096020526040902054600160a060020a03161561183957600080fd5b60008181526009602052604090208054600160a060020a038516600160a060020a03199091161790556001915050919050565b600d602052600090815260409020805460018201546002830154600384015460048501546005909501549394600160a060020a03938416949290931692909186565b600090815260096020526040902054600160a060020a031690565b600854600090819081908190819060ff16156118e457600080fd5b600087116118f157600080fd5b600554604080517fdd62ed3e00000000000000000000000000000000000000000000000000000000815232600482015230602482015290518992600160a060020a03169163dd62ed3e9160448083019260209291908290030181600087803b15801561195c57600080fd5b505af1158015611970573d6000803e3d6000fd5b505050506040513d602081101561198657600080fd5b5051101561199357600080fd5b6000888152600a6020526040902060050154600160a060020a031615156119b957600080fd5b600160a060020a03861615156119ce57600080fd5b506000878152600a602052604090206006810154600160a060020a031615611a09576006810154600160a060020a03163314611a0957600080fd5b600554604080517f23b872dd000000000000000000000000000000000000000000000000000000008152326004820152306024820152604481018a90529051600160a060020a03909216916323b872dd916064808201926020929091908290030181600087803b158015611a7c57600080fd5b505af1158015611a90573d6000803e3d6000fd5b505050506040513d6020811015611aa657600080fd5b50511515611ab357600080fd5b60038101546002820154611ad99160ff16600a0a90610e13908a9063ffffffff61279116565b9450611ae36111f1565b326000818152600b60205260409020805460010190819055955043919091019350611b1490899086898b8a89611190565b915060e0604051908101604052808960001916815260200132600160a060020a0316815260200187600160a060020a0316815260200185815260200188815260200186815260200184815250600c600084600019166000191681526020019081526020016000206000820151816000019060001916905560208201518160010160006101000a815481600160a060020a030219169083600160a060020a0316021790555060408201518160020160006101000a815481600160a060020a030219169083600160a060020a03160217905550606082015181600301556080820151816004015560a0820151816005015560c0820151816006015590505032600160a060020a031688600019167fffc4d6f284bfb2a5b65b0706ea9fc220451cbaacfcd63e23942233e1bee2314a86898b8a898989600401546040518088815260200187600160a060020a0316600160a060020a03168152602001868152602001858152602001848152602001836000191660001916815260200182815260200197505050505050505060405180910390a35093509350935093565b60008080831515611cbe57600080fd5b6000848152600d602052604090206001810154909250600160a060020a03163314611ce857600080fd5b60058201544310611cf857600080fd5b5080546000908152600a602052604090206005810154600160a060020a03169250821515611d2557600080fd5b600581015460028301546003840154604080517f4e06bad1000000000000000000000000000000000000000000000000000000008152600160a060020a0393841660048201526024810192909252519190921691634e06bad19160448083019260209291908290030181600087803b158015611da057600080fd5b505af1158015611db4573d6000803e3d6000fd5b505050506040513d6020811015611dca57600080fd5b50511515611dd757600080fd5b815460018301546002840154600385015460408051600160a060020a03808a16825294851660208201529290931682840152606082015290518692917fbc463274ea21eff8e6fd4c52113e999ab98deaf900ba08ea42760bcbee56bd2d919081900360800190a36000848152600d60205260408120818155600181018054600160a060020a031990811690915560028201805490911690556003810182905560048101829055600501555050919050565b6000611e9333612739565b1515611e9e57600080fd5b60018054600160a060020a031916600160a060020a0384169081179091556040517f20f5afdf40bf7b43c89031a5d4369a30b159e512d164aa46124bcb706b4a1caf90600090a2506001919050565b6000878787878787876040518088805190602001908083835b60208310611f255780518252601f199092019160209182019101611f06565b51815160209384036101000a60001901801990921691161790528a5191909301928a0191508083835b60208310611f6d5780518252601f199092019160209182019101611f4e565b6001836020036101000a03801982511681845116808217855250505050505090500186815260200185815260200184600160a060020a0316600160a060020a03166c010000000000000000000000000281526014018381526020018260ff1660ff167f010000000000000000000000000000000000000000000000000000000000000002815260010197505050505050505060405180910390209050979650505050505050565b600154600160a060020a031681565b600154600090600160a060020a0316331461203d57600080fd5b6001805460008054600160a060020a03808416600160a060020a0319928316178084559190931690935560405192909116917f624adc4c72536289dd9d5439ccdeccd8923cb9af95fb626b21935447c77b84079190a250600190565b600554600160a060020a031681565b60008080808415156120b957600080fd5b506000848152600c6020526040812060068101549091106120d957600080fd5b60068101544310156120ea57600080fd5b600480820154600554604080517f70a082310000000000000000000000000000000000000000000000000000000081523094810194909452519192600160a060020a03909116916370a08231916024808201926020929091908290030181600087803b15801561215957600080fd5b505af115801561216d573d6000803e3d6000fd5b505050506040513d602081101561218357600080fd5b5051101561218d57fe5b6005546001820154600480840154604080517fa9059cbb000000000000000000000000000000000000000000000000000000008152600160a060020a0394851693810193909352602483019190915251919092169163a9059cbb9160448083019260209291908290030181600087803b15801561220957600080fd5b505af115801561221d573d6000803e3d6000fd5b505050506040513d602081101561223357600080fd5b5051151561224057600080fd5b805460048201546001830154600584015460408051600160a060020a03909316808452602084018590528382019290925251939750919550909350869186917ffac805f418b2007d8511df89e73abccd180323e224de146c5704800e069b6149919081900360600190a36000858152600c60205260408120818155600181018054600160a060020a0319908116909155600282018054909116905560038101829055600481018290556005810182905560060155509193909250565b6000808083151561230c57600080fd5b6000848152600c602052604090206001810154909250600160a060020a03163314806123425750600654600160a060020a031633145b151561234d57600080fd5b5080546000908152600a602052604090206005810154600160a060020a0316925082151561237a57600080fd5b600480830154600554604080517f70a082310000000000000000000000000000000000000000000000000000000081523094810194909452519192600160a060020a03909116916370a08231916024808201926020929091908290030181600087803b1580156123e957600080fd5b505af11580156123fd573d6000803e3d6000fd5b505050506040513d602081101561241357600080fd5b5051101561241d57fe5b600554600480840154604080517fa9059cbb000000000000000000000000000000000000000000000000000000008152600160a060020a0388811694820194909452602481019290925251919092169163a9059cbb9160448083019260209291908290030181600087803b15801561249457600080fd5b505af11580156124a8573d6000803e3d6000fd5b505050506040513d60208110156124be57600080fd5b505115156124cb57600080fd5b815460018301546004840154600585015460408051600160a060020a03808a1682529094166020850152838101929092526060830152518692917fa5335af46565e4e1f3d5dfab0e1b64dc63eccf108b6bb141a8a8b44b4b00fbfc919081900360800190a36000848152600c60205260408120818155600181018054600160a060020a03199081169091556002820180549091169055600381018290556004810182905560058101829055600601555050919050565b600a6020908152600091825260409182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529092918391908301828280156126185780601f106125ed57610100808354040283529160200191612618565b820191906000526020600020905b8154815290600101906020018083116125fb57829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156126b65780601f1061268b576101008083540402835291602001916126b6565b820191906000526020600020905b81548152906001019060200180831161269957829003601f168201915b50505060028401546003850154600486015460058701546006909701549596929560ff8084169650610100909304909216935091600160a060020a03908116911688565b600354600160a060020a031681565b600354600090600160a060020a0316158015906127335750600354600160a060020a038381169116145b92915050565b600054600160a060020a0390811691161490565b600254600090600160a060020a031615801590612733575050600254600160a060020a0390811691161490565b600080828481151561278857fe5b04949350505050565b60008282028315806127ad57508284828115156127aa57fe5b04145b15156127b557fe5b9392505050565b6040516106ad8061286583390190565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061280d57805160ff191683800117855561283a565b8280016001018555821561283a579182015b8281111561283a57825182559160200191906001019061281f565b5061284692915061284a565b5090565b610b7091905b8082111561284657600081556001016128505600608060405234801561001057600080fd5b506040516060806106ad8339810160409081528151602083015191909201518180600160a060020a038116151561004657600080fd5b5060008054600160a060020a03928316600160a060020a0319918216179091556003805495909216941693909317909255506004556106238061008a6000396000f3006080604052600436106100ae5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166310bea39b81146100b35780634e06bad1146100e85780635a8f94081461010c5780635b9ce56c1461013d5780635ce34bc1146101525780636c8ba51b146101675780637bc742251461017c5780639496bd30146101a3578063b0dbbd53146101b8578063b4ff12d4146101cd578063bb07e85d146101e2575b600080fd5b3480156100bf57600080fd5b506100d4600160a060020a03600435166101f7565b604080519115158252519081900360200190f35b3480156100f457600080fd5b506100d4600160a060020a03600435166024356102d6565b34801561011857600080fd5b506101216103f2565b60408051600160a060020a039092168252519081900360200190f35b34801561014957600080fd5b506100d4610401565b34801561015e57600080fd5b5061012161049a565b34801561017357600080fd5b506101216104a9565b34801561018857600080fd5b506101916104b8565b60408051918252519081900360200190f35b3480156101af57600080fd5b506100d461054e565b3480156101c457600080fd5b506101916105e5565b3480156101d957600080fd5b506101916105eb565b3480156101ee57600080fd5b506101916105f1565b60008054600160a060020a0316331461020f57600080fd5b81600160a060020a038116151561022557600080fd5b600054600160a060020a038481169116141561024057600080fd5b600154600160a060020a03161561025657600080fd5b61025e6105e5565b4301600281905560018054600160a060020a0380871673ffffffffffffffffffffffffffffffffffffffff199092168217909255600054604080519485525191939216917f82e0eb1c33f79f3a51642eb1444af21cc2196956fde8d4d1b4d2595b4a1bb3fe919081900360200190a350600192915050565b60008054600160a060020a031633146102ee57600080fd5b600160a060020a038316151561030357600080fd5b600354604080517fa9059cbb000000000000000000000000000000000000000000000000000000008152600160a060020a038681166004830152602482018690529151919092169163a9059cbb9160448083019260209291908290030181600087803b15801561037257600080fd5b505af1158015610386573d6000803e3d6000fd5b505050506040513d602081101561039c57600080fd5b505115156103a957600080fd5b604080518381529051600160a060020a0385169133917fbb9c3d63e9684d973fded27f355b4ab89505e3be60298380be985af025d5f1119181900360200190a350600192915050565b600354600160a060020a031681565b600080548190600160a060020a0316331461041b57600080fd5b600154600160a060020a0316151561043257600080fd5b506001805473ffffffffffffffffffffffffffffffffffffffff198116909155600060028190558054604051600160a060020a039384169384939216917f14f2c9c4530b92e890131e6d1238d268e42ff1d95182727238550f16f9831afd91a3600191505090565b600154600160a060020a031681565b600054600160a060020a031681565b600354604080517f70a082310000000000000000000000000000000000000000000000000000000081523060048201529051600092600160a060020a0316916370a0823191602480830192602092919082900301818787803b15801561051d57600080fd5b505af1158015610531573d6000803e3d6000fd5b505050506040513d602081101561054757600080fd5b5051905090565b600154600090600160a060020a0316331461056857600080fd5b60025443101561057757600080fd5b6001805460008054600160a060020a0380841673ffffffffffffffffffffffffffffffffffffffff199283161780845591909316909355600281905560405192909116917f5d3c6c7f0657b4deaef8639e9e75a793934c13058bbf35250be5ed458df3f5399190a250600190565b619d8090565b60025481565b600454815600a165627a7a72305820874735bb3712e6b601efdf12b6f96323d7093ed91d074de1ac679815479a5ef50029a165627a7a7230582057c2b322f85a7a97c5c8159f257def6ef24dcdd73fbc42c381a425777da012d8002900000000000000000000000000000000000000000000000000000000000000010000000000000000000000002c4e8f2d746113d0696ce89b35f0d8bf88e0aeca000000000000000000000000d184c79481774a4c2ea2dad4d14f9c6396e17c65",
  "constructorArguments": "00000000000000000000000000000000000000000000000000000000000000010000000000000000000000002c4e8f2d746113d0696ce89b35f0d8bf88e0aeca000000000000000000000000d184c79481774a4c2ea2dad4d14f9c6396e17c65"
}