{
  "address": "0x46a19d32be761efcab0bef87c92ab3911f3fab86",
  "chain": "ETH",
  "chainID": 1,
  "verifier": "etherscan.io",
  "commonName": "",
  "contractName": "HotLot",
  "compilerVersion": "v0.4.23+commit.124ca40d",
  "optimization": true,
  "runs": "200",
  "evmVersion": "default",
  "sourceCode": "/**\n *Submitted for verification at Etherscan.io on 2018-12-17\n*/\n\npragma solidity ^0.4.23;\n\n/**\n * @title SafeMaths\n * @dev Math operations with safety checks that throw on error\n */\n\nlibrary SafeMath {\n    function mul(uint256 a, uint256 b) internal constant returns (uint256) {\n        uint256 c = a * b;\n        assert(a == 0 || c / a == b);\n        return c;\n    }\n\n    function div(uint256 a, uint256 b) internal constant returns (uint256) {\n        // assert(b > 0); // Solidity automatically throws when dividing by 0\n        uint256 c = a / b;\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n        return c;\n    }\n\n    function sub(uint256 a, uint256 b) internal constant returns (uint256) {\n        assert(b <= a);\n        return a - b;\n    }\n\n    function add(uint256 a, uint256 b) internal constant returns (uint256) {\n        uint256 c = a + b;\n        assert(c >= a);\n        return c;\n    }\n}\n\ncontract HotLot {\n    using SafeMath for uint256;\n\n    uint256 public INTERVAL_TIME = 8 hours;\n    uint256 public JACKPOT_INTERVAL_TIME = 72 hours;\n    uint256 public constant PERCENT_REWARD_TO_JACKPOT = 20;\n    uint256 public constant PERCENT_REWARD_TOP_RANK = 30;\n    uint256 public constant PERCENT_REWARD_TOP1 = 60;\n    uint256 public constant PERCENT_REWARD_TOP2 = 30;\n    uint256 public constant PERCENT_REWARD_TOP3 = 10;\n    uint256 public DEPOSIT_AMOUNT = 0.02 * (10 ** 18);\n\n    address public owner;\n    address public winner1;\n    uint256 public winnerAmount1 = 0;\n    address public winner2;\n    uint256 public winnerAmount2 = 0;\n    address public winner3;\n    uint256 public winnerAmount3 = 0;\n\n    address public winnerJackpot1;\n    uint256 public winnerJackpotAmount1 = 0;\n    address public winnerJackpot2;\n    uint256 public winnerJackpotAmount2 = 0;\n    address public winnerJackpot3;\n    uint256 public winnerJackpotAmount3 = 0;\n\n    uint256 public amountRound = 0;\n    uint256 public amountJackpot = 0;\n    uint256 public roundTime;\n    uint256 public jackpotTime;\n    uint256 public countPlayerRound = 0;\n    uint256 public countPlayerJackpot = 0;\n    uint256 public countRound = 0;\n    uint256 public countJackpot = 0;\n    uint256 private _seed;\n\n    struct Player {\n        address wallet;\n        bool playing;\n        bool playingJackpot;\n    }\n\n    Player[] public players;\n\n    event DepositSuccess(address _from, uint256 _amount, uint256 countRound, uint256 countJackpot);\n    event RewardRoundWinner(\n        address wallet1, \n        uint256 amount1, \n        address wallet2, \n        uint256 amount2, \n        address wallet3, \n        uint256 amount3, \n        uint256 rewardRank\n    );\n    event RewardJackpotWinner(\n        address wallet1, uint256 amount1, \n        address wallet2, uint256 amount2, \n        address wallet3, uint256 amount3, \n        uint256 rewardRank\n    );\n\n    function HotLot() public {\n        owner = msg.sender;\n        roundTime = now.add(INTERVAL_TIME);\n        jackpotTime = now.add(JACKPOT_INTERVAL_TIME);\n    }\n\n    /**\n    * Throws if called by any account other than the owner.\n    */\n    modifier onlyOwner() {\n        require(msg.sender == owner);\n        _;\n    }\n\n    function () payable {\n        deposit();\n    }\n\n    /**\n    * Deposit from player\n    */\n    function deposit() public payable {\n        require(msg.value >= DEPOSIT_AMOUNT);\n\n        players.push(Player({\n            wallet: msg.sender,\n            playing: true,\n            playingJackpot: true\n        }));\n\n        amountRound = amountRound.add(msg.value);\n        countPlayerRound = countPlayerRound.add(1);\n        countPlayerJackpot = countPlayerJackpot.add(1);\n\n        emit DepositSuccess(msg.sender, msg.value, countRound, countJackpot);\n\n        if (now >= roundTime && amountRound > 0 && countPlayerRound > 1) {\n            roundTime = now.add(INTERVAL_TIME);\n            executeRound();\n\n            if (now >= jackpotTime && amountJackpot > 0 && countPlayerJackpot > 1) {\n                jackpotTime = now.add(JACKPOT_INTERVAL_TIME);\n                executeJackpot();\n            }\n        }\n    }\n\n    function executeRound() private {\n        uint256 count = 0;\n        address wallet1;\n        address wallet2;\n        address wallet3;\n        uint256 luckyNumber1 = generateLuckyNumber(countPlayerRound);\n        uint256 luckyNumber2 = generateLuckyNumber(countPlayerRound);\n        uint256 luckyNumber3 = generateLuckyNumber(countPlayerRound);\n\n        for (uint256 i = 0; i < players.length; i++) {\n            if (players[i].playing) {\n                count = count.add(1);\n                if (count == luckyNumber1) {\n                    wallet1 = players[i].wallet;\n                }\n                if (count == luckyNumber2) {\n                    wallet2 = players[i].wallet;\n                }\n                if (count == luckyNumber3) {\n                    wallet3 = players[i].wallet;\n                }\n                players[i].playing = false;\n            }\n        }\n\n        countRound = countRound.add(1);\n        uint256 rewardRank = amountRound.mul(PERCENT_REWARD_TOP_RANK).div(100);\n        uint256 amountToJackpot = amountRound.mul(PERCENT_REWARD_TO_JACKPOT).div(100);\n        uint256 reward = amountRound.sub(rewardRank.add(amountToJackpot));\n\n        amountJackpot = amountJackpot.add(amountToJackpot);\n\n        winnerAmount1 = reward.mul(PERCENT_REWARD_TOP1).div(100);\n        winner1 = wallet1;\n        winnerAmount2 = reward.mul(PERCENT_REWARD_TOP2).div(100);\n        winner2 = wallet2;\n        winnerAmount3 = reward.sub(winnerAmount1.add(winnerAmount2));\n        winner3 = wallet3;\n\n        amountRound = 0;\n        countPlayerRound = 0;\n\n        winner1.transfer(winnerAmount1);\n        winner2.transfer(winnerAmount2);\n        winner3.transfer(winnerAmount3);\n        owner.transfer(rewardRank);\n\n        emit RewardRoundWinner(\n            winner1, \n            winnerAmount1, \n            winner2, \n            winnerAmount2, \n            winner3, \n            winnerAmount3, \n            rewardRank\n        );\n    }\n\n    function executeJackpot() private {\n        uint256 count = 0;\n        address wallet1;\n        address wallet2;\n        address wallet3;\n        uint256 luckyNumber1 = generateLuckyNumber(countPlayerJackpot);\n        uint256 luckyNumber2 = generateLuckyNumber(countPlayerJackpot);\n        uint256 luckyNumber3 = generateLuckyNumber(countPlayerJackpot);\n\n        for (uint256 i = 0; i < players.length; i++) {\n            if (players[i].playingJackpot) {\n                count = count.add(1);\n                if (count == luckyNumber1) {\n                    wallet1 = players[i].wallet;\n                }\n                if (count == luckyNumber2) {\n                    wallet2 = players[i].wallet;\n                }\n                if (count == luckyNumber3) {\n                    wallet3 = players[i].wallet;\n                }\n                players[i].playing = false;\n            }\n        }\n\n        uint256 rewardRank = amountJackpot.mul(PERCENT_REWARD_TOP_RANK).div(100);\n        uint256 reward = amountJackpot.sub(rewardRank);\n\n        winnerJackpotAmount1 = reward.mul(PERCENT_REWARD_TOP1).div(100);\n        winnerJackpot1 = wallet1;\n        winnerJackpotAmount2 = reward.mul(PERCENT_REWARD_TOP2).div(100);\n        winnerJackpot2 = wallet2;\n        winnerJackpotAmount3 = reward.sub(winnerJackpotAmount1.add(winnerJackpotAmount2));\n        winnerJackpot3 = wallet3;\n\n        countJackpot = countJackpot.add(1);\n        amountJackpot = 0;\n        countPlayerJackpot = 0;\n        delete players;\n\n        owner.transfer(rewardRank);\n        winnerJackpot1.transfer(winnerJackpotAmount1);\n        winnerJackpot2.transfer(winnerJackpotAmount2);\n        winnerJackpot3.transfer(winnerJackpotAmount3);\n\n        emit RewardJackpotWinner(\n            winnerJackpot1, \n            winnerJackpotAmount1, \n            winnerJackpot2, \n            winnerJackpotAmount2, \n            winnerJackpot3, \n            winnerJackpotAmount3, \n            rewardRank\n        );\n    }\n\n    function maxRandom() public returns (uint256 number) {\n        _seed = uint256(keccak256(\n            _seed,\n            block.blockhash(block.number - 1),\n            block.coinbase,\n            block.difficulty,\n            players.length,\n            countPlayerJackpot,\n            countPlayerRound,\n            winnerJackpot1,\n            winnerJackpotAmount1,\n            winnerAmount1,\n            winner1,\n            now\n        ));\n\n        return _seed;\n    }\n\n    function generateLuckyNumber(uint256 maxNumber) private returns (uint256 number) {\n        return (maxRandom() % maxNumber) + 1;\n    }\n\n    /**\n    * Allows the current owner to transfer control of the contract to a newOwner.\n    * _newOwner The address to transfer ownership to.\n    */\n    function transferOwnership(address _newOwner) public onlyOwner {\n        require(_newOwner != owner);\n        require(_newOwner != address(0x0));\n\n        owner = _newOwner;\n    }\n    \n    function setIntervalTime(uint256 _time) public onlyOwner {\n        require(_time > 0);\n        INTERVAL_TIME = _time;\n    }\n    \n    function setIntervalJackpotTime(uint256 _time) public onlyOwner {\n        require(_time > 0);\n        JACKPOT_INTERVAL_TIME = _time;\n    }\n    \n    function setMinAmountDeposit(uint256 _amount) public onlyOwner {\n        require(_amount > 0);\n        DEPOSIT_AMOUNT = _amount;\n    }\n}",
  "bytecode": "60806040526170806000556203f48060015566470de4df8200006002556000600555600060075560006009556000600b556000600d556000600f5560006010556000601155600060145560006015556000601655600060175534801561006457600080fd5b5060038054600160a060020a03191633600160a060020a031617905560005461009b9042906401000000006100c181026109d51704565b6012556001546100b99042906401000000006109d56100c182021704565b6013556100d7565b6000828201838110156100d057fe5b9392505050565b6112da806100e66000396000f3006080604052600436106101c15763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166301a3694e81146101cb578063079692de146101fc5780630d63e87d146102235780631d3c7fc31461023b57806320d00018146102505780633bc25ed6146102655780634b761cc21461027a57806360f8244a1461028f578063612251ad146102a45780636a168c15146102b95780636fc0abda146102ce578063718eed41146102e357806380bf69c2146102f8578063875b7d411461030d5780638da5cb5b1461032257806394d6b33014610337578063a4ddd4b51461028f578063b0482a5e1461034c578063b0b0e2d414610361578063b304305b14610376578063b3af88f11461038e578063bfc88da6146103a3578063cc990518146103b8578063cef94f6e146103cd578063d0e30db0146101c1578063d6b47c0f146103e2578063e72f5f63146103f7578063e82a03db1461040c578063ea56abf214610424578063ec6925a714610439578063ed3ca1551461044e578063ee5f8c8f14610463578063f2fde38b14610478578063f3bf0aa614610499578063f71d96cb146104ae578063f81b5c5b146104f0575b6101c9610505565b005b3480156101d757600080fd5b506101e061070b565b60408051600160a060020a039092168252519081900360200190f35b34801561020857600080fd5b5061021161071a565b60408051918252519081900360200190f35b34801561022f57600080fd5b506101c9600435610720565b34801561024757600080fd5b5061021161074d565b34801561025c57600080fd5b50610211610752565b34801561027157600080fd5b506101e0610758565b34801561028657600080fd5b50610211610767565b34801561029b57600080fd5b5061021161076d565b3480156102b057600080fd5b506101e0610772565b3480156102c557600080fd5b50610211610781565b3480156102da57600080fd5b50610211610787565b3480156102ef57600080fd5b5061021161078d565b34801561030457600080fd5b50610211610793565b34801561031957600080fd5b506101e0610799565b34801561032e57600080fd5b506101e06107a8565b34801561034357600080fd5b506102116107b7565b34801561035857600080fd5b506101e06107bd565b34801561036d57600080fd5b506102116107cc565b34801561038257600080fd5b506101c96004356107d2565b34801561039a57600080fd5b506102116107ff565b3480156103af57600080fd5b50610211610805565b3480156103c457600080fd5b5061021161080b565b3480156103d957600080fd5b50610211610810565b3480156103ee57600080fd5b50610211610816565b34801561040357600080fd5b5061021161081c565b34801561041857600080fd5b506101c96004356108c0565b34801561043057600080fd5b506102116108ed565b34801561044557600080fd5b506102116108f3565b34801561045a57600080fd5b506102116108f9565b34801561046f57600080fd5b506102116108fe565b34801561048457600080fd5b506101c9600160a060020a0360043516610904565b3480156104a557600080fd5b50610211610971565b3480156104ba57600080fd5b506104c6600435610977565b60408051600160a060020a0390941684529115156020840152151582820152519081900360600190f35b3480156104fc57600080fd5b506101e06109c6565b60025434101561051457600080fd5b6040805160608101825233600160a060020a03908116825260016020830181815293830181815260198054928301815560005292517f944998273e477b495144fb8794c914197f3ccb46be2900f4698fd0ef743c9695909101805494519351600160a060020a0319909516919092161774ff0000000000000000000000000000000000000000191660a060020a921515929092029190911775ff00000000000000000000000000000000000000000019167501000000000000000000000000000000000000000000921515929092029190911790556010546105f690346109d5565b60105560145461060d90600163ffffffff6109d516565b60145560155461062490600163ffffffff6109d516565b60155560165460175460408051600160a060020a0333168152346020820152808201939093526060830191909152517f9010d8a729851b50dc712eae22752c0fe92f1b9565ba74f4af2f076886a8bf6c9181900360800190a1601254421015801561069157506000601054115b801561069f57506001601454115b15610709576000546106b890429063ffffffff6109d516565b6012556106c36109eb565b60135442101580156106d757506000601154115b80156106e557506001601554115b15610709576001546106fe90429063ffffffff6109d516565b601355610709610e0c565b565b600654600160a060020a031681565b60175481565b60035433600160a060020a0390811691161461073b57600080fd5b6000811161074857600080fd5b600055565b600a81565b60135481565b600454600160a060020a031681565b60005481565b601e81565b600e54600160a060020a031681565b60075481565b60145481565b60095481565b60015481565b600c54600160a060020a031681565b600354600160a060020a031681565b60115481565b600a54600160a060020a031681565b60155481565b60035433600160a060020a039081169116146107ed57600080fd5b600081116107fa57600080fd5b600255565b60105481565b600b5481565b603c81565b600d5481565b60055481565b60188054601954601554601454600a54600b546005546004546040805198895260001943014060208a01526c01000000000000000000000000600160a060020a0341811682028b8401524460548c015260748b019990995260948a019790975260b4890195909552928616850260d488015260e8870191909152610108860152909216026101288301524261013c830152519081900361015c019020908190555b90565b60035433600160a060020a039081169116146108db57600080fd5b600081116108e857600080fd5b600155565b60165481565b60025481565b601481565b60125481565b60035433600160a060020a0390811691161461091f57600080fd5b600354600160a060020a038281169116141561093a57600080fd5b600160a060020a038116151561094f57600080fd5b60038054600160a060020a031916600160a060020a0392909216919091179055565b600f5481565b601980548290811061098557fe5b600091825260209091200154600160a060020a038116915060ff60a060020a8204811691750100000000000000000000000000000000000000000090041683565b600854600160a060020a031681565b6000828201838110156109e457fe5b9392505050565b6000806000806000806000806000806000809a50610a0a6014546111ea565b9650610a176014546111ea565b9550610a246014546111ea565b9450600093505b601954841015610b4e576019805485908110610a4357fe5b60009182526020909120015460a060020a900460ff1615610b4357610a6f8b600163ffffffff6109d516565b9a50868b1415610a9f576019805485908110610a8757fe5b600091825260209091200154600160a060020a031699505b858b1415610acd576019805485908110610ab557fe5b600091825260209091200154600160a060020a031698505b848b1415610afb576019805485908110610ae357fe5b600091825260209091200154600160a060020a031697505b6000601985815481101515610b0c57fe5b6000918252602090912001805491151560a060020a0274ff0000000000000000000000000000000000000000199092169190911790555b600190930192610a2b565b601654610b6290600163ffffffff6109d516565b601655601054610b8c90606490610b8090601e63ffffffff61120916565b9063ffffffff61122d16565b9250610ba96064610b80601460105461120990919063ffffffff16565b9150610bcd610bbe848463ffffffff6109d516565b6010549063ffffffff61124416565b601154909150610be3908363ffffffff6109d516565b601155610bfc6064610b8083603c63ffffffff61120916565b60055560048054600160a060020a031916600160a060020a038c16179055610c2a6064610b8083601e611209565b600781905560068054600160a060020a031916600160a060020a038c16179055600554610c6891610c5b91906109d5565b829063ffffffff61124416565b60095560088054600160a060020a031916600160a060020a038a81169190911790915560006010819055601481905560045460055460405191909316926108fc81150292909190818181858888f19350505050158015610ccc573d6000803e3d6000fd5b50600654600754604051600160a060020a039092169181156108fc0291906000818181858888f19350505050158015610d09573d6000803e3d6000fd5b50600854600954604051600160a060020a039092169181156108fc0291906000818181858888f19350505050158015610d46573d6000803e3d6000fd5b50600354604051600160a060020a039091169084156108fc029085906000818181858888f19350505050158015610d81573d6000803e3d6000fd5b5060045460055460065460075460085460095460408051600160a060020a0397881681526020810196909652938616858501526060850192909252909316608083015260a082019290925260c0810185905290517fad6bb25eeb7bb6c3b3d79b89c77f53d5c04c4ebfbcf0ab62ba975e538f330f649181900360e00190a15050505050505050505050565b60008060008060008060008060008060009950610e2a6015546111ea565b9550610e376015546111ea565b9450610e446015546111ea565b9350600092505b601954831015610f80576019805484908110610e6357fe5b6000918252602090912001547501000000000000000000000000000000000000000000900460ff1615610f7557610ea18a600163ffffffff6109d516565b9950858a1415610ed1576019805484908110610eb957fe5b600091825260209091200154600160a060020a031698505b848a1415610eff576019805484908110610ee757fe5b600091825260209091200154600160a060020a031697505b838a1415610f2d576019805484908110610f1557fe5b600091825260209091200154600160a060020a031696505b6000601984815481101515610f3e57fe5b6000918252602090912001805491151560a060020a0274ff0000000000000000000000000000000000000000199092169190911790555b600190920191610e4b565b610f9b6064610b80601e60115461120990919063ffffffff16565b601154909250610fb1908363ffffffff61124416565b9050610fc96064610b8083603c63ffffffff61120916565b600b55600a8054600160a060020a031916600160a060020a038b16179055610ff76064610b8083601e611209565b600d819055600c8054600160a060020a031916600160a060020a038b16179055600b5461102891610c5b91906109d5565b600f55600e8054600160a060020a031916600160a060020a0389161790556017546110549060016109d5565b60175560006011819055601581905561106f90601990611256565b600354604051600160a060020a039091169083156108fc029084906000818181858888f193505050501580156110a9573d6000803e3d6000fd5b50600a54600b54604051600160a060020a039092169181156108fc0291906000818181858888f193505050501580156110e6573d6000803e3d6000fd5b50600c54600d54604051600160a060020a039092169181156108fc0291906000818181858888f19350505050158015611123573d6000803e3d6000fd5b50600e54600f54604051600160a060020a039092169181156108fc0291906000818181858888f19350505050158015611160573d6000803e3d6000fd5b50600a54600b54600c54600d54600e54600f5460408051600160a060020a0397881681526020810196909652938616858501526060850192909252909316608083015260a082019290925260c0810184905290517fc7714dc6aabe93a3f3041e1a661478da72f6b82fae4d3cb8409b20e43d6c87c39181900360e00190a150505050505050505050565b6000816111f561081c565b8115156111fe57fe5b066001019050919050565b6000828202831580611225575082848281151561122257fe5b04145b15156109e457fe5b600080828481151561123b57fe5b04949350505050565b60008282111561125057fe5b50900390565b50805460008255906000526020600020908101906112749190611277565b50565b6108bd91905b808211156112aa57805475ffffffffffffffffffffffffffffffffffffffffffff1916815560010161127d565b50905600a165627a7a72305820d31b339b40bb4967e7af754ba2c246837de815455865b8778f56ef70161005b10029"
}